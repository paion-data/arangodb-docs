<!doctype html><html lang=en><head><link href=//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css rel=stylesheet><link href=//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css rel=stylesheet><link href=/css/fontawesome-all.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fontawesome-all.min.css rel=stylesheet></noscript><link href=/css/featherlight.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/featherlight.min.css rel=stylesheet></noscript><link href=/css/nucleus.css rel=stylesheet><link href=/css/fonts.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fonts.css rel=stylesheet></noscript><link href=/css/theme.css rel=stylesheet><link href=/css/theme-relearn-light.css rel=stylesheet id=variant-style><link href=/css/print.css rel=stylesheet media=print><script src=/js/variant.js?1743774193></script>
<script>var root_url="/",baseUriFull,baseUri=root_url.replace(/\/$/,"");window.T_Copy_to_clipboard="",window.T_Copied_to_clipboard="",window.T_Copy_link_to_clipboard="",window.T_Link_copied_to_clipboard="",baseUriFull="http://localhost/",window.variants&&variants.init(["relearn-light"])</script><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.119.0"><meta itemprop=description property="description" content="How to create a consistent snapshot with the arangobackup tool"><meta property="og:url" content="http://localhost/3.10/components/tools/arangobackup/examples/"><meta property="og:title" content="Hot Backup Examples"><meta property="og:type" content="website"><meta property="og:description" content="How to create a consistent snapshot with the arangobackup tool"><meta name=docsearch:version content="3.10"><title>Hot Backup Examples | ArangoDB Documentation</title><link href=/images/favicon.png rel=icon type=image/png><script src=/js/jquery.min.js></script>
<script src=/js/clipboard.min.js?1743774193 defer></script>
<script src=/js/featherlight.min.js?1743774193 defer></script>
<script>var versions=[{alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"},{alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"},{alias:"3.11",deprecated:!1,name:"3.11",version:"3.11.13"},{alias:"3.10",deprecated:!0,name:"3.10",version:"3.10.14"}]</script><script>var develVersion={alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"}</script><script>var stableVersion={alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"}</script><script src=/js/codeblocks.js?1743774193 defer></script>
<script src=/js/theme.js?1743774193 defer></script></head><body><noscript>You need to enable JavaScript to use the ArangoDB documentation.</noscript><div id=page-wrapper class=page_content_splash style=height:auto;opacity:0><section id=page-main><section class=page-container id=page-container><header id=header style="transition:.5s padding ease-out,.15s" class="zn_header_white header-splash-new nav-down header-splash-wrap header1"><div class=header-block-left><div class=mobile-menu-toggle><button id=sidebar-toggle-navigation onclick=showSidebarHandler()><svg width="1.33em" height="1.33em" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button></div><div class=version-logo-container><div class="logo-container hasinfocard_img arangodb-logo-large"><div class=logo><a href=https://www.arangodb.com/><img src=/images/logo_main.png alt=ArangoDB title></a></div></div><div class=arangodb-logo-small><a href=https://arangodb.com/><img alt="ArangoDB Logo" src=/images/ArangoDB_Logo_White_small.png></a></div></div></div><div class=container-right style=display:hidden></div><div class=search-and-version-container><a href=# class="home-link is-current" aria-label="Go to home page" onclick=goToHomepage(event)></a><div id=searchbox></div><script type=text/javascript>const SCRIPT_SRC="https://unpkg.com/@inkeep/widgets-embed@0.2.290/dist/embed.js";function loadAndInitializeInkeep(){if(document.querySelector(`script[src="${SCRIPT_SRC}]"`))return;const e=document.createElement("script");e.type="module",e.src=SCRIPT_SRC,e.onload=initializeInkeep,document.head.appendChild(e)}function initializeInkeep(){const e=Inkeep({integrationId:"clo4lx6jk0000s601cp21x2ok",apiKey:"13b4e56966a76e86c6ff359cd795ee6a0412f751d75d6383",organizationId:"org_HGBkkzGAa4KeGJGh",organizationDisplayName:"ArangoDB",primaryBrandColor:"#80a54d",stringReplacementRules:[{matchingRule:{ruleType:"Substring",string:"Arangograph"},replaceWith:"ArangoGraph"},{matchingRule:{ruleType:"Substring",string:"Aql"},replaceWith:"AQL"},{matchingRule:{ruleType:"Substring",string:"Arangodb"},replaceWith:"ArangoDB"}],customCardSettings:[{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arango.qubitpi.org"}},searchTabLabel:"Official Docs"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"developer.arangodb.com"}},searchTabLabel:"Developer Hub"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arangodb.com"}},searchTabLabel:"Home"}]}),t=e.embed({componentType:"ChatButton",properties:{stylesheetUrls:["/css/fonts.css"],fixedPositionXOffset:"52px",baseSettings:{theme:{primaryColors:{textColorOnPrimary:"white"},tokens:{fonts:{body:"'Inter'",heading:"'Inter'"},zIndex:{overlay:1e4,modal:11e3,popover:12e3,skipLink:13e3,toast:14e3,tooltip:15e3}}}},aiChatSettings:{botAvatarSrcUrl:"/images/ArangoDB_Logo_White_small.png",quickQuestions:["What can you do with AQL that is not feasible with SQL?","How do I search for objects within arrays?","Where can I deploy my ArangoDB instance?"],getHelpCallToActions:[{icon:{builtIn:"FaSlack"},name:"Slack",url:"https://arangodb-community.slack.com/"}]},searchSettings:{tabSettings:{isAllTabEnabled:!1,alwaysDisplayedTabs:["Official Docs","Developer Hub","Home"]}}}})}loadAndInitializeInkeep()</script><div class=version-selector><select id=arangodb-version onchange=changeVersion()><option value=3.13>3.13</option><option value=3.12>3.12</option><option value=3.11>3.11</option><option value=3.10>3.10</option><option value=3.9>3.9</option><option value=3.8>3.8</option></select></div></div></header><iframe src=/nav.html title=description id=menu-iframe class="menu-iframe active" style=opacity:0></iframe><div class=container-main><div class=row-main><nav id=breadcrumbs><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><meta itemprop=itemListOrder content="Descending"><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="3.10"><a itemprop=item class=link href=/3.10/><span itemprop=name class=breadcrumb-entry>3.10.14</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Components"><a itemprop=item class=link href=/3.10/components/><span itemprop=name class=breadcrumb-entry>Components</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Tools"><a itemprop=item class=link href=/3.10/components/tools/><span itemprop=name class=breadcrumb-entry>Tools</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="arangobackup"><a itemprop=item class=link href=/3.10/components/tools/arangobackup/><span itemprop=name class=breadcrumb-entry>arangobackup</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Examples"><a itemprop=item class=link href=/3.10/components/tools/arangobackup/examples/><span itemprop=name class=breadcrumb-entry>Examples</span></a></li></ol></nav><article class=default><div class="box notices cstyle warning"><div class=box-content-container><div class=box-content><i class="fas fa-exclamation-triangle"></i><div class=box-text><p>ArangoDB v3.10 reached End of Life (EOL) and is no longer supported.</p><p>This documentation is outdated. Please see the most recent <a href=/3.12/components/tools/arangobackup/examples/ class=link>stable version</a>.</p></div></div></div></div><hgroup><h1>Hot Backup Examples</h1><p class=lead>How to create a consistent snapshot with the <code>arangobackup</code> tool</p></hgroup><h2 id=create>Create <a href=/3.10/components/tools/arangobackup/examples/#create class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>Hot backups are created near instantaneously. The single server as
well as other deployment modes try to obtain a global write transaction lock
to enforce consistency across all servers, databases, collections
etc. Hot backups still require no Data Definition operations (e.g., create
database, create collection) to be active at the time of hot backup, please
review the <a href=/3.10/operations/backup-and-restore/#hot-backup-limitations class=link>requirements and limitations</a>
for more details.</p><p>Once that lock could be acquired the hot backup itself is most
readily described as a consistent snapshot on the local file system.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>arangobackup create --server.endpoint tcp://myserver:8529 --label my-label 
</span></span></code></pre></div><p>The above will create a hot backup with a unique identifier consisting
of the UTC time according to the local computer clock output and the
specified label and report the success like below.</p><pre tabindex=0><code>2019-05-15T13:57:11Z [15213] INFO {backup} Server version: 3.5.1
2019-05-15T14:20:16Z [15397] INFO {backup} Backup succeeded. Generated identifier &#39;2019-05-15T14.20.15Z_my-label&#39;
</code></pre><div class="box notices cstyle tip"><div class=box-content-container><div class=box-content><i class="fas fa-check"></i><div class=box-text>If the <code>label</code> marker is omitted then a unique identifier string is
generated instead.</div></div></div></div><p>There are more options for the cluster mode regarding the acquisition of the
global write transaction lock:</p><ul><li><code>--max-wait-for-lock</code>: configures how long the system tries to get the global
write transaction lock before it reports failure. Its value must be a number
in seconds (default: 120 seconds).</li><li><code>--allow-inconsistent</code>: if set to <code>false</code> (default), the operation is
considered to have failed if the maximal waiting time for the lock is
exceeded. If set to <code>true</code>, the system will take a potentially non-consistent
hot backup when the timeout is exceeded.</li><li><code>--force</code>: will make arangobackup abort ongoing write transactions in order
to more quickly acquire the global write transaction lock. This option should
be used with caution, as it will potentially abort valid write transactions,
meaning client applications will see errors for otherwise valid operations
and queries. The force option currently only aborts Stream Transactions but
no JavaScript Transactions.</li></ul><h2 id=restore>Restore <a href=/3.10/components/tools/arangobackup/examples/#restore class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>Once a hot backup is created, one can use the generated backup id,
for example <code>2019-05-15T14.36.38Z_my-label</code> to restore the <strong>entire</strong>
instance to that &ldquo;snapshot&rdquo;.</p><div class="box notices cstyle warning"><div class=box-content-container><div class=box-content><i class="fas fa-exclamation-triangle"></i><div class=box-text><p>Keep in mind that such a restore is a global operation and affects
<strong>all databases</strong> in an installation. The restore will roll back all data
including in the meantime databases, collections, indexes etc.
The DB-Server of a single server instance and all DB-Servers
of a cluster will subsequently be restarted.</p><p>Datacenter-to-Datacenter Replication (DC2DC) needs to be stopped before
restoring a Hot Backup.</p></div></div></div></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>arangobackup restore --server.username root --identifier 2019-05-15T14.36.38Z_my-label 
</span></span></code></pre></div><p>The output will reflect the restore operation&rsquo;s success:</p><pre tabindex=0><code class=language-log data-lang=log>2019-05-15T15:24:14Z [16201] INFO {backup} Server version: 3.5.1
2019-05-15T15:24:14Z [16201] INFO {backup} Successfully restored &#39;2019-05-15T14.36.38Z_my-label&#39;
</code></pre><h2 id=delete>Delete <a href=/3.10/components/tools/arangobackup/examples/#delete class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>Hot backups, analogous to virtual machine snapshots, cause additional
disk usage. With every hot backup a consistent state in time is
frozen. Later changes will then have to hold a difference to older
hot backups. Compactions can no longer cover events before the last
hot backup. Naturally, one may want to be able to free disk space, once
hot backups become obsolete.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>arangobackup delete --server.username root --identifier &lt;identifier&gt;
</span></span></code></pre></div><p>The result of the operation is thus delivered:</p><pre tabindex=0><code>2019-05-15T15:34:34Z [16257] INFO {backup} Server version: 3.5.1
2019-05-15T15:34:34Z [16257] INFO {backup} Successfully deleted &#39;2019-05-15T13.57.03Z&#39;
</code></pre><h2 id=list>List <a href=/3.10/components/tools/arangobackup/examples/#list class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>One may hold a multitude of hot backups. Those would all be available
to restore from. In order to get a listing of such hot backups, one
may use the <code>list</code> command.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>arangobackup list
</span></span></code></pre></div><p>The output lists all available hot backups:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>2019-05-15T15:28:17Z <span class=o>[</span>16224<span class=o>]</span> INFO <span class=o>{</span>backup<span class=o>}</span> Server version: 3.5.1
</span></span><span class=line><span class=cl>2019-05-15T15:28:17Z <span class=o>[</span>16224<span class=o>]</span> INFO <span class=o>{</span>backup<span class=o>}</span> The following backups are available:
</span></span><span class=line><span class=cl>2019-05-15T15:28:17Z <span class=o>[</span>16224<span class=o>]</span> INFO <span class=o>{</span>backup<span class=o>}</span>  - 2019-05-15T13.57.11Z_my-label
</span></span><span class=line><span class=cl>2019-05-15T15:28:17Z <span class=o>[</span>16224<span class=o>]</span> INFO <span class=o>{</span>backup<span class=o>}</span>  - 2019-05-15T13.57.03Z-other-label
</span></span></code></pre></div><h2 id=upload>Upload <a href=/3.10/components/tools/arangobackup/examples/#upload class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>Hot backups can be uploaded to a remote repository, here is an example which
uses the <code>S3</code> protocol:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>arangobackup upload --server.endpoint tcp://myserver:8529 --rclone-config-file /path/to/remote.json --identifier 2019-05-13T07.15.43Z_some-label --remote-path S3://remote-endpoint/remote-directory
</span></span></code></pre></div><p>The output will look like this:</p><pre tabindex=0><code>2019-07-30T08:10:10Z [17184] INFO [06792] {backup} Server version: 3.5.1
2019-07-30T08:10:10Z [17184] INFO [a9597] {backup} Backup initiated, use 
2019-07-30T08:10:10Z [17184] INFO [4c459] {backup}     arangobackup upload --status-id=114
2019-07-30T08:10:10Z [17184] INFO [5cd70] {backup}  to query progress.
</code></pre><p>This uses a file <code>remote.json</code> in the current directory to configure
credentials for the remote site. Here is an example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;my-s3&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;s3&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;provider&#34;</span><span class=p>:</span> <span class=s2>&#34;aws&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;env_auth&#34;</span><span class=p>:</span> <span class=s2>&#34;false&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;access_key_id&#34;</span><span class=p>:</span> <span class=s2>&#34;XXXXXXXXXXXXXXXXXXXX&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;secret_access_key&#34;</span><span class=p>:</span> <span class=s2>&#34;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;region&#34;</span><span class=p>:</span> <span class=s2>&#34;xx-xxxx-x&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;acl&#34;</span><span class=p>:</span> <span class=s2>&#34;private&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>This process may take as long as it needs to upload the data from the
single server or all of the cluster&rsquo;s DB-Servers to the remote
location. However, the upload will take advantage from previously
uploaded hot backups which might contain identical files. Therefore, the
functionality is incremental, if regular hot backups are taken and uploaded
to the same remote site.</p><p>The status of the process may be acquired at any later time.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>arangobackup upload --server.endpoint tcp://myserver:8529 --status-id<span class=o>=</span><span class=m>114</span>
</span></span></code></pre></div><p>where the number given in the <code>--status-id</code> option is the one which was
reported in the original upload command.</p><p>The output will look like this:</p><pre tabindex=0><code>2019-07-30T08:11:09Z [17465] INFO [06792] {backup} Server version: 3.5.1
2019-07-30T08:11:09Z [17465] INFO [24d75] {backup} SNGL Status: COMPLETED
2019-07-30T08:11:09Z [17465] INFO [68cc8] {backup} Last progress update 2019-07-30T08:10:10Z: 5/5 files done
</code></pre><p>See <a href=#rclone-configuration class=link>rclone Configuration</a> for details about the <code>remote.json</code>
file to configure the remote site for <code>rclone</code> for different protocols than S3.</p><h2 id=download>Download <a href=/3.10/components/tools/arangobackup/examples/#download class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>Hot backups can be downloaded from a remote repository like this:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>arangobackup download --server.endpoint tcp://myserver:8529 --rclone-config-file /path/to/remote.json --identifier 2019-05-13T07.15.43Z_some-label --remote-path S3://remote-endpoint/remote-directory
</span></span></code></pre></div><p>The output will look like this:</p><pre tabindex=0><code>2019-07-30T08:14:43Z [17621] INFO [06792] {backup} Server version: 3.5.1
2019-07-30T08:14:43Z [17621] INFO [a9597] {backup} Backup initiated, use 
2019-07-30T08:14:43Z [17621] INFO [4c459] {backup}     arangobackup download --status-id=250
2019-07-30T08:14:43Z [17621] INFO [5cd70] {backup}  to query progress.
</code></pre><p>This process may take as long as it needs to download the data to
the single server or all of the cluster&rsquo;s DB-Servers from the remote
endpoint given network limitations. However, the download will take
advantage from other hot backups which might already or still be present
locally that contain identical files. Therefore, the functionality is
incremental, if a hot backup is downloaded and a similar one is already
present.</p><p>The status of the download process may be acquired at any later time.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>arangobackup download --server.endpoint tcp://myserver:8529 --status-id<span class=o>=</span><span class=m>250</span>
</span></span></code></pre></div><p>The output will look like this:</p><pre tabindex=0><code>2019-07-30T08:18:07Z [17753] INFO [06792] {backup} Server version: 3.5.1
2019-07-30T08:18:07Z [17753] INFO [24d75] {backup} SNGL Status: COMPLETED
2019-07-30T08:18:07Z [17753] INFO [68cc8] {backup} Last progress update 2019-07-30T08:14:43Z: 5/5 files done
</code></pre><h2 id=rclone-configuration>Rclone Configuration <a href=/3.10/components/tools/arangobackup/examples/#rclone-configuration class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><a href=https://rclone.org/ target=_blank rel="noopener noreferrer" class=link>Rclone</a>&nbsp;<i class="fas fa-external-link-alt"></i> is a versatile open-source
remote file sync program that can deal with over 30 different remote file
IO protocols. Enterprise Editions of ArangoDB come with a bundled version
of rclone, which is distributed under the MIT license. It is used to
both download and upload hot backup sets to and from local and cloud
operated storage resources.</p><div class="box notices cstyle info"><div class=box-content-container><div class=box-content><i class="fas fa-info-circle"></i><div class=box-text>Hot backup directories, which are subject to an ongoing download cannot
be used for restores until the download has finished.</div></div></div></div><p>To configure rclone, use the <code>rclone-config-file</code> startup option to
point arangobackup to a JSON configuration file. The expected format
is an object with user-chosen remote names as attribute keys, and the
actual configuration as attribute value (a nested object). The option
names and values in the <a href=https://rclone.org/docs/ target=_blank rel="noopener noreferrer" class=link>rclone documentation</a>&nbsp;<i class="fas fa-external-link-alt"></i>
directly translate into attribute/value pairs in the JSON file.
Note that <code>"true"</code> and <code>"false"</code> must be enclosed by double quotes.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;my-remote&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;option&#34;</span><span class=p>:</span> <span class=s2>&#34;value&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;boolean&#34;</span><span class=p>:</span> <span class=s2>&#34;true&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>The remote path can be specified via the <code>remote-path</code> startup option.
The syntax for remote paths is <code>remote:path</code>, where <code>remote</code> is the
name of a top-level attribute in the configuration file, <code>path</code> is a
remote path, and both are separated by a colon (e.g. <code>my-remote:/a/b/c</code>).</p><div class="box notices cstyle info"><div class=box-content-container><div class=box-content><i class="fas fa-info-circle"></i><div class=box-text>Some cloud vendors require rclone configuration parameters, which are very
specific. It is helpful to download a standalone version of rclone and try to
upload and download files to verify that one has a working configuration for
the cloud storage in question. The exhaustive documentation parameters of <code>S3</code>
for example are found at <a href=https://rclone.org/s3/ target=_blank rel="noopener noreferrer" class=link>rclone.org/s3/</a>&nbsp;<i class="fas fa-external-link-alt"></i>.
Every parameter can be executed as an option to the program invocation, say
<code>--s3-upload-cutoff=0</code>, as an environment variable like
<code>export RCLONE_S3_UPLOAD_CUTOFF=0</code>, or most importantly, for use with ArangoDB,
as a key value pair for the JSON files below, <code>{ ..., "upload_cutoff": 0, ... }</code>.</div></div></div></div><h3 id=s3>S3 <a href=/3.10/components/tools/arangobackup/examples/#s3 class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>… --rclone-config-file ~/my-s3.json --remote-path my-s3://remote-endpoint/remote-directory
</span></span></code></pre></div><p>The file <code>my-s3.json</code> could look like this:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;my-s3&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;s3&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;provider&#34;</span><span class=p>:</span> <span class=s2>&#34;aws&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;env_auth&#34;</span><span class=p>:</span> <span class=s2>&#34;false&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;access_key_id&#34;</span><span class=p>:</span> <span class=s2>&#34;XXXXXXXXXXXXXXXXXXXX&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;secret_access_key&#34;</span><span class=p>:</span> <span class=s2>&#34;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;region&#34;</span><span class=p>:</span> <span class=s2>&#34;xx-xxxx-x&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;acl&#34;</span><span class=p>:</span> <span class=s2>&#34;private&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>More examples and details for S3 configurations can be found at
<a href=https://rclone.org/s3/ target=_blank rel="noopener noreferrer" class=link>rclone.org/s3/</a>&nbsp;<i class="fas fa-external-link-alt"></i>.</p><h3 id=locally-mounted-local-or-remote-volumes>Locally mounted local or remote volumes <a href=/3.10/components/tools/arangobackup/examples/#locally-mounted-local-or-remote-volumes class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>… --rclone-config-file ~/my-local.json --remote-path my-local://mnt/backup/arangodb
</span></span></code></pre></div><p>The file <code>my-local.json</code> could look like this:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;my-local&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;local&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;copy-links&#34;</span><span class=p>:</span> <span class=s2>&#34;false&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;links&#34;</span><span class=p>:</span> <span class=s2>&#34;false&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;one_file_system&#34;</span><span class=p>:</span> <span class=s2>&#34;false&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>More examples and details for local configurations can be found at
<a href=https://rclone.org/local/ target=_blank rel="noopener noreferrer" class=link>rclone.org/local/</a>&nbsp;<i class="fas fa-external-link-alt"></i>.</p><h3 id=webdav>WebDAV <a href=/3.10/components/tools/arangobackup/examples/#webdav class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>… --rclone-config-file ~/my-dav.json --remote-path my-dav://remote-endpoint/remote-directory
</span></span></code></pre></div><p>This file <code>my-dav.json</code> could look like this:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;my-dav&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;pass&#34;</span><span class=p>:</span> <span class=s2>&#34;A0OeLviBmwqKyCi7S6Rnn6dG576cJeRN1Nh0Dm5h8k0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;webdav&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;url&#34;</span><span class=p>:</span> <span class=s2>&#34;https://dav.myserver.com&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;user&#34;</span><span class=p>:</span> <span class=s2>&#34;davuser&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;vendor&#34;</span><span class=p>:</span> <span class=s2>&#34;other&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>More examples and details on WebDAV configurations can be found
<a href=https://rclone.org/webdav/ target=_blank rel="noopener noreferrer" class=link>rclone.org/webdav/</a>&nbsp;<i class="fas fa-external-link-alt"></i>.</p><nav class=pagination><span class=prev><a class="nav nav-prev link" href=/3.10/components/tools/arangobackup/><i class="fas fa-chevron-left fa-fw"></i><p>arangobackup</p></a></span><span class=next><a class="nav nav-next link" href=/3.10/components/tools/arangobackup/options/><p>Options</p><i class="fas fa-chevron-right fa-fw"></i></a></span></nav></article><div class=toc-container><a class=edit-page aria-label href=https://github.com/arangodb/docs-hugo/edit/main/site/content/3.10/components/tools/arangobackup/examples.md target=_blank><i class="fab fa-fw fa-github edit-page-icon"></i></a><div class=toc><div class=toc-content><div class=toc-header><p>On this page</p></div><nav id=TableOfContents><div class=level-2><a href=#create>Create</a></div><div class=level-2><a href=#restore>Restore</a></div><div class=level-2><a href=#delete>Delete</a></div><div class=level-2><a href=#list>List</a></div><div class=level-2><a href=#upload>Upload</a></div><div class=level-2><a href=#download>Download</a></div><div class=level-2><a href=#rclone-configuration>Rclone Configuration</a></div><div class=level-3><a href=#s3>S3</a></div><div class=level-3><a href=#locally-mounted-local-or-remote-volumes>Locally mounted local or remote volumes</a></div><div class=level-3><a href=#webdav>WebDAV</a></div></nav></div></div></div></div></div></section></section></div><button class="back-to-top hidden" onclick=goToTop(event) href=#><i class="fa fa-arrow-up"></i></button><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3>
<script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3></script>
<script type=text/javascript>window.setupDocSearch=function(e){if(!window.docsearch)return;docsearch({appId:"OK3ZBQ5982",apiKey:"500c85ccecb335d507fe4449aed12e1d",indexName:"arangodbdocs",insights:!0,container:"#searchbox",debug:!1,maxResultsPerGroup:10,searchParameters:{facetFilters:[`version:${e}`]}})}</script></body></html>