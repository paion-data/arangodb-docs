<!doctype html><html lang=en><head><link href=//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css rel=stylesheet><link href=//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css rel=stylesheet><link href=/css/fontawesome-all.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fontawesome-all.min.css rel=stylesheet></noscript><link href=/css/featherlight.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/featherlight.min.css rel=stylesheet></noscript><link href=/css/nucleus.css rel=stylesheet><link href=/css/fonts.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fonts.css rel=stylesheet></noscript><link href=/css/theme.css rel=stylesheet><link href=/css/theme-relearn-light.css rel=stylesheet id=variant-style><link href=/css/print.css rel=stylesheet media=print><script src=/js/variant.js?1747031427></script>
<script>var root_url="/",baseUriFull,baseUri=root_url.replace(/\/$/,"");window.T_Copy_to_clipboard="",window.T_Copied_to_clipboard="",window.T_Copy_link_to_clipboard="",window.T_Link_copied_to_clipboard="",baseUriFull="http://localhost/",window.variants&&variants.init(["relearn-light"])</script><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.119.0"><meta itemprop=description property="description" content="How to create and use SatelliteGraphs"><meta property="og:url" content="http://localhost/3.10/graphs/satellitegraphs/details/"><meta property="og:title" content="SatelliteGraph Details"><meta property="og:type" content="website"><meta property="og:description" content="How to create and use SatelliteGraphs"><meta name=docsearch:version content="3.10"><title>SatelliteGraph Details | ArangoDB Documentation</title><link href=/images/favicon.png rel=icon type=image/png><script src=/js/jquery.min.js></script>
<script src=/js/clipboard.min.js?1747031427 defer></script>
<script src=/js/featherlight.min.js?1747031427 defer></script>
<script>var versions=[{alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"},{alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"},{alias:"3.11",deprecated:!1,name:"3.11",version:"3.11.13"},{alias:"3.10",deprecated:!0,name:"3.10",version:"3.10.14"}]</script><script>var develVersion={alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"}</script><script>var stableVersion={alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"}</script><script src=/js/codeblocks.js?1747031427 defer></script>
<script src=/js/theme.js?1747031427 defer></script></head><body><noscript>You need to enable JavaScript to use the ArangoDB documentation.</noscript><div id=page-wrapper class=page_content_splash style=height:auto;opacity:0><section id=page-main><section class=page-container id=page-container><header id=header style="transition:.5s padding ease-out,.15s" class="zn_header_white header-splash-new nav-down header-splash-wrap header1"><div class=header-block-left><div class=mobile-menu-toggle><button id=sidebar-toggle-navigation onclick=showSidebarHandler()><svg width="1.33em" height="1.33em" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button></div><div class=version-logo-container><div class="logo-container hasinfocard_img arangodb-logo-large"><div class=logo><a href=https://www.arangodb.com/><img src=/images/logo_main.png alt=ArangoDB title></a></div></div><div class=arangodb-logo-small><a href=https://arangodb.com/><img alt="ArangoDB Logo" src=/images/ArangoDB_Logo_White_small.png></a></div></div></div><div class=container-right style=display:hidden></div><div class=search-and-version-container><a href=# class="home-link is-current" aria-label="Go to home page" onclick=goToHomepage(event)></a><div id=searchbox></div><script type=text/javascript>const SCRIPT_SRC="https://unpkg.com/@inkeep/widgets-embed@0.2.290/dist/embed.js";function loadAndInitializeInkeep(){if(document.querySelector(`script[src="${SCRIPT_SRC}]"`))return;const e=document.createElement("script");e.type="module",e.src=SCRIPT_SRC,e.onload=initializeInkeep,document.head.appendChild(e)}function initializeInkeep(){const e=Inkeep({integrationId:"clo4lx6jk0000s601cp21x2ok",apiKey:"13b4e56966a76e86c6ff359cd795ee6a0412f751d75d6383",organizationId:"org_HGBkkzGAa4KeGJGh",organizationDisplayName:"ArangoDB",primaryBrandColor:"#80a54d",stringReplacementRules:[{matchingRule:{ruleType:"Substring",string:"Arangograph"},replaceWith:"ArangoGraph"},{matchingRule:{ruleType:"Substring",string:"Aql"},replaceWith:"AQL"},{matchingRule:{ruleType:"Substring",string:"Arangodb"},replaceWith:"ArangoDB"}],customCardSettings:[{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arango.qubitpi.org"}},searchTabLabel:"Official Docs"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"developer.arangodb.com"}},searchTabLabel:"Developer Hub"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arangodb.com"}},searchTabLabel:"Home"}]}),t=e.embed({componentType:"ChatButton",properties:{stylesheetUrls:["/css/fonts.css"],fixedPositionXOffset:"52px",baseSettings:{theme:{primaryColors:{textColorOnPrimary:"white"},tokens:{fonts:{body:"'Inter'",heading:"'Inter'"},zIndex:{overlay:1e4,modal:11e3,popover:12e3,skipLink:13e3,toast:14e3,tooltip:15e3}}}},aiChatSettings:{botAvatarSrcUrl:"/images/ArangoDB_Logo_White_small.png",quickQuestions:["What can you do with AQL that is not feasible with SQL?","How do I search for objects within arrays?","Where can I deploy my ArangoDB instance?"],getHelpCallToActions:[{icon:{builtIn:"FaSlack"},name:"Slack",url:"https://arangodb-community.slack.com/"}]},searchSettings:{tabSettings:{isAllTabEnabled:!1,alwaysDisplayedTabs:["Official Docs","Developer Hub","Home"]}}}})}loadAndInitializeInkeep()</script><div class=version-selector><select id=arangodb-version onchange=changeVersion()><option value=3.13>3.13</option><option value=3.12>3.12</option><option value=3.11>3.11</option><option value=3.10>3.10</option><option value=3.9>3.9</option><option value=3.8>3.8</option></select></div></div></header><iframe src=/nav.html title=description id=menu-iframe class="menu-iframe active" style=opacity:0></iframe><div class=container-main><div class=row-main><nav id=breadcrumbs><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><meta itemprop=itemListOrder content="Descending"><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="3.10"><a itemprop=item class=link href=/3.10/><span itemprop=name class=breadcrumb-entry>3.10.14</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Graphs"><a itemprop=item class=link href=/3.10/graphs/><span itemprop=name class=breadcrumb-entry>Graphs</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="SatelliteGraphs"><a itemprop=item class=link href=/3.10/graphs/satellitegraphs/><span itemprop=name class=breadcrumb-entry>SatelliteGraphs</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Details"><a itemprop=item class=link href=/3.10/graphs/satellitegraphs/details/><span itemprop=name class=breadcrumb-entry>Details</span></a></li></ol></nav><article class=default><div class="box notices cstyle warning"><div class=box-content-container><div class=box-content><i class="fas fa-exclamation-triangle"></i><div class=box-text><p>ArangoDB v3.10 reached End of Life (EOL) and is no longer supported.</p><p>This documentation is outdated. Please see the most recent <a href=/3.12/graphs/satellitegraphs/details/ class=link>stable version</a>.</p></div></div></div></div><hgroup><h1>SatelliteGraph Details</h1><p class=lead>How to create and use SatelliteGraphs</p></hgroup><p>Below you find usage examples and advanced configuration possibilities for
SatelliteGraphs. The examples use <em>arangosh</em> and the
<code>@arangodb/satellite-graph</code> module. You can also manage SatelliteGraphs via
the <a href=/3.10/develop/http-api/graphs/named-graphs/ class=link>HTTP API</a>.</p><h2 id=how-to-create-a-satellitegraph>How to create a SatelliteGraph <a href=/3.10/graphs/satellitegraphs/details/#how-to-create-a-satellitegraph class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>SatelliteGraphs enforce and rely on special properties of the underlying
collections and hence can only work with collections that are either created
implicitly through the SatelliteGraph interface, or manually with the correct
properties:</p><ul><li>There needs to be a <a href=#the-prototype-collection class=link>prototype collection</a> with
<code>replicationFactor</code> set to <code>"satellite"</code></li><li>All other collections need to have <code>distributeShardsLike</code> set to the name
of the prototype collection</li></ul><p>Collections can be part of multiple SatelliteGraphs. This means that in
contrast to SmartGraphs, SatelliteGraphs can be overlapping. If you have a
larger SatelliteGraph and want to create an additional SatelliteGraph which
only covers a part of it, then you can do so.</p><h3 id=create-a-graph>Create a graph <a href=/3.10/graphs/satellitegraphs/details/#create-a-graph class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>To create a SatelliteGraph in arangosh, use the <code>satellite-graph</code> module:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>satelliteGraphModule</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s2>&#34;@arangodb/satellite-graph&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>graph</span> <span class=o>=</span> <span class=nx>satelliteGraphModule</span><span class=p>.</span><span class=nx>_create</span><span class=p>(</span><span class=s2>&#34;satelliteGraph&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>graph</span> <span class=o>=</span> <span class=nx>satelliteGraphModule</span><span class=p>.</span><span class=nx>_graph</span><span class=p>(</span><span class=s2>&#34;satelliteGraph&#34;</span><span class=p>);</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>{[</span><span class=nx>SatelliteGraph</span><span class=p>]</span> 
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div></div><br><p>In contrast to General Graphs and SmartGraphs, you do not need to take care of
the sharding and replication properties. The properties <code>distributeShardsLike</code>,
<code>replicationFactor</code> and <code>numberOfShards</code> will be set automatically.</p><h3 id=add-vertex-collections>Add vertex collections <a href=/3.10/graphs/satellitegraphs/details/#add-vertex-collections class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>Adding vertex collections is analogous to General Graphs:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>graph</span> <span class=o>=</span> <span class=nx>satelliteGraphModule</span><span class=p>.</span><span class=nx>_create</span><span class=p>(</span><span class=s2>&#34;satelliteGraph&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>graph</span><span class=p>.</span><span class=nx>_addVertexCollection</span><span class=p>(</span><span class=s2>&#34;aVertexCollection&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>graph</span> <span class=o>=</span> <span class=nx>satelliteGraphModule</span><span class=p>.</span><span class=nx>_graph</span><span class=p>(</span><span class=s2>&#34;satelliteGraph&#34;</span><span class=p>);</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>{[</span><span class=nx>SatelliteGraph</span><span class=p>]</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;aVertexCollection&#34;</span> <span class=o>:</span> <span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>6010775</span><span class=p>,</span> <span class=s2>&#34;aVertexCollection&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nb>document</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)]</span> 
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div></div><br><p>If the collection <code>"aVertexCollection"</code> doesn&rsquo;t exist yet, then the
SatelliteGraph module creates it automatically with the correct
properties. If it exists already, then its properties must be suitable for a
SatelliteGraph (see <a href=#the-prototype-collection class=link>prototype collection</a>).
Otherwise, it is not added.</p><h3 id=define-relations>Define relations <a href=/3.10/graphs/satellitegraphs/details/#define-relations class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>Adding edge collections works the same as with General Graphs, but again, the
collections are created by the SatelliteGraph module with the right properties
if they don&rsquo;t exist already.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>graph</span> <span class=o>=</span> <span class=nx>satelliteGraphModule</span><span class=p>.</span><span class=nx>_create</span><span class=p>(</span><span class=s2>&#34;satelliteGraph&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>relation</span> <span class=o>=</span> <span class=nx>satelliteGraphModule</span><span class=p>.</span><span class=nx>_relation</span><span class=p>(</span><span class=s2>&#34;isFriend&#34;</span><span class=p>,</span> <span class=p>[</span><span class=s2>&#34;person&#34;</span><span class=p>],</span> <span class=p>[</span><span class=s2>&#34;person&#34;</span><span class=p>]);</span>
</span></span><span class=line><span class=cl><span class=nx>graph</span><span class=p>.</span><span class=nx>_extendEdgeDefinitions</span><span class=p>(</span><span class=nx>relation</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>graph</span> <span class=o>=</span> <span class=nx>satelliteGraphModule</span><span class=p>.</span><span class=nx>_graph</span><span class=p>(</span><span class=s2>&#34;satelliteGraph&#34;</span><span class=p>);</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>{[</span><span class=nx>SatelliteGraph</span><span class=p>]</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;isFriend&#34;</span> <span class=o>:</span> <span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>6010785</span><span class=p>,</span> <span class=s2>&#34;isFriend&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nx>edge</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)],</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;person&#34;</span> <span class=o>:</span> <span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>6010783</span><span class=p>,</span> <span class=s2>&#34;person&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nb>document</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)]</span> 
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div></div><br><p>Existing edge collections can be added, but they require the
<code>distributeShardsLike</code> property to reference the prototype collection.</p><h2 id=the-prototype-collection>The prototype collection <a href=/3.10/graphs/satellitegraphs/details/#the-prototype-collection class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>Every SatelliteGraph needs exactly one document collection with
<code>replicationFactor</code> set to <code>"satellite"</code>. This automatically leads to the
collection having an exact amount of one shard per collection. This collection
is selected as prototype.</p><p>All other collections of the SatelliteGraph need to inherit its properties by
referencing its name in the <code>distributeShardsLike</code> property.</p><p>If collections are created implicitly through the SatelliteGraph module, then
this is handled for you automatically. If you want to create the collections
manually before adding them to the SatelliteGraph, then you need to take care
of these properties.</p><h3 id=prototype-collection-examples>Prototype collection examples <a href=/3.10/graphs/satellitegraphs/details/#prototype-collection-examples class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>Creating an empty SatelliteGraph: No prototype collection is present.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>satelliteGraphModule</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s2>&#34;@arangodb/satellite-graph&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>graph</span> <span class=o>=</span> <span class=nx>satelliteGraphModule</span><span class=p>.</span><span class=nx>_create</span><span class=p>(</span><span class=s2>&#34;satelliteGraph&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>graph</span><span class=p>;</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>{[</span><span class=nx>SatelliteGraph</span><span class=p>]</span> 
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div></div><br><p>Creating an empty SatelliteGraph, then adding a document (vertex) collection.
This leads to the creation of a prototype collection <code>"myPrototypeColl"</code>
(assuming that no collection with this name existed before):</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>satelliteGraphModule</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s2>&#34;@arangodb/satellite-graph&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>graph</span> <span class=o>=</span> <span class=nx>satelliteGraphModule</span><span class=p>.</span><span class=nx>_create</span><span class=p>(</span><span class=s2>&#34;satelliteGraph&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>graph</span><span class=p>.</span><span class=nx>_addVertexCollection</span><span class=p>(</span><span class=s2>&#34;myPrototypeColl&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>graph</span> <span class=o>=</span> <span class=nx>satelliteGraphModule</span><span class=p>.</span><span class=nx>_graph</span><span class=p>(</span><span class=s2>&#34;satelliteGraph&#34;</span><span class=p>);</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>{[</span><span class=nx>SatelliteGraph</span><span class=p>]</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;myPrototypeColl&#34;</span> <span class=o>:</span> <span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>6010795</span><span class=p>,</span> <span class=s2>&#34;myPrototypeColl&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nb>document</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)]</span> 
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div></div><br><p>Creating an empty SatelliteGraph, then adding an edge definition.
This will select the collection <code>"person"</code> as prototype collection, as it is
the only document (vertex) collection. If you supply more than one document
collection, then one of the collections will be chosen arbitrarily as
prototype collection.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>satelliteGraphModule</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s2>&#34;@arangodb/satellite-graph&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>graph</span> <span class=o>=</span> <span class=nx>satelliteGraphModule</span><span class=p>.</span><span class=nx>_create</span><span class=p>(</span><span class=s2>&#34;satelliteGraph&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>relation</span> <span class=o>=</span> <span class=nx>satelliteGraphModule</span><span class=p>.</span><span class=nx>_relation</span><span class=p>(</span><span class=s2>&#34;isFriend&#34;</span><span class=p>,</span> <span class=p>[</span><span class=s2>&#34;person&#34;</span><span class=p>],</span> <span class=p>[</span><span class=s2>&#34;person&#34;</span><span class=p>]);</span>
</span></span><span class=line><span class=cl><span class=nx>graph</span><span class=p>.</span><span class=nx>_extendEdgeDefinitions</span><span class=p>(</span><span class=nx>relation</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>graph</span> <span class=o>=</span> <span class=nx>satelliteGraphModule</span><span class=p>.</span><span class=nx>_graph</span><span class=p>(</span><span class=s2>&#34;satelliteGraph&#34;</span><span class=p>);</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>{[</span><span class=nx>SatelliteGraph</span><span class=p>]</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;isFriend&#34;</span> <span class=o>:</span> <span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>6010805</span><span class=p>,</span> <span class=s2>&#34;isFriend&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nx>edge</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)],</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;person&#34;</span> <span class=o>:</span> <span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>6010803</span><span class=p>,</span> <span class=s2>&#34;person&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nb>document</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)]</span> 
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div></div><br><p>The prototype collection can and also is automatically selected during the
graph creation process if at least one document (vertex) collection is supplied
directly. If more then one are available, they are chosen randomly as well,
regardless whether they are set inside the edge definition itself or set as a
vertex/orphan collection.</p><h2 id=utilizing-satellitegraphs>Utilizing SatelliteGraphs <a href=/3.10/graphs/satellitegraphs/details/#utilizing-satellitegraphs class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>Obviously, a SatelliteGraph must be created before it can be queried. Valid
operations that can then be optimized are (k-)shortest path(s) computations and
traversals. Both also allow for combination with local joins or other
SatelliteGraph operations.</p><p>Here is an example showing the difference between the execution of a General Graph
and a SatelliteGraph traversal query:</p><ol><li><p>First we setup our graphs and collections.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>graphModule</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s2>&#34;@arangodb/general-graph&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>satelliteGraphModule</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s2>&#34;@arangodb/satellite-graph&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>graphModule</span><span class=p>.</span><span class=nx>_create</span><span class=p>(</span><span class=s2>&#34;normalGraph&#34;</span><span class=p>,</span> <span class=p>[</span> <span class=nx>graphModule</span><span class=p>.</span><span class=nx>_relation</span><span class=p>(</span><span class=s2>&#34;edges&#34;</span><span class=p>,</span> <span class=s2>&#34;vertices&#34;</span><span class=p>,</span> <span class=s2>&#34;vertices&#34;</span><span class=p>)</span> <span class=p>],</span> <span class=p>[],</span> <span class=p>{});</span>
</span></span><span class=line><span class=cl><span class=nx>satelliteGraphModule</span><span class=p>.</span><span class=nx>_create</span><span class=p>(</span><span class=s2>&#34;satelliteGraph&#34;</span><span class=p>,</span> <span class=p>[</span> <span class=nx>satelliteGraphModule</span><span class=p>.</span><span class=nx>_relation</span><span class=p>(</span><span class=s2>&#34;satEdges&#34;</span><span class=p>,</span> <span class=s2>&#34;satVertices&#34;</span><span class=p>,</span> <span class=s2>&#34;satVertices&#34;</span><span class=p>)</span> <span class=p>],</span> <span class=p>[],</span> <span class=p>{});</span>
</span></span><span class=line><span class=cl><span class=nx>db</span><span class=p>.</span><span class=nx>_create</span><span class=p>(</span><span class=s2>&#34;collection&#34;</span><span class=p>,</span> <span class=p>{</span><span class=nx>numberOfShards</span><span class=o>:</span> <span class=mi>8</span><span class=p>});</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>{[</span><span class=nx>GeneralGraph</span><span class=p>]</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;edges&#34;</span> <span class=o>:</span> <span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>6010815</span><span class=p>,</span> <span class=s2>&#34;edges&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nx>edge</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)],</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;vertices&#34;</span> <span class=o>:</span> <span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>6010814</span><span class=p>,</span> <span class=s2>&#34;vertices&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nb>document</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)]</span> 
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>{[</span><span class=nx>SatelliteGraph</span><span class=p>]</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;satEdges&#34;</span> <span class=o>:</span> <span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>6010822</span><span class=p>,</span> <span class=s2>&#34;satEdges&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nx>edge</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)],</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;satVertices&#34;</span> <span class=o>:</span> <span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>6010820</span><span class=p>,</span> <span class=s2>&#34;satVertices&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nb>document</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)]</span> 
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>6010826</span><span class=p>,</span> <span class=s2>&#34;collection&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nb>document</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)]</span></span></span></code></pre></div></div></div><br></li><li><p>Let us analyze a query involving a traversal:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>db</span><span class=p>.</span><span class=nx>_explain</span><span class=p>(</span><span class=sb>`FOR doc in collection FOR v,e,p IN OUTBOUND &#34;vertices/start&#34; GRAPH &#34;normalGraph&#34; RETURN [doc,v,e,p]`</span><span class=p>,</span> <span class=p>{},</span> <span class=p>{</span><span class=nx>colors</span><span class=o>:</span> <span class=kc>false</span><span class=p>});</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>Query</span> <span class=nb>String</span> <span class=p>(</span><span class=mi>99</span> <span class=nx>chars</span><span class=p>,</span> <span class=nx>cacheable</span><span class=o>:</span> <span class=kc>true</span><span class=p>)</span><span class=o>:</span>
</span></span><span class=line><span class=cl> <span class=nx>FOR</span> <span class=nx>doc</span> <span class=k>in</span> <span class=nx>collection</span> <span class=nx>FOR</span> <span class=nx>v</span><span class=p>,</span><span class=nx>e</span><span class=p>,</span><span class=nx>p</span> <span class=nx>IN</span> <span class=nx>OUTBOUND</span> <span class=s2>&#34;vertices/start&#34;</span> <span class=nx>GRAPH</span> <span class=s2>&#34;normalGraph&#34;</span> <span class=nx>RETURN</span> <span class=p>[</span><span class=nx>doc</span><span class=p>,</span><span class=nx>v</span><span class=p>,</span><span class=nx>e</span><span class=p>,</span><span class=nx>p</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>Execution</span> <span class=nx>plan</span><span class=o>:</span>
</span></span><span class=line><span class=cl> <span class=nx>Id</span>   <span class=nx>NodeType</span>                  <span class=nx>Site</span>  <span class=nx>Est</span><span class=p>.</span>   <span class=nx>Comment</span>
</span></span><span class=line><span class=cl>  <span class=mi>1</span>   <span class=nx>SingletonNode</span>             <span class=nx>DBS</span>      <span class=mi>1</span>   <span class=o>*</span> <span class=nx>ROOT</span>
</span></span><span class=line><span class=cl>  <span class=mi>2</span>   <span class=nx>EnumerateCollectionNode</span>   <span class=nx>DBS</span>      <span class=mi>0</span>     <span class=o>-</span> <span class=nx>FOR</span> <span class=nx>doc</span> <span class=nx>IN</span> <span class=nx>collection</span>   <span class=cm>/* full collection scan, 8 shard(s)  */</span>
</span></span><span class=line><span class=cl>  <span class=mi>8</span>   <span class=nx>RemoteNode</span>                <span class=nx>COOR</span>     <span class=mi>0</span>       <span class=o>-</span> <span class=nx>REMOTE</span>
</span></span><span class=line><span class=cl>  <span class=mi>9</span>   <span class=nx>GatherNode</span>                <span class=nx>COOR</span>     <span class=mi>0</span>       <span class=o>-</span> <span class=nx>GATHER</span>   <span class=cm>/* unsorted */</span>
</span></span><span class=line><span class=cl>  <span class=mi>3</span>   <span class=nx>TraversalNode</span>             <span class=nx>COOR</span>     <span class=mi>1</span>       <span class=o>-</span> <span class=nx>FOR</span> <span class=nx>v</span>  <span class=cm>/* vertex */</span><span class=p>,</span> <span class=nx>e</span>  <span class=cm>/* edge */</span><span class=p>,</span> <span class=nx>p</span>  <span class=cm>/* paths: vertices, edges */</span> <span class=nx>IN</span> <span class=mf>1.</span><span class=p>.</span><span class=mi>1</span>  <span class=cm>/* min..maxPathDepth */</span> <span class=nx>OUTBOUND</span> <span class=s1>&#39;vertices/start&#39;</span> <span class=cm>/* startnode */</span>  <span class=nx>GRAPH</span> <span class=s1>&#39;normalGraph&#39;</span>
</span></span><span class=line><span class=cl>  <span class=mi>4</span>   <span class=nx>CalculationNode</span>           <span class=nx>COOR</span>     <span class=mi>1</span>         <span class=o>-</span> <span class=nx>LET</span> <span class=err>#</span><span class=mi>6</span> <span class=o>=</span> <span class=p>[</span> <span class=nx>doc</span><span class=p>,</span> <span class=nx>v</span><span class=p>,</span> <span class=nx>e</span><span class=p>,</span> <span class=nx>p</span> <span class=p>]</span>   <span class=cm>/* simple expression */</span>   <span class=cm>/* collections used: doc : collection */</span>
</span></span><span class=line><span class=cl>  <span class=mi>5</span>   <span class=nx>ReturnNode</span>                <span class=nx>COOR</span>     <span class=mi>1</span>         <span class=o>-</span> <span class=nx>RETURN</span> <span class=err>#</span><span class=mi>6</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>Indexes</span> <span class=nx>used</span><span class=o>:</span>
</span></span><span class=line><span class=cl> <span class=nx>By</span>   <span class=nx>Name</span>   <span class=nx>Type</span>   <span class=nx>Collection</span>   <span class=nx>Unique</span>   <span class=nx>Sparse</span>   <span class=nx>Cache</span>   <span class=nx>Selectivity</span>   <span class=nx>Fields</span>        <span class=nx>Stored</span> <span class=nx>values</span>   <span class=nx>Ranges</span>
</span></span><span class=line><span class=cl>  <span class=mi>3</span>   <span class=nx>edge</span>   <span class=nx>edge</span>   <span class=nx>edges</span>        <span class=kc>false</span>    <span class=kc>false</span>    <span class=kc>false</span>      <span class=mf>100.00</span> <span class=o>%</span>   <span class=p>[</span> <span class=sb>`_from`</span> <span class=p>]</span>   <span class=p>[</span>  <span class=p>]</span>            <span class=nx>base</span> <span class=nx>OUTBOUND</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>Traversals</span> <span class=nx>on</span> <span class=nx>graphs</span><span class=o>:</span>
</span></span><span class=line><span class=cl> <span class=nx>Id</span>  <span class=nx>Depth</span>  <span class=nx>Vertex</span> <span class=nx>collections</span>  <span class=nx>Edge</span> <span class=nx>collections</span>  <span class=nx>Options</span>                                  <span class=nx>Filter</span> <span class=o>/</span> <span class=nx>Prune</span> <span class=nx>Conditions</span>
</span></span><span class=line><span class=cl> <span class=mi>3</span>   <span class=mf>1.</span><span class=p>.</span><span class=mi>1</span>   <span class=nx>vertices</span>            <span class=nx>edges</span>             <span class=nx>uniqueVertices</span><span class=o>:</span> <span class=nx>none</span><span class=p>,</span> <span class=nx>uniqueEdges</span><span class=o>:</span> <span class=nx>path</span>                           
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>Optimization</span> <span class=nx>rules</span> <span class=nx>applied</span><span class=o>:</span>
</span></span><span class=line><span class=cl> <span class=nx>Id</span>   <span class=nx>RuleName</span>
</span></span><span class=line><span class=cl>  <span class=mi>1</span>   <span class=nx>scatter</span><span class=o>-</span><span class=k>in</span><span class=o>-</span><span class=nx>cluster</span>
</span></span><span class=line><span class=cl>  <span class=mi>2</span>   <span class=nx>remove</span><span class=o>-</span><span class=nx>unnecessary</span><span class=o>-</span><span class=nx>remote</span><span class=o>-</span><span class=nx>scatter</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=mi>62</span> <span class=nx>rule</span><span class=p>(</span><span class=nx>s</span><span class=p>)</span> <span class=nx>executed</span><span class=p>,</span> <span class=mi>1</span> <span class=nx>plan</span><span class=p>(</span><span class=nx>s</span><span class=p>)</span> <span class=nx>created</span><span class=p>,</span> <span class=nx>peak</span> <span class=nx>mem</span> <span class=p>[</span><span class=nx>b</span><span class=p>]</span><span class=o>:</span> <span class=mi>0</span><span class=p>,</span> <span class=nx>exec</span> <span class=nx>time</span> <span class=p>[</span><span class=nx>s</span><span class=p>]</span><span class=o>:</span> <span class=mf>0.00145</span></span></span></code></pre></div></div></div><br><p>You can see that the <code>TraversalNode</code> is executed on a Coordinator, and only
the <code>EnumerateCollectionNode</code> is executed on DB-Servers. This happens for
each of the 8 shards in <code>collection</code>.</p></li><li><p>Let us now have a look at the same query using a SatelliteGraph:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>db</span><span class=p>.</span><span class=nx>_explain</span><span class=p>(</span><span class=sb>`FOR doc in collection FOR v,e,p IN OUTBOUND &#34;vertices/start&#34; GRAPH &#34;satelliteGraph&#34; RETURN [doc,v,e,p]`</span><span class=p>,</span> <span class=p>{},</span> <span class=p>{</span><span class=nx>colors</span><span class=o>:</span> <span class=kc>false</span><span class=p>});</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>Query</span> <span class=nb>String</span> <span class=p>(</span><span class=mi>102</span> <span class=nx>chars</span><span class=p>,</span> <span class=nx>cacheable</span><span class=o>:</span> <span class=kc>true</span><span class=p>)</span><span class=o>:</span>
</span></span><span class=line><span class=cl> <span class=nx>FOR</span> <span class=nx>doc</span> <span class=k>in</span> <span class=nx>collection</span> <span class=nx>FOR</span> <span class=nx>v</span><span class=p>,</span><span class=nx>e</span><span class=p>,</span><span class=nx>p</span> <span class=nx>IN</span> <span class=nx>OUTBOUND</span> <span class=s2>&#34;vertices/start&#34;</span> <span class=nx>GRAPH</span> <span class=s2>&#34;satelliteGraph&#34;</span> <span class=nx>RETURN</span> 
</span></span><span class=line><span class=cl> <span class=p>[</span><span class=nx>doc</span><span class=p>,</span><span class=nx>v</span><span class=p>,</span><span class=nx>e</span><span class=p>,</span><span class=nx>p</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>Execution</span> <span class=nx>plan</span><span class=o>:</span>
</span></span><span class=line><span class=cl> <span class=nx>Id</span>   <span class=nx>NodeType</span>                  <span class=nx>Site</span>  <span class=nx>Est</span><span class=p>.</span>   <span class=nx>Comment</span>
</span></span><span class=line><span class=cl>  <span class=mi>1</span>   <span class=nx>SingletonNode</span>             <span class=nx>DBS</span>      <span class=mi>1</span>   <span class=o>*</span> <span class=nx>ROOT</span>
</span></span><span class=line><span class=cl>  <span class=mi>2</span>   <span class=nx>EnumerateCollectionNode</span>   <span class=nx>DBS</span>      <span class=mi>0</span>     <span class=o>-</span> <span class=nx>FOR</span> <span class=nx>doc</span> <span class=nx>IN</span> <span class=nx>collection</span>   <span class=cm>/* full collection scan, 8 shard(s)  */</span>
</span></span><span class=line><span class=cl> <span class=mi>10</span>   <span class=nx>TraversalNode</span>             <span class=nx>DBS</span>      <span class=mi>1</span>       <span class=o>-</span> <span class=nx>FOR</span> <span class=nx>v</span>  <span class=cm>/* vertex */</span><span class=p>,</span> <span class=nx>e</span>  <span class=cm>/* edge */</span><span class=p>,</span> <span class=nx>p</span>  <span class=cm>/* paths: vertices, edges */</span> <span class=nx>IN</span> <span class=mf>1.</span><span class=p>.</span><span class=mi>1</span>  <span class=cm>/* min..maxPathDepth */</span> <span class=nx>OUTBOUND</span> <span class=s1>&#39;vertices/start&#39;</span> <span class=cm>/* startnode */</span>  <span class=nx>GRAPH</span> <span class=s1>&#39;satelliteGraph&#39;</span> <span class=cm>/* local graph node, used as satellite */</span>
</span></span><span class=line><span class=cl>  <span class=mi>4</span>   <span class=nx>CalculationNode</span>           <span class=nx>DBS</span>      <span class=mi>1</span>         <span class=o>-</span> <span class=nx>LET</span> <span class=err>#</span><span class=mi>6</span> <span class=o>=</span> <span class=p>[</span> <span class=nx>doc</span><span class=p>,</span> <span class=nx>v</span><span class=p>,</span> <span class=nx>e</span><span class=p>,</span> <span class=nx>p</span> <span class=p>]</span>   <span class=cm>/* simple expression */</span>   <span class=cm>/* collections used: doc : collection */</span>
</span></span><span class=line><span class=cl> <span class=mi>13</span>   <span class=nx>RemoteNode</span>                <span class=nx>COOR</span>     <span class=mi>1</span>         <span class=o>-</span> <span class=nx>REMOTE</span>
</span></span><span class=line><span class=cl> <span class=mi>14</span>   <span class=nx>GatherNode</span>                <span class=nx>COOR</span>     <span class=mi>1</span>         <span class=o>-</span> <span class=nx>GATHER</span>   <span class=cm>/* parallel, unsorted */</span>
</span></span><span class=line><span class=cl>  <span class=mi>5</span>   <span class=nx>ReturnNode</span>                <span class=nx>COOR</span>     <span class=mi>1</span>         <span class=o>-</span> <span class=nx>RETURN</span> <span class=err>#</span><span class=mi>6</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>Indexes</span> <span class=nx>used</span><span class=o>:</span>
</span></span><span class=line><span class=cl> <span class=nx>By</span>   <span class=nx>Name</span>   <span class=nx>Type</span>   <span class=nx>Collection</span>   <span class=nx>Unique</span>   <span class=nx>Sparse</span>   <span class=nx>Cache</span>   <span class=nx>Selectivity</span>   <span class=nx>Fields</span>        <span class=nx>Stored</span> <span class=nx>values</span>   <span class=nx>Ranges</span>
</span></span><span class=line><span class=cl> <span class=mi>10</span>   <span class=nx>edge</span>   <span class=nx>edge</span>   <span class=nx>satEdges</span>     <span class=kc>false</span>    <span class=kc>false</span>    <span class=kc>false</span>      <span class=mf>100.00</span> <span class=o>%</span>   <span class=p>[</span> <span class=sb>`_from`</span> <span class=p>]</span>   <span class=p>[</span>  <span class=p>]</span>            <span class=nx>base</span> <span class=nx>OUTBOUND</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>Traversals</span> <span class=nx>on</span> <span class=nx>graphs</span><span class=o>:</span>
</span></span><span class=line><span class=cl> <span class=nx>Id</span>  <span class=nx>Depth</span>  <span class=nx>Vertex</span> <span class=nx>collections</span>  <span class=nx>Edge</span> <span class=nx>collections</span>  <span class=nx>Options</span>                                  <span class=nx>Filter</span> <span class=o>/</span> <span class=nx>Prune</span> <span class=nx>Conditions</span>
</span></span><span class=line><span class=cl> <span class=mi>10</span>  <span class=mf>1.</span><span class=p>.</span><span class=mi>1</span>   <span class=nx>satVertices</span>         <span class=nx>satEdges</span>          <span class=nx>uniqueVertices</span><span class=o>:</span> <span class=nx>none</span><span class=p>,</span> <span class=nx>uniqueEdges</span><span class=o>:</span> <span class=nx>path</span>                           
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>Optimization</span> <span class=nx>rules</span> <span class=nx>applied</span><span class=o>:</span>
</span></span><span class=line><span class=cl> <span class=nx>Id</span>   <span class=nx>RuleName</span>
</span></span><span class=line><span class=cl>  <span class=mi>1</span>   <span class=nx>scatter</span><span class=o>-</span><span class=k>in</span><span class=o>-</span><span class=nx>cluster</span>
</span></span><span class=line><span class=cl>  <span class=mi>2</span>   <span class=nx>scatter</span><span class=o>-</span><span class=nx>satellite</span><span class=o>-</span><span class=nx>graphs</span>
</span></span><span class=line><span class=cl>  <span class=mi>3</span>   <span class=nx>remove</span><span class=o>-</span><span class=nx>satellite</span><span class=o>-</span><span class=nx>joins</span>
</span></span><span class=line><span class=cl>  <span class=mi>4</span>   <span class=nx>distribute</span><span class=o>-</span><span class=nx>filtercalc</span><span class=o>-</span><span class=nx>to</span><span class=o>-</span><span class=nx>cluster</span>
</span></span><span class=line><span class=cl>  <span class=mi>5</span>   <span class=nx>remove</span><span class=o>-</span><span class=nx>unnecessary</span><span class=o>-</span><span class=nx>remote</span><span class=o>-</span><span class=nx>scatter</span>
</span></span><span class=line><span class=cl>  <span class=mi>6</span>   <span class=nx>parallelize</span><span class=o>-</span><span class=nx>gather</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=mi>62</span> <span class=nx>rule</span><span class=p>(</span><span class=nx>s</span><span class=p>)</span> <span class=nx>executed</span><span class=p>,</span> <span class=mi>1</span> <span class=nx>plan</span><span class=p>(</span><span class=nx>s</span><span class=p>)</span> <span class=nx>created</span><span class=p>,</span> <span class=nx>peak</span> <span class=nx>mem</span> <span class=p>[</span><span class=nx>b</span><span class=p>]</span><span class=o>:</span> <span class=mi>0</span><span class=p>,</span> <span class=nx>exec</span> <span class=nx>time</span> <span class=p>[</span><span class=nx>s</span><span class=p>]</span><span class=o>:</span> <span class=mf>0.00125</span></span></span></code></pre></div></div></div><br><p>Note that now the <code>TraversalNode</code> is executed on each DB-Server, leading to a
great reduction in required network communication, and hence potential gains
in query performance.</p></li></ol><h2 id=convert-general-graphs-or-smartgraphs-to-satellitegraphs>Convert General Graphs or SmartGraphs to SatelliteGraphs <a href=/3.10/graphs/satellitegraphs/details/#convert-general-graphs-or-smartgraphs-to-satellitegraphs class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>If you want to transform an existing General Graph or SmartGraph into a
SatelliteGraph, then you need to dump and restore your previous graph.
This is necessary for the initial data replication and because some collection
properties are immutable.</p><p>Use <em>arangodump</em> and <em>arangorestore</em>. The only thing you have to change in this
pipeline is that you create the new collections during creation with the
SatelliteGraph module or add collections manually to the SatelliteGraph
<strong>before starting the arangorestore process</strong>.</p><nav class=pagination><span class=prev><a class="nav nav-prev link" href=/3.10/graphs/satellitegraphs/management/><i class="fas fa-chevron-left fa-fw"></i><p>Management</p></a></span><span class=next><a class="nav nav-next link" href=/3.10/graphs/smartgraphs/><p>SmartGraphs</p><i class="fas fa-chevron-right fa-fw"></i></a></span></nav></article><div class=toc-container><a class=edit-page aria-label href=https://github.com/arangodb/docs-hugo/edit/main/site/content/3.10/graphs/satellitegraphs/details.md target=_blank><i class="fab fa-fw fa-github edit-page-icon"></i></a><div class=toc><div class=toc-content><div class=toc-header><p>On this page</p></div><nav id=TableOfContents><div class=level-2><a href=#how-to-create-a-satellitegraph>How to create a SatelliteGraph</a></div><div class=level-3><a href=#create-a-graph>Create a graph</a></div><div class=level-3><a href=#add-vertex-collections>Add vertex collections</a></div><div class=level-3><a href=#define-relations>Define relations</a></div><div class=level-2><a href=#the-prototype-collection>The prototype collection</a></div><div class=level-3><a href=#prototype-collection-examples>Prototype collection examples</a></div><div class=level-2><a href=#utilizing-satellitegraphs>Utilizing SatelliteGraphs</a></div><div class=level-2><a href=#convert-general-graphs-or-smartgraphs-to-satellitegraphs>Convert General Graphs or SmartGraphs to SatelliteGraphs</a></div></nav></div></div></div></div></div></section></section></div><button class="back-to-top hidden" onclick=goToTop(event) href=#><i class="fa fa-arrow-up"></i></button><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3>
<script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3></script>
<script type=text/javascript>window.setupDocSearch=function(e){if(!window.docsearch)return;docsearch({appId:"OK3ZBQ5982",apiKey:"500c85ccecb335d507fe4449aed12e1d",indexName:"arangodbdocs",insights:!0,container:"#searchbox",debug:!1,maxResultsPerGroup:10,searchParameters:{facetFilters:[`version:${e}`]}})}</script></body></html>