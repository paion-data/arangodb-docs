<!doctype html><html lang=en><head><link href=//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css rel=stylesheet><link href=//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css rel=stylesheet><link href=/css/fontawesome-all.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fontawesome-all.min.css rel=stylesheet></noscript><link href=/css/featherlight.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/featherlight.min.css rel=stylesheet></noscript><link href=/css/nucleus.css rel=stylesheet><link href=/css/fonts.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fonts.css rel=stylesheet></noscript><link href=/css/theme.css rel=stylesheet><link href=/css/theme-relearn-light.css rel=stylesheet id=variant-style><link href=/css/print.css rel=stylesheet media=print><script src=/js/variant.js?1743775370></script>
<script>var root_url="/",baseUriFull,baseUri=root_url.replace(/\/$/,"");window.T_Copy_to_clipboard="",window.T_Copied_to_clipboard="",window.T_Copy_link_to_clipboard="",window.T_Link_copied_to_clipboard="",baseUriFull="http://localhost/",window.variants&&variants.init(["relearn-light"])</script><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.119.0"><meta itemprop=description property="description" content="Vertex-centric indexes, a new managed graph type with smart sharding, audit logging"><meta property="og:url" content="http://localhost/3.10/release-notes/version-3.1/whats-new-in-3-1/"><meta property="og:title" content="Features and Improvements in ArangoDB 3.1"><meta property="og:type" content="website"><meta property="og:description" content="Vertex-centric indexes, a new managed graph type with smart sharding, audit logging"><meta name=docsearch:version content="3.10"><title>Features and Improvements in ArangoDB 3.1 | ArangoDB Documentation</title><link href=/images/favicon.png rel=icon type=image/png><script src=/js/jquery.min.js></script>
<script src=/js/clipboard.min.js?1743775370 defer></script>
<script src=/js/featherlight.min.js?1743775370 defer></script>
<script>var versions=[{alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"},{alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"},{alias:"3.11",deprecated:!1,name:"3.11",version:"3.11.13"},{alias:"3.10",deprecated:!0,name:"3.10",version:"3.10.14"}]</script><script>var develVersion={alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"}</script><script>var stableVersion={alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"}</script><script src=/js/codeblocks.js?1743775370 defer></script>
<script src=/js/theme.js?1743775370 defer></script></head><body><noscript>You need to enable JavaScript to use the ArangoDB documentation.</noscript><div id=page-wrapper class=page_content_splash style=height:auto;opacity:0><section id=page-main><section class=page-container id=page-container><header id=header style="transition:.5s padding ease-out,.15s" class="zn_header_white header-splash-new nav-down header-splash-wrap header1"><div class=header-block-left><div class=mobile-menu-toggle><button id=sidebar-toggle-navigation onclick=showSidebarHandler()><svg width="1.33em" height="1.33em" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button></div><div class=version-logo-container><div class="logo-container hasinfocard_img arangodb-logo-large"><div class=logo><a href=https://www.arangodb.com/><img src=/images/logo_main.png alt=ArangoDB title></a></div></div><div class=arangodb-logo-small><a href=https://arangodb.com/><img alt="ArangoDB Logo" src=/images/ArangoDB_Logo_White_small.png></a></div></div></div><div class=container-right style=display:hidden></div><div class=search-and-version-container><a href=# class="home-link is-current" aria-label="Go to home page" onclick=goToHomepage(event)></a><div id=searchbox></div><script type=text/javascript>const SCRIPT_SRC="https://unpkg.com/@inkeep/widgets-embed@0.2.290/dist/embed.js";function loadAndInitializeInkeep(){if(document.querySelector(`script[src="${SCRIPT_SRC}]"`))return;const e=document.createElement("script");e.type="module",e.src=SCRIPT_SRC,e.onload=initializeInkeep,document.head.appendChild(e)}function initializeInkeep(){const e=Inkeep({integrationId:"clo4lx6jk0000s601cp21x2ok",apiKey:"13b4e56966a76e86c6ff359cd795ee6a0412f751d75d6383",organizationId:"org_HGBkkzGAa4KeGJGh",organizationDisplayName:"ArangoDB",primaryBrandColor:"#80a54d",stringReplacementRules:[{matchingRule:{ruleType:"Substring",string:"Arangograph"},replaceWith:"ArangoGraph"},{matchingRule:{ruleType:"Substring",string:"Aql"},replaceWith:"AQL"},{matchingRule:{ruleType:"Substring",string:"Arangodb"},replaceWith:"ArangoDB"}],customCardSettings:[{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arango.qubitpi.org"}},searchTabLabel:"Official Docs"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"developer.arangodb.com"}},searchTabLabel:"Developer Hub"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arangodb.com"}},searchTabLabel:"Home"}]}),t=e.embed({componentType:"ChatButton",properties:{stylesheetUrls:["/css/fonts.css"],fixedPositionXOffset:"52px",baseSettings:{theme:{primaryColors:{textColorOnPrimary:"white"},tokens:{fonts:{body:"'Inter'",heading:"'Inter'"},zIndex:{overlay:1e4,modal:11e3,popover:12e3,skipLink:13e3,toast:14e3,tooltip:15e3}}}},aiChatSettings:{botAvatarSrcUrl:"/images/ArangoDB_Logo_White_small.png",quickQuestions:["What can you do with AQL that is not feasible with SQL?","How do I search for objects within arrays?","Where can I deploy my ArangoDB instance?"],getHelpCallToActions:[{icon:{builtIn:"FaSlack"},name:"Slack",url:"https://arangodb-community.slack.com/"}]},searchSettings:{tabSettings:{isAllTabEnabled:!1,alwaysDisplayedTabs:["Official Docs","Developer Hub","Home"]}}}})}loadAndInitializeInkeep()</script><div class=version-selector><select id=arangodb-version onchange=changeVersion()><option value=3.13>3.13</option><option value=3.12>3.12</option><option value=3.11>3.11</option><option value=3.10>3.10</option><option value=3.9>3.9</option><option value=3.8>3.8</option></select></div></div></header><iframe src=/nav.html title=description id=menu-iframe class="menu-iframe active" style=opacity:0></iframe><div class=container-main><div class=row-main><nav id=breadcrumbs><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><meta itemprop=itemListOrder content="Descending"><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="3.10"><a itemprop=item class=link href=/3.10/><span itemprop=name class=breadcrumb-entry>3.10.14</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Release Notes"><a itemprop=item class=link href=/3.10/release-notes/><span itemprop=name class=breadcrumb-entry>Release Notes</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Version 3.1"><a itemprop=item class=link href=/3.10/release-notes/version-3.1/><span itemprop=name class=breadcrumb-entry>Version 3.1</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="What&rsquo;s New in 3.1"><a itemprop=item class=link href=/3.10/release-notes/version-3.1/whats-new-in-3-1/><span itemprop=name class=breadcrumb-entry>What&rsquo;s New in 3.1</span></a></li></ol></nav><article class=default><div class="box notices cstyle warning"><div class=box-content-container><div class=box-content><i class="fas fa-exclamation-triangle"></i><div class=box-text><p>ArangoDB v3.10 reached End of Life (EOL) and is no longer supported.</p><p>This documentation is outdated. Please see the most recent <a href=/3.12/release-notes/version-3.1/whats-new-in-3-1/ class=link>stable version</a>.</p></div></div></div></div><hgroup><h1>Features and Improvements in ArangoDB 3.1</h1><p class=lead>Vertex-centric indexes, a new managed graph type with smart sharding, audit logging</p></hgroup><p>The following list shows in detail which features have been added or improved in
ArangoDB 3.1. ArangoDB 3.1 also contains several bugfixes that are not listed
here.</p><h2 id=smartgraphs>SmartGraphs <a href=/3.10/release-notes/version-3.1/whats-new-in-3-1/#smartgraphs class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>ArangoDB 3.1 adds a first major Enterprise Edition feature called SmartGraphs.
SmartGraphs form an addition to the already existing graph features and allow to
scale graphs beyond a single machine while keeping almost the same query performance.
The SmartGraph feature is suggested for all graph database use cases that require
a cluster of DB-Servers for what ever reason.
You can either have a graph that is too large to be stored on a single machine only.
Or you can have a small graph, but at the same time need additional data with has to be
sharded and you want to keep all of them in the same environment.
Or you simply use the cluster for high-availability.
In all the above cases SmartGraphs will significantly increase the performance of
graph operations.
For more detailed information read the <a href=/3.10/graphs/smartgraphs/ class=link>SmartGraphs section</a>.</p><h2 id=data-format>Data format <a href=/3.10/release-notes/version-3.1/whats-new-in-3-1/#data-format class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>The format of the revision values stored in the <code>_rev</code> attribute of documents
has been changed in 3.1. Up to 3.0 they were strings containing largish decimal numbers. With 3.1, revision values are still strings, but are actually encoded time stamps of the creation date of the revision of the document. The time stamps are acquired using a hybrid logical clock (HLC) on the DB-Server that holds the
revision (for the concept of a hybrid logical clock see
<a href=http://www.cse.buffalo.edu/tech-reports/2014-04.pdf target=_blank rel="noopener noreferrer" class=link>this paper</a>&nbsp;<i class="fas fa-external-link-alt"></i>).
See <a href=/3.10/concepts/data-structure/documents/#document-revisions class=link>this manual section</a> for details.</p><p>ArangoDB >= 3.1 can ArangoDB 3.0 database directories and will simply continue
to use the old <code>_rev</code> attribute values. New revisions will be written with
the new time stamps.</p><p>It is highly recommended to backup all your data before loading a database
directory that was written by ArangoDB &lt;= 3.0 into an ArangoDB >= 3.1.</p><h2 id=communication-layer>Communication Layer <a href=/3.10/release-notes/version-3.1/whats-new-in-3-1/#communication-layer class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>ArangoDB up to 3.0 used <a href=http://software.schmorp.de/pkg/libev.html target=_blank rel="noopener noreferrer" class=link>libev</a>&nbsp;<i class="fas fa-external-link-alt"></i> for
the communication layer. ArangoDB starting from 3.1 uses
<a href=https://www.boost.org target=_blank rel="noopener noreferrer" class=link>Boost ASIO</a>&nbsp;<i class="fas fa-external-link-alt"></i>.</p><p>Starting with ArangoDB 3.1 we begin to provide the VelocyStream Protocol (vst) as
a addition to the established http protocol.</p><p>A few options have changed concerning communication, please checkout
<a href=/3.10/release-notes/version-3.1/incompatible-changes-in-3-1/ class=link>Incompatible changes in 3.1</a>.</p><h2 id=cluster>Cluster <a href=/3.10/release-notes/version-3.1/whats-new-in-3-1/#cluster class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>For its internal cluster communication a (bundled version) of curl is now being
used. This enables asynchronous operation throughout the cluster and should
improve general performance slightly.</p><p>Authentication is now supported within the cluster.</p><h2 id=document-revisions-cache>Document revisions cache <a href=/3.10/release-notes/version-3.1/whats-new-in-3-1/#document-revisions-cache class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>The ArangoDB server now provides an in-memory cache for frequently accessed
document revisions. Documents that are accessed during read/write operations
are loaded into the revisions cache automatically, and subsequently served from
there.</p><p>The cache has a total target size, which can be controlled with the startup
option <code>--database.revision-cache-target-size</code>. Once the cache reaches the
target size, older entries may be evicted from the cache to free memory. Note that
the target size currently is a high water mark that will trigger cache memory
garbage collection if exceeded. However, if all cache chunks are still in use
when the high water mark is reached, the cache may still grow and allocate more
chunks until cache entries become unused and are allowed to be garbage-collected.</p><p>The cache is maintained on a per-collection basis, that is, memory for the cache
is allocated on a per-collection basis in chunks. The size for the cache memory
chunks can be controlled via the startup option <code>--database.revision-cache-chunk-size</code>.
The default value is 4 MB per chunk.
Bigger chunk sizes allow saving more documents per chunk, which can lead to more
efficient chunk allocation and lookups, but will also lead to memory waste if many
chunks are allocated and not fully used. The latter will be the case if there exist
many small collections which all allocate their own chunks but not fully utilize them
because of the low number of documents.</p><h2 id=aql>AQL <a href=/3.10/release-notes/version-3.1/whats-new-in-3-1/#aql class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><h3 id=functions-added>Functions added <a href=/3.10/release-notes/version-3.1/whats-new-in-3-1/#functions-added class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>The following AQL functions have been added in 3.1:</p><ul><li><p><code>OUTERSECTION(array1, array2, ..., arrayn)</code>: returns the values that occur
only once across all arrays specified.</p></li><li><p><code>DISTANCE(lat1, lon1, lat2, lon2)</code>: returns the distance between the two
coordinates specified by <code>(lat1, lon1)</code> and <code>(lat2, lon2)</code>. The distance is
calculated using the haversine formula.</p></li><li><p><code>JSON_STRINGIFY(value)</code>: returns a JSON string representation of the value.</p></li><li><p><code>JSON_PARSE(value)</code>: converts a JSON-encoded string into a regular object</p></li></ul><h3 id=index-usage-in-traversals>Index usage in traversals <a href=/3.10/release-notes/version-3.1/whats-new-in-3-1/#index-usage-in-traversals class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>3.1 allows AQL traversals to use other indexes than just the edge index.
Traversals with filters on edges can now make use of more specific indexes. For
example, the query</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>FOR</span> <span class=n>v</span><span class=p>,</span> <span class=n>e</span><span class=p>,</span> <span class=n>p</span> <span class=kr>IN</span> <span class=mi>2</span> <span class=kr>OUTBOUND</span> <span class=nv>@start</span> <span class=vg>@@edge</span>
</span></span><span class=line><span class=cl>  <span class=kr>FILTER</span> <span class=n>p</span><span class=p>.</span><span class=n>edges</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>foo</span> <span class=o>==</span> <span class=s2>&#34;bar&#34;</span>
</span></span><span class=line><span class=cl>  <span class=kr>RETURN</span> <span class=p>[</span><span class=n>v</span><span class=p>,</span> <span class=n>e</span><span class=p>,</span> <span class=n>p</span><span class=p>]</span></span></span></code></pre></div><p>may use a hash index on <code>["_from", "foo"]</code> instead of the edge index on just
<code>["_from"]</code>.</p><h3 id=optimizer-improvements>Optimizer improvements <a href=/3.10/release-notes/version-3.1/whats-new-in-3-1/#optimizer-improvements class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>Make the AQL query optimizer inject filter condition expressions referred to
by variables during filter condition aggregation. For example, in the following
query</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>FOR</span> <span class=n>doc</span> <span class=kr>IN</span> <span class=n>collection</span>
</span></span><span class=line><span class=cl>  <span class=kd>LET</span> <span class=n>cond1</span> <span class=o>=</span> <span class=p>(</span><span class=n>doc</span><span class=p>.</span><span class=n>value</span> <span class=o>==</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=kd>LET</span> <span class=n>cond2</span> <span class=o>=</span> <span class=p>(</span><span class=n>doc</span><span class=p>.</span><span class=n>value</span> <span class=o>==</span> <span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=kr>FILTER</span> <span class=n>cond1</span> <span class=o>||</span> <span class=n>cond2</span>
</span></span><span class=line><span class=cl>  <span class=kr>RETURN</span> <span class=p>{</span> <span class=n>doc</span><span class=p>,</span> <span class=n>cond1</span><span class=p>,</span> <span class=n>cond2</span> <span class=p>}</span></span></span></code></pre></div><p>the optimizer will now inject the conditions for <code>cond1</code> and <code>cond2</code> into the
filter condition <code>cond1 || cond2</code>, expanding it to <code>(doc.value == 1) || (doc.value == 2)</code>
and making these conditions available for index searching.</p><p>Note that the optimizer previously already injected some conditions into other
conditions, but only if the variable that defined the condition was not used elsewhere.
For example, the filter condition in the query</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>FOR</span> <span class=n>doc</span> <span class=kr>IN</span> <span class=n>collection</span>
</span></span><span class=line><span class=cl>  <span class=kd>LET</span> <span class=n>cond</span> <span class=o>=</span> <span class=p>(</span><span class=n>doc</span><span class=p>.</span><span class=n>value</span> <span class=o>==</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=kr>FILTER</span> <span class=n>cond</span>
</span></span><span class=line><span class=cl>  <span class=kr>RETURN</span> <span class=p>{</span> <span class=n>doc</span> <span class=p>}</span></span></span></code></pre></div><p>already got optimized before because <code>cond</code> was only used once in the query and the
optimizer decided to inject it into the place where it was used.</p><p>This only worked for variables that were referred to once in the query. When a variable
was used multiple times, the condition was not injected as in the following query</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>FOR</span> <span class=n>doc</span> <span class=kr>IN</span> <span class=n>collection</span>
</span></span><span class=line><span class=cl>  <span class=kd>LET</span> <span class=n>cond</span> <span class=o>=</span> <span class=p>(</span><span class=n>doc</span><span class=p>.</span><span class=n>value</span> <span class=o>==</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=kr>FILTER</span> <span class=n>cond</span>
</span></span><span class=line><span class=cl>  <span class=kr>RETURN</span> <span class=p>{</span> <span class=n>doc</span><span class=p>,</span> <span class=n>cond</span> <span class=p>}</span></span></span></code></pre></div><p>3.1 allows using this condition so that the query can use an index on <code>doc.value</code>
(if such index exists).</p><h3 id=miscellaneous-improvements>Miscellaneous improvements <a href=/3.10/release-notes/version-3.1/whats-new-in-3-1/#miscellaneous-improvements class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>The performance of the <code>[*]</code> operator was improved for cases in which this operator
did not use any filters, projections and/or offset/limits.</p><p>The AQL query executor can now report the time required for loading and locking the
collections used in an AQL query. When profiling is enabled, it will report the total
loading and locking time for the query in the <code>loading collections</code> sub-attribute of the
<code>extra.profile</code> value of the result. The loading and locking time can also be view in the
AQL query editor in the web interface.</p><h2 id=audit-log>Audit Log <a href=/3.10/release-notes/version-3.1/whats-new-in-3-1/#audit-log class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>Audit logging has been added, see <a href=/3.10/operations/security/audit-logging/ class=link>Auditing</a>.</p><h2 id=client-tools>Client tools <a href=/3.10/release-notes/version-3.1/whats-new-in-3-1/#client-tools class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>Added option <code>--skip-lines</code> for arangoimp.
This allows skipping the first few lines from the import file in case the CSV or TSV
import are used and some initial lines should be skipped from the input.</p><h2 id=web-admin-interface>Web Admin Interface <a href=/3.10/release-notes/version-3.1/whats-new-in-3-1/#web-admin-interface class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>The usability of the AQL editor significantly improved. In addition to the standard JSON
output, the AQL Editor is now able to render query results as a graph preview or a table.
Furthermore the AQL editor displays query profiling information.</p><p>Added a new Graph Viewer in order to exchange the technically obsolete version. The new Graph
Viewer is based on Canvas but does also include a first WebGL implementation (limited
functionality - will change in the future). The new Graph Viewer offers a smooth way to
discover and visualize your graphs.</p><p>The shard view in cluster mode now displays a progress indicator while moving shards.</p><h2 id=authentication>Authentication <a href=/3.10/release-notes/version-3.1/whats-new-in-3-1/#authentication class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>Up to ArangoDB 3.0 authentication of client requests was only possible with HTTP basic
authentication.</p><p>Starting with 3.1 it is now possible to also use a <a href=https://jwt.io/ target=_blank rel="noopener noreferrer" class=link>JSON Web Tokens</a>&nbsp;<i class="fas fa-external-link-alt"></i>
(JWT) for authenticating incoming requests.</p><p>For details check the HTTP authentication chapter. Both authentication methods are
valid and will be supported in the near future. Use whatever suits you best.</p><h2 id=foxx>Foxx <a href=/3.10/release-notes/version-3.1/whats-new-in-3-1/#foxx class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><h3 id=graphql>GraphQL <a href=/3.10/release-notes/version-3.1/whats-new-in-3-1/#graphql class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>It is now easy to get started with providing GraphQL APIs in Foxx, see <a href=/3.10/develop/foxx-microservices/reference/related-modules/graphql/ class=link>Foxx GraphQL</a>.</p><h3 id=oauth2>OAuth2 <a href=/3.10/release-notes/version-3.1/whats-new-in-3-1/#oauth2 class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>Foxx now officially provides a module for implementing OAuth2 clients, see <a href=/3.10/develop/foxx-microservices/reference/related-modules/oauth-2-0/ class=link>Foxx OAuth2</a>.</p><h3 id=per-route-middleware>Per-route middleware <a href=/3.10/release-notes/version-3.1/whats-new-in-3-1/#per-route-middleware class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>It&rsquo;s now possible to specify middleware functions for a route when defining a route handler. These middleware functions only apply to the single route and share the route&rsquo;s parameter definitions. Check out the <a href=/3.10/develop/foxx-microservices/reference/routers/ class=link>Foxx Router documentation</a> for more information.</p><nav class=pagination><span class=prev><a class="nav nav-prev link" href=/3.10/release-notes/version-3.1/><i class="fas fa-chevron-left fa-fw"></i><p>Version 3.1</p></a></span><span class=next><a class="nav nav-next link" href=/3.10/release-notes/version-3.1/incompatible-changes-in-3-1/><p>Incompatible changes in 3.1</p><i class="fas fa-chevron-right fa-fw"></i></a></span></nav></article><div class=toc-container><a class=edit-page aria-label href=https://github.com/arangodb/docs-hugo/edit/main/site/content/3.10/release-notes/version-3.1/whats-new-in-3-1.md target=_blank><i class="fab fa-fw fa-github edit-page-icon"></i></a><div class=toc><div class=toc-content><div class=toc-header><p>On this page</p></div><nav id=TableOfContents><div class=level-2><a href=#smartgraphs>SmartGraphs</a></div><div class=level-2><a href=#data-format>Data format</a></div><div class=level-2><a href=#communication-layer>Communication Layer</a></div><div class=level-2><a href=#cluster>Cluster</a></div><div class=level-2><a href=#document-revisions-cache>Document revisions cache</a></div><div class=level-2><a href=#aql>AQL</a></div><div class=level-3><a href=#functions-added>Functions added</a></div><div class=level-3><a href=#index-usage-in-traversals>Index usage in traversals</a></div><div class=level-3><a href=#optimizer-improvements>Optimizer improvements</a></div><div class=level-3><a href=#miscellaneous-improvements>Miscellaneous improvements</a></div><div class=level-2><a href=#audit-log>Audit Log</a></div><div class=level-2><a href=#client-tools>Client tools</a></div><div class=level-2><a href=#web-admin-interface>Web Admin Interface</a></div><div class=level-2><a href=#authentication>Authentication</a></div><div class=level-2><a href=#foxx>Foxx</a></div><div class=level-3><a href=#graphql>GraphQL</a></div><div class=level-3><a href=#oauth2>OAuth2</a></div><div class=level-3><a href=#per-route-middleware>Per-route middleware</a></div></nav></div></div></div></div></div></section></section></div><button class="back-to-top hidden" onclick=goToTop(event) href=#><i class="fa fa-arrow-up"></i></button><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3>
<script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3></script>
<script type=text/javascript>window.setupDocSearch=function(e){if(!window.docsearch)return;docsearch({appId:"OK3ZBQ5982",apiKey:"500c85ccecb335d507fe4449aed12e1d",indexName:"arangodbdocs",insights:!0,container:"#searchbox",debug:!1,maxResultsPerGroup:10,searchParameters:{facetFilters:[`version:${e}`]}})}</script></body></html>