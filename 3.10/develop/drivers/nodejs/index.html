<!doctype html><html lang=en><head><link href=//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css rel=stylesheet><link href=//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css rel=stylesheet><link href=/css/fontawesome-all.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fontawesome-all.min.css rel=stylesheet></noscript><link href=/css/featherlight.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/featherlight.min.css rel=stylesheet></noscript><link href=/css/nucleus.css rel=stylesheet><link href=/css/fonts.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fonts.css rel=stylesheet></noscript><link href=/css/theme.css rel=stylesheet><link href=/css/theme-relearn-light.css rel=stylesheet id=variant-style><link href=/css/print.css rel=stylesheet media=print><script src=/js/variant.js?1747031427></script>
<script>var root_url="/",baseUriFull,baseUri=root_url.replace(/\/$/,"");window.T_Copy_to_clipboard="",window.T_Copied_to_clipboard="",window.T_Copy_link_to_clipboard="",window.T_Link_copied_to_clipboard="",baseUriFull="http://localhost/",window.variants&&variants.init(["relearn-light"])</script><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.119.0"><meta itemprop=description property="description" content="ArangoJS is the JavaScript driver to access ArangoDB from outside the database system, primarily with Node.js"><meta property="og:url" content="http://localhost/3.10/develop/drivers/nodejs/"><meta property="og:title" content="ArangoDB Node.js driver"><meta property="og:type" content="website"><meta property="og:description" content="ArangoJS is the JavaScript driver to access ArangoDB from outside the database system, primarily with Node.js"><meta name=docsearch:version content="3.10"><title>ArangoDB Node.js driver | ArangoDB Documentation</title><link href=/images/favicon.png rel=icon type=image/png><script src=/js/jquery.min.js></script>
<script src=/js/clipboard.min.js?1747031427 defer></script>
<script src=/js/featherlight.min.js?1747031427 defer></script>
<script>var versions=[{alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"},{alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"},{alias:"3.11",deprecated:!1,name:"3.11",version:"3.11.13"},{alias:"3.10",deprecated:!0,name:"3.10",version:"3.10.14"}]</script><script>var develVersion={alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"}</script><script>var stableVersion={alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"}</script><script src=/js/codeblocks.js?1747031427 defer></script>
<script src=/js/theme.js?1747031427 defer></script></head><body><noscript>You need to enable JavaScript to use the ArangoDB documentation.</noscript><div id=page-wrapper class=page_content_splash style=height:auto;opacity:0><section id=page-main><section class=page-container id=page-container><header id=header style="transition:.5s padding ease-out,.15s" class="zn_header_white header-splash-new nav-down header-splash-wrap header1"><div class=header-block-left><div class=mobile-menu-toggle><button id=sidebar-toggle-navigation onclick=showSidebarHandler()><svg width="1.33em" height="1.33em" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button></div><div class=version-logo-container><div class="logo-container hasinfocard_img arangodb-logo-large"><div class=logo><a href=https://www.arangodb.com/><img src=/images/logo_main.png alt=ArangoDB title></a></div></div><div class=arangodb-logo-small><a href=https://arangodb.com/><img alt="ArangoDB Logo" src=/images/ArangoDB_Logo_White_small.png></a></div></div></div><div class=container-right style=display:hidden></div><div class=search-and-version-container><a href=# class="home-link is-current" aria-label="Go to home page" onclick=goToHomepage(event)></a><div id=searchbox></div><script type=text/javascript>const SCRIPT_SRC="https://unpkg.com/@inkeep/widgets-embed@0.2.290/dist/embed.js";function loadAndInitializeInkeep(){if(document.querySelector(`script[src="${SCRIPT_SRC}]"`))return;const e=document.createElement("script");e.type="module",e.src=SCRIPT_SRC,e.onload=initializeInkeep,document.head.appendChild(e)}function initializeInkeep(){const e=Inkeep({integrationId:"clo4lx6jk0000s601cp21x2ok",apiKey:"13b4e56966a76e86c6ff359cd795ee6a0412f751d75d6383",organizationId:"org_HGBkkzGAa4KeGJGh",organizationDisplayName:"ArangoDB",primaryBrandColor:"#80a54d",stringReplacementRules:[{matchingRule:{ruleType:"Substring",string:"Arangograph"},replaceWith:"ArangoGraph"},{matchingRule:{ruleType:"Substring",string:"Aql"},replaceWith:"AQL"},{matchingRule:{ruleType:"Substring",string:"Arangodb"},replaceWith:"ArangoDB"}],customCardSettings:[{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arango.qubitpi.org"}},searchTabLabel:"Official Docs"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"developer.arangodb.com"}},searchTabLabel:"Developer Hub"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arangodb.com"}},searchTabLabel:"Home"}]}),t=e.embed({componentType:"ChatButton",properties:{stylesheetUrls:["/css/fonts.css"],fixedPositionXOffset:"52px",baseSettings:{theme:{primaryColors:{textColorOnPrimary:"white"},tokens:{fonts:{body:"'Inter'",heading:"'Inter'"},zIndex:{overlay:1e4,modal:11e3,popover:12e3,skipLink:13e3,toast:14e3,tooltip:15e3}}}},aiChatSettings:{botAvatarSrcUrl:"/images/ArangoDB_Logo_White_small.png",quickQuestions:["What can you do with AQL that is not feasible with SQL?","How do I search for objects within arrays?","Where can I deploy my ArangoDB instance?"],getHelpCallToActions:[{icon:{builtIn:"FaSlack"},name:"Slack",url:"https://arangodb-community.slack.com/"}]},searchSettings:{tabSettings:{isAllTabEnabled:!1,alwaysDisplayedTabs:["Official Docs","Developer Hub","Home"]}}}})}loadAndInitializeInkeep()</script><div class=version-selector><select id=arangodb-version onchange=changeVersion()><option value=3.13>3.13</option><option value=3.12>3.12</option><option value=3.11>3.11</option><option value=3.10>3.10</option><option value=3.9>3.9</option><option value=3.8>3.8</option></select></div></div></header><iframe src=/nav.html title=description id=menu-iframe class="menu-iframe active" style=opacity:0></iframe><div class=container-main><div class=row-main><nav id=breadcrumbs><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><meta itemprop=itemListOrder content="Descending"><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="3.10"><a itemprop=item class=link href=/3.10/><span itemprop=name class=breadcrumb-entry>3.10.14</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Develop"><a itemprop=item class=link href=/3.10/develop/><span itemprop=name class=breadcrumb-entry>Develop</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Drivers"><a itemprop=item class=link href=/3.10/develop/drivers/><span itemprop=name class=breadcrumb-entry>Drivers</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Node.js driver"><a itemprop=item class=link href=/3.10/develop/drivers/nodejs/><span itemprop=name class=breadcrumb-entry>Node.js driver</span></a></li></ol></nav><article class=default><div class="box notices cstyle warning"><div class=box-content-container><div class=box-content><i class="fas fa-exclamation-triangle"></i><div class=box-text><p>ArangoDB v3.10 reached End of Life (EOL) and is no longer supported.</p><p>This documentation is outdated. Please see the most recent <a href=/3.12/ class=link>stable version</a>.</p></div></div></div></div><hgroup><h1>ArangoDB Node.js driver</h1><p class=lead>ArangoJS is the JavaScript driver to access ArangoDB from outside the database system, primarily with Node.js</p></hgroup><p>The official ArangoDB low-level JavaScript client.</p><p><strong>Note:</strong> if you are looking for the ArangoDB JavaScript API in
<a href=https://www.arangodb.com/community-server/foxx/ target=_blank rel="noopener noreferrer" class=link>Foxx</a>&nbsp;<i class="fas fa-external-link-alt"></i> (or the <code>arangosh</code> interactive shell) please
refer to the documentation about the
<a href=/3.10/develop/foxx-microservices/reference/related-modules/#the-arangodb-module class=link><code>@arangodb</code> module</a>
instead; specifically the <code>db</code> object exported by the <code>@arangodb</code> module. The
JavaScript driver is <strong>only</strong> meant to be used when accessing ArangoDB from
<strong>outside</strong> the database.</p><ul><li><a href=https://github.com/arangodb/arangojs/blob/master/CHANGELOG.md#readme target=_blank rel="noopener noreferrer" class=link>Changelog</a>&nbsp;<i class="fas fa-external-link-alt"></i></li><li><a href=http://arangodb.github.io/arangojs/ target=_blank rel="noopener noreferrer" class=link>Reference</a>&nbsp;<i class="fas fa-external-link-alt"></i></li></ul><h2 id=compatibility>Compatibility <a href=/3.10/develop/drivers/nodejs/#compatibility class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>ArangoJS is compatible with the latest stable version of ArangoDB available at
the time of the driver release.</p><p>The <a href=http://arangodb.github.io/arangojs/latest/modules/_connection_.html#config target=_blank rel="noopener noreferrer" class=link><em>arangoVersion</em> option</a>&nbsp;<i class="fas fa-external-link-alt"></i>
can be used to tell arangojs to target a specific
ArangoDB version. Depending on the version this will enable or disable certain
methods and change behavior to maintain compatibility with the given version.
The oldest version of ArangoDB supported by arangojs when using this option
is 2.8.0 (using <code>arangoVersion: 20800</code>).</p><p>The latest yarn/npm distribution of ArangoJS is compatible with the current
Node.js version and the active LTS versions, following the official
<a href=https://github.com/nodejs/LTS target=_blank rel="noopener noreferrer" class=link>Node.js long-term support schedule</a>&nbsp;<i class="fas fa-external-link-alt"></i>.</p><p>The included browser build is compatible with recent
versions of all modern browsers (Edge, Chrome, Firefox and Safari).</p><p>Versions outside this range may be compatible but are not actively supported.</p><p><strong>Note</strong>: Starting with arangojs 6.0.0, all asynchronous functions return
promises. If you are using a version of Node.js older than Node.js 6.x LTS
(&ldquo;Boron&rdquo;) make sure you replace the native <code>Promise</code> implementation with a
substitute like <a href=https://github.com/petkaantonov/bluebird target=_blank rel="noopener noreferrer" class=link>bluebird</a>&nbsp;<i class="fas fa-external-link-alt"></i>
to avoid a known memory leak in older versions of the V8 JavaScript engine.</p><h2 id=versions>Versions <a href=/3.10/develop/drivers/nodejs/#versions class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>The version number of this driver does not indicate supported ArangoDB versions!</p><p>This driver uses semantic versioning:</p><ul><li>A change in the bugfix version (e.g. X.Y.0 -> X.Y.1) indicates internal
changes and should always be safe to upgrade.</li><li>A change in the minor version (e.g. X.1.Z -> X.2.0) indicates additions and
backwards-compatible changes that should not affect your code.</li><li>A change in the major version (e.g. 1.Y.Z -> 2.0.0) indicates <em>breaking</em>
changes that require changes in your code to upgrade.</li></ul><p>If you are getting weird errors or functions seem to be missing, make sure you
are using the latest version of the driver and following documentation written
for a compatible version. If you are following a tutorial written for an older
version of arangojs, you can install that version using the <code>&lt;name>@&lt;version></code>
syntax:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># for version 6.x.x</span>
</span></span><span class=line><span class=cl>yarn add arangojs@6
</span></span><span class=line><span class=cl><span class=c1># - or -</span>
</span></span><span class=line><span class=cl>npm install --save arangojs@6
</span></span></code></pre></div><p>You can find the documentation for each version by clicking on the corresponding
date on the left in
<a href=https://github.com/arangodb/arangojs/tags target=_blank rel="noopener noreferrer" class=link>the list of version tags</a>&nbsp;<i class="fas fa-external-link-alt"></i>.</p><h2 id=install>Install <a href=/3.10/develop/drivers/nodejs/#install class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><h3 id=with-yarn-or-npm>With Yarn or NPM <a href=/3.10/develop/drivers/nodejs/#with-yarn-or-npm class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>yarn add arangojs
</span></span><span class=line><span class=cl><span class=c1># - or -</span>
</span></span><span class=line><span class=cl>npm install --save arangojs
</span></span></code></pre></div><h3 id=with-bower>With Bower <a href=/3.10/develop/drivers/nodejs/#with-bower class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>Starting with arangojs 6.0.0 Bower is no longer supported and the browser
build is now included in the NPM release (see below).</p><h3 id=from-source>From source <a href=/3.10/develop/drivers/nodejs/#from-source class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git clone https://github.com/arangodb/arangojs.git
</span></span><span class=line><span class=cl><span class=nb>cd</span> arangojs
</span></span><span class=line><span class=cl>npm install
</span></span><span class=line><span class=cl>npm run dist
</span></span></code></pre></div><h3 id=for-browsers>For browsers <a href=/3.10/develop/drivers/nodejs/#for-browsers class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>For production use arangojs can be installed with Yarn or NPM like any
other dependency. Just use arangojs like you would in your server code:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>Database</span> <span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;arangojs&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=c1>// -- or --
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>var</span> <span class=nx>arangojs</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s2>&#34;arangojs&#34;</span><span class=p>);</span></span></span></code></pre></div><p>Additionally the NPM release comes with a precompiled browser build:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>arangojs</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s2>&#34;arangojs/lib/web&#34;</span><span class=p>);</span></span></span></code></pre></div><p>You can also use <a href=https://unpkg.com target=_blank rel="noopener noreferrer" class=link>unpkg</a>&nbsp;<i class="fas fa-external-link-alt"></i> during development:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=err>&lt;</span> !-- note the path includes the version number (e.g. 6.0.0) -- &gt;
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;https://unpkg.com/arangojs@6.0.0/lib/web.js&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>db</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>arangojs</span><span class=p>.</span><span class=nx>Database</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nx>db</span><span class=p>.</span><span class=nx>listCollections</span><span class=p>().</span><span class=nx>then</span><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=nx>collections</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>alert</span><span class=p>(</span><span class=s2>&#34;Your collections: &#34;</span> <span class=o>+</span> <span class=nx>collections</span><span class=p>.</span><span class=nx>map</span><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=nx>collection</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>collection</span><span class=p>.</span><span class=nx>name</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}).</span><span class=nx>join</span><span class=p>(</span><span class=s2>&#34;, &#34;</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></div><p>If you are targeting browsers older than Internet Explorer 11 you may want to
use <a href=https://babeljs.io target=_blank rel="noopener noreferrer" class=link>babel</a>&nbsp;<i class="fas fa-external-link-alt"></i> with a
<a href=https://babeljs.io/docs/usage/polyfill target=_blank rel="noopener noreferrer" class=link>polyfill</a>&nbsp;<i class="fas fa-external-link-alt"></i> to provide the missing
functionality needed to use arangojs.</p><p>When loading the browser build with a <code>&lt;script></code> tag make sure to load the polyfill first:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;https://cdnjs.cloudflare.com/ajax/libs/babel-polyfill/6.26.0/polyfill.js&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;https://unpkg.com/arangojs@6.0.0/lib/web.js&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></div><h2 id=basic-usage-example>Basic usage example <a href=/3.10/develop/drivers/nodejs/#basic-usage-example class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// Modern JavaScript
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>Database</span><span class=p>,</span> <span class=nx>aql</span> <span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;arangojs&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>db</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Database</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=kr>async</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>now</span> <span class=o>=</span> <span class=nb>Date</span><span class=p>.</span><span class=nx>now</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>cursor</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>db</span><span class=p>.</span><span class=nx>query</span><span class=p>(</span><span class=nx>aql</span><span class=sb>`
</span></span></span><span class=line><span class=cl><span class=sb>      RETURN </span><span class=si>${</span><span class=nx>now</span><span class=si>}</span><span class=sb>
</span></span></span><span class=line><span class=cl><span class=sb>    `</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>result</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>cursor</span><span class=p>.</span><span class=nx>next</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>err</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>})();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// or plain old Node-style
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>var</span> <span class=nx>arangojs</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s2>&#34;arangojs&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>db</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>arangojs</span><span class=p>.</span><span class=nx>Database</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>now</span> <span class=o>=</span> <span class=nb>Date</span><span class=p>.</span><span class=nx>now</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nx>db</span><span class=p>.</span><span class=nx>query</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>query</span><span class=o>:</span> <span class=s2>&#34;RETURN @value&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>bindVars</span><span class=o>:</span> <span class=p>{</span> <span class=nx>value</span><span class=o>:</span> <span class=nx>now</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl>  <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=kd>function</span><span class=p>(</span><span class=nx>cursor</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>cursor</span><span class=p>.</span><span class=nx>next</span><span class=p>().</span><span class=nx>then</span><span class=p>(</span><span class=kd>function</span><span class=p>(</span><span class=nx>result</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=p>})</span>
</span></span><span class=line><span class=cl>  <span class=p>.</span><span class=k>catch</span><span class=p>(</span><span class=kd>function</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Using different databases
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>db</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Database</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>url</span><span class=o>:</span> <span class=s2>&#34;http://localhost:8529&#34;</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nx>db</span><span class=p>.</span><span class=nx>useDatabase</span><span class=p>(</span><span class=s2>&#34;pancakes&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>db</span><span class=p>.</span><span class=nx>useBasicAuth</span><span class=p>(</span><span class=s2>&#34;root&#34;</span><span class=p>,</span> <span class=s2>&#34;&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=c1>// The database can be swapped at any time
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>db</span><span class=p>.</span><span class=nx>useDatabase</span><span class=p>(</span><span class=s2>&#34;waffles&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>db</span><span class=p>.</span><span class=nx>useBasicAuth</span><span class=p>(</span><span class=s2>&#34;admin&#34;</span><span class=p>,</span> <span class=s2>&#34;maplesyrup&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Using ArangoDB behind a reverse proxy
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>db</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Database</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>url</span><span class=o>:</span> <span class=s2>&#34;http://myproxy.local:8000&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>isAbsolute</span><span class=o>:</span> <span class=kc>true</span> <span class=c1>// don&#39;t automatically append database path to URL
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Trigger ArangoDB 2.8 compatibility mode
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>db</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Database</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>arangoVersion</span><span class=o>:</span> <span class=mi>20800</span>
</span></span><span class=line><span class=cl><span class=p>});</span></span></span></code></pre></div><p>For AQL please check out the
<a href=http://arangodb.github.io/arangojs/latest/modules/_aql_.aql.html target=_blank rel="noopener noreferrer" class=link>aql template tag</a>&nbsp;<i class="fas fa-external-link-alt"></i>
for writing parametrized AQL queries without making your code vulnerable to
injection attacks.</p><h2 id=error-responses>Error responses <a href=/3.10/develop/drivers/nodejs/#error-responses class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>If arangojs encounters an API error, it will throw an <em>ArangoError</em> with an
<a href=/3.10/develop/error-codes-and-meanings/ class=link><em>errorNum</em> error code</a>
as well as a <em>code</em> and <em>statusCode</em> property indicating the intended and
actual HTTP status code of the response.</p><p>For any other error responses (4xx/5xx status code), it will throw an
<em>HttpError</em> error with the status code indicated by the <em>code</em> and <em>statusCode</em> properties.</p><p>If the server response did not indicate an error but the response body could
not be parsed, a <em>SyntaxError</em> may be thrown instead.</p><p>In all of these cases the error object will additionally have a <em>response</em>
property containing the server response object.</p><p>If the request failed at a network level or the connection was closed without
receiving a response, the underlying error will be thrown instead.</p><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// Using async/await
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>info</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>db</span><span class=p>.</span><span class=nx>createDatabase</span><span class=p>(</span><span class=s2>&#34;mydb&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=c1>// database created
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>err</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=nx>err</span><span class=p>.</span><span class=nx>stack</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Using promises with arrow functions
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>db</span><span class=p>.</span><span class=nx>createDatabase</span><span class=p>(</span><span class=s2>&#34;mydb&#34;</span><span class=p>).</span><span class=nx>then</span><span class=p>(</span>
</span></span><span class=line><span class=cl>  <span class=nx>info</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// database created
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nx>err</span> <span class=p>=&gt;</span> <span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=nx>err</span><span class=p>.</span><span class=nx>stack</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>);</span></span></span></code></pre></div><div class="box notices cstyle tip"><div class=box-content-container><div class=box-content><i class="fas fa-check"></i><div class=box-text>The examples in the remainder of this documentation use <code>async</code>/<code>await</code>
and other modern language features like multi-line strings and template tags.
When developing for an environment without support for these language features,
substitute promises for <code>await</code> syntax as in the above example.</div></div></div></div><nav class=pagination><span class=prev><a class="nav nav-prev link" href=/3.10/develop/drivers/csharp-dotnet/><i class="fas fa-chevron-left fa-fw"></i><p>C#/.NET driver</p></a></span><span class=next><a class="nav nav-next link" href=/3.10/develop/drivers/python/><p>Python driver</p><i class="fas fa-chevron-right fa-fw"></i></a></span></nav></article><div class=toc-container><a class=edit-page aria-label href=https://github.com/arangodb/docs-hugo/edit/main/site/content/3.10/develop/drivers/nodejs.md target=_blank><i class="fab fa-fw fa-github edit-page-icon"></i></a><div class=toc><div class=toc-content><div class=toc-header><p>On this page</p></div><nav id=TableOfContents><div class=level-2><a href=#compatibility>Compatibility</a></div><div class=level-2><a href=#versions>Versions</a></div><div class=level-2><a href=#install>Install</a></div><div class=level-3><a href=#with-yarn-or-npm>With Yarn or NPM</a></div><div class=level-3><a href=#with-bower>With Bower</a></div><div class=level-3><a href=#from-source>From source</a></div><div class=level-3><a href=#for-browsers>For browsers</a></div><div class=level-2><a href=#basic-usage-example>Basic usage example</a></div><div class=level-2><a href=#error-responses>Error responses</a></div></nav></div></div></div></div></div></section></section></div><button class="back-to-top hidden" onclick=goToTop(event) href=#><i class="fa fa-arrow-up"></i></button><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3>
<script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3></script>
<script type=text/javascript>window.setupDocSearch=function(e){if(!window.docsearch)return;docsearch({appId:"OK3ZBQ5982",apiKey:"500c85ccecb335d507fe4449aed12e1d",indexName:"arangodbdocs",insights:!0,container:"#searchbox",debug:!1,maxResultsPerGroup:10,searchParameters:{facetFilters:[`version:${e}`]}})}</script></body></html>