<!doctype html><html lang=en><head><link href=//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css rel=stylesheet><link href=//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css rel=stylesheet><link href=/css/fontawesome-all.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fontawesome-all.min.css rel=stylesheet></noscript><link href=/css/featherlight.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/featherlight.min.css rel=stylesheet></noscript><link href=/css/nucleus.css rel=stylesheet><link href=/css/fonts.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fonts.css rel=stylesheet></noscript><link href=/css/theme.css rel=stylesheet><link href=/css/theme-relearn-light.css rel=stylesheet id=variant-style><link href=/css/print.css rel=stylesheet media=print><script src=/js/variant.js?1747031427></script>
<script>var root_url="/",baseUriFull,baseUri=root_url.replace(/\/$/,"");window.T_Copy_to_clipboard="",window.T_Copied_to_clipboard="",window.T_Copy_link_to_clipboard="",window.T_Link_copied_to_clipboard="",baseUriFull="http://localhost/",window.variants&&variants.init(["relearn-light"])</script><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.119.0"><meta itemprop=description property="description" content="How to control all resources inside ArangoGraphML in a scriptable manner"><meta property="og:url" content="http://localhost/3.10/data-science/arangographml/getting-started/"><meta property="og:title" content="Getting Started with ArangoGraphML"><meta property="og:type" content="website"><meta property="og:description" content="How to control all resources inside ArangoGraphML in a scriptable manner"><meta name=docsearch:version content="3.10"><title>Getting Started with ArangoGraphML | ArangoDB Documentation</title><link href=/images/favicon.png rel=icon type=image/png><script src=/js/jquery.min.js></script>
<script src=/js/clipboard.min.js?1747031427 defer></script>
<script src=/js/featherlight.min.js?1747031427 defer></script>
<script>var versions=[{alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"},{alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"},{alias:"3.11",deprecated:!1,name:"3.11",version:"3.11.13"},{alias:"3.10",deprecated:!0,name:"3.10",version:"3.10.14"}]</script><script>var develVersion={alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"}</script><script>var stableVersion={alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"}</script><script src=/js/codeblocks.js?1747031427 defer></script>
<script src=/js/theme.js?1747031427 defer></script></head><body><noscript>You need to enable JavaScript to use the ArangoDB documentation.</noscript><div id=page-wrapper class=page_content_splash style=height:auto;opacity:0><section id=page-main><section class=page-container id=page-container><header id=header style="transition:.5s padding ease-out,.15s" class="zn_header_white header-splash-new nav-down header-splash-wrap header1"><div class=header-block-left><div class=mobile-menu-toggle><button id=sidebar-toggle-navigation onclick=showSidebarHandler()><svg width="1.33em" height="1.33em" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button></div><div class=version-logo-container><div class="logo-container hasinfocard_img arangodb-logo-large"><div class=logo><a href=https://www.arangodb.com/><img src=/images/logo_main.png alt=ArangoDB title></a></div></div><div class=arangodb-logo-small><a href=https://arangodb.com/><img alt="ArangoDB Logo" src=/images/ArangoDB_Logo_White_small.png></a></div></div></div><div class=container-right style=display:hidden></div><div class=search-and-version-container><a href=# class="home-link is-current" aria-label="Go to home page" onclick=goToHomepage(event)></a><div id=searchbox></div><script type=text/javascript>const SCRIPT_SRC="https://unpkg.com/@inkeep/widgets-embed@0.2.290/dist/embed.js";function loadAndInitializeInkeep(){if(document.querySelector(`script[src="${SCRIPT_SRC}]"`))return;const e=document.createElement("script");e.type="module",e.src=SCRIPT_SRC,e.onload=initializeInkeep,document.head.appendChild(e)}function initializeInkeep(){const e=Inkeep({integrationId:"clo4lx6jk0000s601cp21x2ok",apiKey:"13b4e56966a76e86c6ff359cd795ee6a0412f751d75d6383",organizationId:"org_HGBkkzGAa4KeGJGh",organizationDisplayName:"ArangoDB",primaryBrandColor:"#80a54d",stringReplacementRules:[{matchingRule:{ruleType:"Substring",string:"Arangograph"},replaceWith:"ArangoGraph"},{matchingRule:{ruleType:"Substring",string:"Aql"},replaceWith:"AQL"},{matchingRule:{ruleType:"Substring",string:"Arangodb"},replaceWith:"ArangoDB"}],customCardSettings:[{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arango.qubitpi.org"}},searchTabLabel:"Official Docs"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"developer.arangodb.com"}},searchTabLabel:"Developer Hub"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arangodb.com"}},searchTabLabel:"Home"}]}),t=e.embed({componentType:"ChatButton",properties:{stylesheetUrls:["/css/fonts.css"],fixedPositionXOffset:"52px",baseSettings:{theme:{primaryColors:{textColorOnPrimary:"white"},tokens:{fonts:{body:"'Inter'",heading:"'Inter'"},zIndex:{overlay:1e4,modal:11e3,popover:12e3,skipLink:13e3,toast:14e3,tooltip:15e3}}}},aiChatSettings:{botAvatarSrcUrl:"/images/ArangoDB_Logo_White_small.png",quickQuestions:["What can you do with AQL that is not feasible with SQL?","How do I search for objects within arrays?","Where can I deploy my ArangoDB instance?"],getHelpCallToActions:[{icon:{builtIn:"FaSlack"},name:"Slack",url:"https://arangodb-community.slack.com/"}]},searchSettings:{tabSettings:{isAllTabEnabled:!1,alwaysDisplayedTabs:["Official Docs","Developer Hub","Home"]}}}})}loadAndInitializeInkeep()</script><div class=version-selector><select id=arangodb-version onchange=changeVersion()><option value=3.13>3.13</option><option value=3.12>3.12</option><option value=3.11>3.11</option><option value=3.10>3.10</option><option value=3.9>3.9</option><option value=3.8>3.8</option></select></div></div></header><iframe src=/nav.html title=description id=menu-iframe class="menu-iframe active" style=opacity:0></iframe><div class=container-main><div class=row-main><nav id=breadcrumbs><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><meta itemprop=itemListOrder content="Descending"><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="3.10"><a itemprop=item class=link href=/3.10/><span itemprop=name class=breadcrumb-entry>3.10.14</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Data Science"><a itemprop=item class=link href=/3.10/data-science/><span itemprop=name class=breadcrumb-entry>Data Science</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="ArangoGraphML"><a itemprop=item class=link href=/3.10/data-science/arangographml/><span itemprop=name class=breadcrumb-entry>ArangoGraphML</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Getting Started"><a itemprop=item class=link href=/3.10/data-science/arangographml/getting-started/><span itemprop=name class=breadcrumb-entry>Getting Started</span></a></li></ol></nav><article class=default><div class="box notices cstyle warning"><div class=box-content-container><div class=box-content><i class="fas fa-exclamation-triangle"></i><div class=box-text><p>ArangoDB v3.10 reached End of Life (EOL) and is no longer supported.</p><p>This documentation is outdated. Please see the most recent <a href=/3.12/data-science/arangographml/getting-started/ class=link>stable version</a>.</p></div></div></div></div><hgroup><h1>Getting Started with ArangoGraphML</h1><p class=lead>How to control all resources inside ArangoGraphML in a scriptable manner</p></hgroup><p>ArangoGraphML provides an easy-to-use & scalable interface to run Graph Machine Learning on ArangoDB Data. Since all of the orchestration and ML logic is managed by ArangoGraph, all that is typically required are JSON specifications outlining individual processes to solve an ML Task. If you are using the self-managed solution, additional configurations may be required.</p><p>The <code>arangoml</code> is a Python Package allowingÂ you to manage all of the necessary ArangoGraphML components, including:</p><ul><li><strong>Project Management</strong>: Projects are a metadata-tracking entity that sit at the top level of ArangoGraphML. All activities must link to a project.</li><li><strong>Featurization</strong>: The step of converting human-understandable data to machine-understandable data (i.e features), such that it can be used to train Graph Neural Networks (GNNs).</li><li><strong>Training</strong>: Train a set of models based on the name of the generated/existing features, and a definition of the ML Task we want to solve (e.g Node Classification, Embedding Generation).</li><li><strong>Model Selection</strong>: Select the best model based on the metrics generated during training.</li><li><strong>Predictions</strong>: Generate predictions based on the selected model, and persit the results to the source graph (either in the source document, or in a new collection).</li></ul><div class="box notices cstyle tip"><div class=box-content-container><div class=box-content><i class="fas fa-check"></i><div class=box-text>To enable the ArangoGraphML services in the ArangoGraph platform,
<a href=https://www.arangodb.com/contact/ target=_blank rel="noopener noreferrer" class=link>get in touch</a>&nbsp;<i class="fas fa-external-link-alt"></i>
with the ArangoDB team. Regular notebooks in ArangoGraph don&rsquo;t include the
<code>arangoml</code> package.</div></div></div></div><p>ArangoGraphML&rsquo;s suite of services and packages is driven by <strong>&ldquo;specifications&rdquo;</strong>. These specifications are standard Python dictionaries that describe the task being performed, & the data being used. The ArangoGraphML services work closely together, with the previous task being used as the input for the next.</p><p>Let&rsquo;s take a look at using the <code>arangoml</code> package to:</p><ol><li>Manage projects</li><li>Featurize data</li><li>Submit Training Jobs</li><li>Evaluate Model Metrics</li><li>Generate Predictions</li></ol><h2 id=initialize-arangoml>Initialize ArangoML <a href=/3.10/data-science/arangographml/getting-started/#initialize-arangoml class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><div class=tab-panel><div class=tab-content><div class=tab-nav><button data-tab-group=arangoml data-tab-item=ArangoGraphML class="tab-nav-button selected" onclick='switchTab("arangoml","ArangoGraphML",event)'>
<span>ArangoGraphML</span></button>
<button data-tab-group=arangoml data-tab-item=Self-managed class=tab-nav-button onclick='switchTab("arangoml","Self-managed",event)'>
<span>Self-managed</span></button></div><div data-tab-item=ArangoGraphML data-tab-group=arangoml class="tab-item
selected"><p><strong>API Documentation: <a href=https://arangoml.github.io/arangoml/magics.html#arangoml.magic.ArangoMLMagics.enable_arangoml target=_blank rel="noopener noreferrer" class=link>arangoml.ArangoMLMagics.enable_arangoml</a>&nbsp;<i class="fas fa-external-link-alt"></i></strong></p><p>The <code>arangoml</code> package comes pre-loaded with every ArangoGraphML notebook environment.
To start using it, simply import it, and enable it via a Jupyter Magic Command.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=n>arangoml</span> <span class=o>=</span> <span class=o>%</span><span class=n>enable_arangoml</span>
</span></span></code></pre></div><div class="box notices cstyle tip"><div class=box-content-container><div class=box-content><i class="fas fa-check"></i><div class=box-text>ArangoGraphML comes with other ArangoDB Magic Commands! See the full list <a href=https://arangoml.github.io/arangoml/magics.html target=_blank rel="noopener noreferrer" class=link>here</a>&nbsp;<i class="fas fa-external-link-alt"></i>.</div></div></div></div></div><div data-tab-item=Self-managed data-tab-group=arangoml class=tab-item><p><strong>API Documentation: <a href=https://arangoml.github.io/arangoml/client.html#arangoml.main.ArangoML target=_blank rel="noopener noreferrer" class=link>arangoml.ArangoML</a>&nbsp;<i class="fas fa-external-link-alt"></i></strong></p><p>The <code>ArangoML</code> class is the main entry point for the <code>arangoml</code> package.
It requires the following parameters:</p><ul><li><code>client</code>: An instance of arango.client.ArangoClient. Defaults to <code>None</code>. If not provided, the <strong>hosts</strong> argument must be provided.</li><li><code>hosts</code>: The ArangoDB host(s) to connect to. This can be a single host, or a
list of hosts.</li><li><code>username</code>: The ArangoDB username to use for authentication.</li><li><code>password</code>: The ArangoDB password to use for authentication.</li><li><code>user_token</code>: The ArangoDB user token to use for authentication.
This is an alternative to username/password authentication.</li><li><code>ca_cert_file</code>: (Optional) The path to the CA certificate file to use for TLS
verification.</li><li><code>user_token</code>: (Optional) The ArangoDB user token to use for authentication.
This is an alternative to username/password authentication.</li><li><code>api_endpoint</code>: The URL to the ArangoGraphML API Service.</li><li><code>settings</code>: (Optional) A list of secrets files to be loaded as settings. Parameters provided as arguments will override those in the settings files (e.g <code>settings.toml</code>).</li><li><code>version</code>: The ArangoML API date version. Defaults to the latest version.</li></ul><p>It is possible to instantiate an ArangoML object in multiple ways:</p><ol><li>Via parameters</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=kn>from</span> <span class=nn>arangoml</span> <span class=kn>import</span> <span class=n>ArangoML</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>arangoml</span> <span class=o>=</span> <span class=n>ArangoML</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>hosts</span><span class=o>=</span><span class=s2>&#34;http://localhost:8529&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>username</span><span class=o>=</span><span class=s2>&#34;root&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>password</span><span class=o>=</span><span class=s2>&#34;password&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=c1># ca_cert_file=&#34;/path/to/ca.pem&#34;,</span>
</span></span><span class=line><span class=cl>    <span class=c1># user_token=&#34;...&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>api_endpoint</span><span class=o>=</span><span class=s2>&#34;http://localhost:8501&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span></code></pre></div><ol start=2><li>Via parameters and a custom <code>ArangoClient</code> instance</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=kn>from</span> <span class=nn>arangoml</span> <span class=kn>import</span> <span class=n>ArangoML</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>arango</span> <span class=kn>import</span> <span class=n>ArangoClient</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>client</span> <span class=o>=</span> <span class=n>ArangoClient</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>hosts</span><span class=o>=</span><span class=s2>&#34;http://localhost:8529&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>verify_override</span><span class=o>=</span><span class=s2>&#34;/path/to/ca.pem&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>hosts_resolver</span><span class=o>=...</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=o>...</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>arangoml</span> <span class=o>=</span> <span class=n>ArangoML</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>client</span><span class=o>=</span><span class=n>client</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>username</span><span class=o>=</span><span class=s2>&#34;root&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>password</span><span class=o>=</span><span class=s2>&#34;password&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=c1># user_token=&#34;...&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>api_endpoint</span><span class=o>=</span><span class=s2>&#34;http://localhost:8501&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span></code></pre></div><ol start=3><li>Via environment variables</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=kn>import</span> <span class=nn>os</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>arangoml</span> <span class=kn>import</span> <span class=n>ArangoML</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=p>[</span><span class=s2>&#34;ARANGODB_HOSTS&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&#34;http://localhost:8529&#34;</span>
</span></span><span class=line><span class=cl><span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=p>[</span><span class=s2>&#34;ARANGODB_CA_CERT_FILE&#34;</span><span class=p>]</span><span class=o>=</span><span class=s2>&#34;/path/to/ca.pem&#34;</span>
</span></span><span class=line><span class=cl><span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=p>[</span><span class=s2>&#34;ARANGODB_USER&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&#34;root&#34;</span>
</span></span><span class=line><span class=cl><span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=p>[</span><span class=s2>&#34;ARANGODB_PW&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&#34;password&#34;</span>
</span></span><span class=line><span class=cl><span class=c1># os.environ[&#34;ARANGODB_USER_TOKEN&#34;] = &#34;...&#34;</span>
</span></span><span class=line><span class=cl><span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=p>[</span><span class=s2>&#34;ML_API_SERVICES_ENDPOINT&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&#34;http://localhost:8501&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>arangoml</span> <span class=o>=</span> <span class=n>ArangoML</span><span class=p>()</span>
</span></span></code></pre></div><ol start=4><li>Via configuration files</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=kn>import</span> <span class=nn>os</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>arangoml</span> <span class=kn>import</span> <span class=n>ArangoML</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>arangoml</span> <span class=o>=</span> <span class=n>ArangoML</span><span class=p>(</span><span class=n>settings_files</span><span class=o>=</span><span class=p>[</span><span class=s2>&#34;settings_1.toml&#34;</span><span class=p>,</span> <span class=s2>&#34;settings_2.toml&#34;</span><span class=p>])</span>
</span></span></code></pre></div><ol start=5><li>Via a Jupyter Magic Command</li></ol><p><strong>API Documentation: <a href=https://arangoml.github.io/arangoml/magics.html#arangoml.magic.ArangoMLMagics.enable_arangoml target=_blank rel="noopener noreferrer" class=link>arangoml.ArangoMLMagics.enable_arangoml</a>&nbsp;<i class="fas fa-external-link-alt"></i></strong></p><pre tabindex=0><code>%load_ext arangoml
%enable_arangoml
</code></pre><div class="box notices cstyle info"><div class=box-content-container><div class=box-content><i class="fas fa-info-circle"></i><div class=box-text>This assumes you are working out of a Jupyter Notebook environment, and
have set the environment variables in the notebook environment with user
authentication that has <strong>_system</strong> access.</div></div></div></div><div class="box notices cstyle tip"><div class=box-content-container><div class=box-content><i class="fas fa-check"></i><div class=box-text>Running <code>%load_ext arangoml</code> also provides access to other <a href=https://arangoml.github.io/arangoml/magics.html target=_blank rel="noopener noreferrer" class=link>ArangoGraphML
Jupyter Magic Commands</a>&nbsp;<i class="fas fa-external-link-alt"></i>.</div></div></div></div></div></div></div><h2 id=load-the-database>Load the database <a href=/3.10/data-science/arangographml/getting-started/#load-the-database class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>This example is using ArangoML to predict the <strong>class</strong> of <code>Events</code> in a
Knowledge Graph constructed from the <a href=https://www.gdeltproject.org/ target=_blank rel="noopener noreferrer" class=link>GDELT Project</a>&nbsp;<i class="fas fa-external-link-alt"></i>.</p><blockquote><p>GDELT monitors the world&rsquo;s news media from nearly every corner of every
country in print, broadcast, and web formats, in over 100 languages, every
moment of every day. [&mldr;] Put simply, the GDELT Project is a realtime open
data global graph over human society as seen through the eyes of the world&rsquo;s
news media, reaching deeply into local events, reaction, discourse, and
emotions of the most remote corners of the world in near-realtime and making
all of this available as an open data firehose to enable research over human
society.</p></blockquote><p>The events used range from peaceful protests to significant battles in Angola.
The image below depicts the connections around an example event:</p><p><figure class=image-caption><img alt="Example Event" src=/images/ArangoML_open_intelligence_sample.png><figcaption></figcaption></figure></p><p>You can also see a larger portion of this graph, showing how the events, actors,
news sources, and locations are interconnected into a large graph.</p><p><figure class=image-caption><img alt="Example Event" src=/images/ArangoML_open_intelligence_visualization.png><figcaption></figcaption></figure></p><p>Let&rsquo;s get started!</p><div class=tab-panel><div class=tab-content><div class=tab-nav><button data-tab-group=arangoml data-tab-item=ArangoGraphML class="tab-nav-button selected" onclick='switchTab("arangoml","ArangoGraphML",event)'>
<span>ArangoGraphML</span></button>
<button data-tab-group=arangoml data-tab-item=Self-managed class=tab-nav-button onclick='switchTab("arangoml","Self-managed",event)'>
<span>Self-managed</span></button></div><div data-tab-item=ArangoGraphML data-tab-group=arangoml class="tab-item
selected"><p>The <a href=https://github.com/arangoml/arangodb_datasets target=_blank rel="noopener noreferrer" class=link>arango-datasets</a>&nbsp;<i class="fas fa-external-link-alt"></i> package
allows you to load pre-defined datasets into ArangoDB. It comes pre-installed in the
ArangoGraphML notebook environment.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=n>DATASET_NAME</span> <span class=o>=</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>%</span><span class=n>delete_database</span> <span class=p>{</span><span class=n>DATASET_NAME</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=o>%</span><span class=n>create_database</span> <span class=p>{</span><span class=n>DATASET_NAME</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=o>%</span><span class=n>use_database</span> <span class=p>{</span><span class=n>DATASET_NAME</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=o>%</span><span class=n>load_dataset</span> <span class=p>{</span><span class=n>DATASET_NAME</span><span class=p>}</span>
</span></span></code></pre></div></div><div data-tab-item=Self-managed data-tab-group=arangoml class=tab-item><p>The <a href=https://github.com/arangoml/arangodb_datasets target=_blank rel="noopener noreferrer" class=link>arango-datasets</a>&nbsp;<i class="fas fa-external-link-alt"></i> package
allows you to load a dataset into ArangoDB. It can be installed with:</p><pre tabindex=0><code>pip install arango-datasets
</code></pre><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=kn>from</span> <span class=nn>arango_datasets.datasets</span> <span class=kn>import</span> <span class=n>Datasets</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>DATASET_NAME</span> <span class=o>=</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>db</span> <span class=o>=</span> <span class=n>arangoml</span><span class=o>.</span><span class=n>client</span><span class=o>.</span><span class=n>db</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>name</span><span class=o>=</span><span class=n>DATASET_NAME</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=n>username</span><span class=o>=</span><span class=n>arangoml</span><span class=o>.</span><span class=n>settings</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&#34;ARANGODB_USER&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=n>password</span><span class=o>=</span><span class=n>arangoml</span><span class=o>.</span><span class=n>settings</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&#34;ARANGODB_PW&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=n>user_token</span><span class=o>=</span><span class=n>arangoml</span><span class=o>.</span><span class=n>settings</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&#34;ARANGODB_USER_TOKEN&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=n>verify</span><span class=o>=</span><span class=kc>True</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Datasets</span><span class=p>(</span><span class=n>dataset_db</span><span class=p>)</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=n>DATASET_NAME</span><span class=p>)</span>
</span></span></code></pre></div></div></div></div><h2 id=projects>Projects <a href=/3.10/data-science/arangographml/getting-started/#projects class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><strong>API Documentation: <a href=https://arangoml.github.io/arangoml/api.html#projects target=_blank rel="noopener noreferrer" class=link>ArangoML.projects</a>&nbsp;<i class="fas fa-external-link-alt"></i></strong></p><p>Projects are an important reference used throughout the entire ArangoGraphML
lifecycle. All activities link back to a project. The creation of the project
is very simple.</p><h3 id=getcreate-a-project>Get/Create a project <a href=/3.10/data-science/arangographml/getting-started/#getcreate-a-project class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=n>project</span> <span class=o>=</span> <span class=n>arangoml</span><span class=o>.</span><span class=n>get_or_create_project</span><span class=p>(</span><span class=n>DATASET_NAME</span><span class=p>)</span>
</span></span></code></pre></div><h3 id=list-projects>List projects <a href=/3.10/data-science/arangographml/getting-started/#list-projects class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=n>arangoml</span><span class=o>.</span><span class=n>projects</span><span class=o>.</span><span class=n>list_projects</span><span class=p>()</span>
</span></span></code></pre></div><h2 id=featurization>Featurization <a href=/3.10/data-science/arangographml/getting-started/#featurization class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><strong>API Documentation: <a href=https://arangoml.github.io/arangoml/api.html#agml_api.jobs.v1.api.jobs_api.JobsApi.featurize target=_blank rel="noopener noreferrer" class=link>ArangoML.jobs.featurize</a>&nbsp;<i class="fas fa-external-link-alt"></i></strong></p><p><strong>The Featurization Service depends on a <code>Featurization Specification</code> that contains</strong>:</p><ul><li><p><code>featurizationName</code>: A name for the featurization task.</p></li><li><p><code>projectName</code>: The associated project name. You can use <code>project.name</code> here
if it was created or retrieved as described above.</p></li><li><p><code>graphName</code>: The associated graph name that exists within the database.</p></li><li><p><code>featureSetID</code> Optional: The ID of an existing Feature Set to re-use. If provided, the <code>metagraph</code> dictionary can be ommitted. Defaults to <code>None</code>.</p></li><li><p><code>featurizationConfiguration</code> Optional: The optional default configuration to be applied
across all features. Individual collection feature settings override this option.</p><ul><li><p><code>featurePrefix</code>: The prefix to be applied to all individual features generated. Default is <code>feat_</code>.</p></li><li><p><code>outputName</code>: Adjust the default feature name. This can be any valid ArangoDB attribute name. Defaults to <code>x</code>.</p></li><li><p><code>dimensionalityReduction</code>: Object configuring dimensionality reduction.</p><ul><li><code>disabled</code>: Boolean for enabling or disabling dimensionality reduction. Default is <code>false</code>.</li><li><code>size</code>: The number of dimensions to reduce the feature length to. Default is <code>512</code>.</li></ul></li><li><p><code>defaultsPerFeatureType</code>: A dictionary mapping each feature to how missing or mismatched values should be handled. The keys of this dictionary are the features, and the values are sub-dictionaries with the following keys:</p><ul><li><code>missing</code>: A sub-dictionary detailing how missing values should be handled.<ul><li><code>strategy</code>: The strategy to use for missing values. Options include <code>REPLACE</code> or <code>RAISE</code>.</li><li><code>replacement</code>: The value to replace missing values with. Only needed if <code>strategy</code> is <code>REPLACE</code>.</li></ul></li><li><code>mismatch</code>: A sub-dictionary detailing how mismatched values should be handled.<ul><li><code>strategy</code>: The strategy to use for mismatched values. Options include <code>REPLACE</code>, <code>RAISE</code>, <code>COERCE_REPLACE</code>, or <code>COERCE_RAISE</code>.</li><li><code>replacement</code>: The value to replace mismatched values with. Only needed if <code>strategy</code> is <code>REPLACE</code>, or <code>COERCE_REPLACE</code>.</li></ul></li></ul></li></ul></li><li><p><code>jobConfiguration</code> Optional: A set of configurations that are applied to the job.</p><ul><li><code>batchSize</code>: The number of documents to process in a single batch. Default is <code>32</code>.</li><li><code>runAnalysisChecks</code>: Boolean for enabling or disabling analysis checks. Default is <code>true</code>.</li><li><code>skipLabels</code>: Boolean for enabling or disabling label skipping. Default is <code>false</code>.</li><li><code>overwriteFSGraph</code>: Boolean for enabling or disabling overwriting the feature store graph. Default is <code>false</code>.</li><li><code>writeToSourceGraph</code>: Boolean for enabling or disabling writing features to the source graph. Default is <code>true</code>.</li><li><code>useFeatureStore</code>: Boolean for enabling or disabling the use of the feature store. Default is <code>false</code>.</li></ul></li><li><p><code>metagraph</code>: Metadata to represent the vertex & edge collections of the graph.</p><ul><li><code>vertexCollections</code>: A dictionary mapping the vertex collection names to the following values:<ul><li><code>features</code>: A dictionary mapping document properties to the following values:<ul><li><code>featureType</code>: The type of feature. Options include <code>text</code>, <code>category</code>, <code>numeric</code>, or <code>label</code>.</li></ul></li><li><code>config</code>: Collection-level configuration settings.<ul><li><code>featurePrefix</code>: Identical to global <code>featurePrefix</code> but for this collection.</li><li><code>dimensionalityReduction</code>: Identical to global <code>dimensionalityReduction</code> but for this collection.</li><li><code>outputName</code>: Identical to global <code>outputName</code> but for this collection.</li><li><code>defaultsPerFeatureType</code>: Identical to global <code>defaultsPerFeatureType</code> but for this collection.</li></ul></li></ul></li><li><code>edgeCollections</code>: A dictionary mapping the edge collection names to an empty dictionary, as edge attributes are not currently supported.</li></ul></li></ul><p>The Featurization Specification example is used for the GDELT dataset:</p><ul><li>It featurizes the <code>name</code> attribute of the <code>Actor</code>, <code>Class</code>, <code>Country</code>,
<code>Source</code>, <code>Location</code>, and <code>Region</code> collections as a <code>text</code> features.</li><li>It featurizes the <code>description</code> attribute of the <code>Event</code> collection as a
<code>text</code> feature.</li><li>It featurizes the <code>label</code> attribute of the <code>Event</code> collection as a <code>label</code>
feature (this is the attribute you want to predict).</li><li>It featurizes the <code>sourceScale</code> attribute of the <code>Source</code> collection as a
<code>category</code> feature.</li><li>It featurizes the <code>name</code> attribute of the <code>Region</code> collection as a
<code>category</code> feature.</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=c1># 1. Define the Featurization Specification</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>featurization_spec</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;databaseName&#34;</span><span class=p>:</span> <span class=n>dataset_db</span><span class=o>.</span><span class=n>name</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;projectName&#34;</span><span class=p>:</span> <span class=n>project</span><span class=o>.</span><span class=n>name</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;graphName&#34;</span><span class=p>:</span> <span class=n>graph</span><span class=o>.</span><span class=n>name</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;featurizationName&#34;</span><span class=p>:</span> <span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>DATASET_NAME</span><span class=si>}</span><span class=s2>_Featurization&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;featurizationConfiguration&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;featurePrefix&#34;</span><span class=p>:</span> <span class=s2>&#34;feat_&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;dimensionalityReduction&#34;</span><span class=p>:</span> <span class=p>{</span> <span class=s2>&#34;size&#34;</span><span class=p>:</span> <span class=mi>256</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;outputName&#34;</span><span class=p>:</span> <span class=s2>&#34;x&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;jobConfiguration&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;batchSize&#34;</span><span class=p>:</span> <span class=mi>512</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;useFeatureStore&#34;</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;runAnalysisChecks&#34;</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;metagraph&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;vertexCollections&#34;</span><span class=p>:</span> <span class=p>{</span> 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;Actor&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;features&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;name&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                        <span class=s2>&#34;featureType&#34;</span><span class=p>:</span> <span class=s2>&#34;text&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=p>},</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;Country&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;features&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;name&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                        <span class=s2>&#34;featureType&#34;</span><span class=p>:</span> <span class=s2>&#34;text&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=p>}</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;Event&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;features&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;description&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                        <span class=s2>&#34;featureType&#34;</span><span class=p>:</span> <span class=s2>&#34;text&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=p>},</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;label&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                        <span class=s2>&#34;featureType&#34;</span><span class=p>:</span> <span class=s2>&#34;label&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=p>},</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;Source&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;features&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;name&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                        <span class=s2>&#34;featureType&#34;</span><span class=p>:</span> <span class=s2>&#34;text&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=p>},</span>            
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;sourceScale&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                        <span class=s2>&#34;featureType&#34;</span><span class=p>:</span> <span class=s2>&#34;category&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=p>},</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;Location&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;features&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;name&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                        <span class=s2>&#34;featureType&#34;</span><span class=p>:</span> <span class=s2>&#34;text&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=p>}</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;Region&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;features&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;name&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                        <span class=s2>&#34;featureType&#34;</span><span class=p>:</span> <span class=s2>&#34;category&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=p>},</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;edgeCollections&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;eventActor&#34;</span><span class=p>:</span> <span class=p>{},</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;hasSource&#34;</span><span class=p>:</span> <span class=p>{},</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;hasLocation&#34;</span><span class=p>:</span> <span class=p>{},</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;inCountry&#34;</span><span class=p>:</span> <span class=p>{},</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;inRegion&#34;</span><span class=p>:</span> <span class=p>{},</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Once the specification has been defined, a Featurization Job can be triggered using the <code>arangoml.jobs.featurize</code> method:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=c1># 2. Submit a Featurization Job</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>featurization_job</span> <span class=o>=</span> <span class=n>arangoml</span><span class=o>.</span><span class=n>jobs</span><span class=o>.</span><span class=n>featurize</span><span class=p>(</span><span class=n>featurization_spec</span><span class=p>)</span>
</span></span></code></pre></div><p>Once a Featurization Job has been submitted, you can wait for it to complete using the <code>arangoml.wait_for_featurization</code> method:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=c1># 3. Wait for the Featurization Job to complete</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>featurization_job_result</span> <span class=o>=</span> <span class=n>arangoml</span><span class=o>.</span><span class=n>wait_for_featurization</span><span class=p>(</span><span class=n>featurization_job</span><span class=o>.</span><span class=n>job_id</span><span class=p>)</span>
</span></span></code></pre></div><p><strong>Example Output:</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;job_id&#34;</span><span class=p>:</span> <span class=s2>&#34;16349541&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;output_db_name&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;graph&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;feature_set_id&#34;</span><span class=p>:</span> <span class=s2>&#34;16349537&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;feature_set_ids&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;16349537&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;vertexCollections&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;Actor&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;x&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA_x&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;Class&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;x&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA_x&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;Country&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;x&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA_x&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;Event&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;x&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA_x&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;y&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA_y&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;Source&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;x&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA_x&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;Location&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;x&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA_x&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;Region&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;x&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA_x&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;edgeCollections&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;eventActor&#34;</span><span class=p>:</span> <span class=p>{},</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hasSource&#34;</span><span class=p>:</span> <span class=p>{},</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hasLocation&#34;</span><span class=p>:</span> <span class=p>{},</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;inCountry&#34;</span><span class=p>:</span> <span class=p>{},</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;inRegion&#34;</span><span class=p>:</span> <span class=p>{},</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;subClass&#34;</span><span class=p>:</span> <span class=p>{},</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;type&#34;</span><span class=p>:</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;label_field&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA_y&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;input_field&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA_x&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;feature_set_id_to_results&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;16349537&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;feature_set_id&#34;</span><span class=p>:</span> <span class=s2>&#34;16349537&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;output_db_name&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;graph&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;vertexCollections&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;Actor&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                  <span class=s2>&#34;x&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA_x&#34;</span>
</span></span><span class=line><span class=cl>              <span class=p>},</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;Class&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                  <span class=s2>&#34;x&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA_x&#34;</span>
</span></span><span class=line><span class=cl>              <span class=p>},</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;Country&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                  <span class=s2>&#34;x&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA_x&#34;</span>
</span></span><span class=line><span class=cl>              <span class=p>},</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;Event&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                  <span class=s2>&#34;x&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA_x&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                  <span class=s2>&#34;y&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA_y&#34;</span>
</span></span><span class=line><span class=cl>              <span class=p>},</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;Source&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                  <span class=s2>&#34;x&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA_x&#34;</span>
</span></span><span class=line><span class=cl>              <span class=p>},</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;Location&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                  <span class=s2>&#34;x&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA_x&#34;</span>
</span></span><span class=line><span class=cl>              <span class=p>},</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;Region&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                  <span class=s2>&#34;x&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA_x&#34;</span>
</span></span><span class=line><span class=cl>              <span class=p>}</span>
</span></span><span class=line><span class=cl>          <span class=p>},</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;edgeCollections&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;eventActor&#34;</span><span class=p>:</span> <span class=p>{},</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;hasSource&#34;</span><span class=p>:</span> <span class=p>{},</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;hasLocation&#34;</span><span class=p>:</span> <span class=p>{},</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;inCountry&#34;</span><span class=p>:</span> <span class=p>{},</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;inRegion&#34;</span><span class=p>:</span> <span class=p>{},</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;subClass&#34;</span><span class=p>:</span> <span class=p>{},</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;type&#34;</span><span class=p>:</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>          <span class=p>},</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;label_field&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA_y&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;input_field&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA_x&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;is_feature_store&#34;</span><span class=p>:</span> <span class=n>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;target_collection&#34;</span><span class=p>:</span> <span class=s2>&#34;Event&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;is_feature_store&#34;</span><span class=p>:</span> <span class=n>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;target_collection&#34;</span><span class=p>:</span> <span class=s2>&#34;Event&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>You can also cancel a Featurization Job using the <code>arangoml.jobs.cancel_job</code> method:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>arangoml</span><span class=o>.</span><span class=n>jobs</span><span class=o>.</span><span class=n>cancel_job</span><span class=p>(</span><span class=n>prediction_job</span><span class=o>.</span><span class=n>job_id</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=training>Training <a href=/3.10/data-science/arangographml/getting-started/#training class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><strong>API Documentation: <a href=https://arangoml.github.io/arangoml/api.html#agml_api.jobs.v1.api.jobs_api.JobsApi.train target=_blank rel="noopener noreferrer" class=link>ArangoML.jobs.train</a>&nbsp;<i class="fas fa-external-link-alt"></i></strong></p><p>Training Graph Machine Learning Models with ArangoGraphML only requires two steps:</p><ol><li>Describe which data points should be included in the Training Job.</li><li>Pass the Training Specification to the Training Service.</li></ol><p><strong>The Training Service depends on a <code>Training Specification</code> that contains</strong>:</p><ul><li><p><code>featureSetID</code>: The feature set ID that was generated during the Featurization Job (if any). It replaces the need to provide the <code>metagraph</code>, <code>databaseName</code>, and <code>projectName</code> fields.</p></li><li><p><code>databaseName</code>: The database name the source data is in. Can be omitted if <code>featureSetID</code> is provided.</p></li><li><p><code>projectName</code>: The top-level project to which all the experiments will link back. Can be omitted if <code>featureSetID</code> is provided.</p></li><li><p><code>useFeatureStore</code>: Boolean for enabling or disabling the use of the feature store. Default is <code>false</code>.</p></li><li><p><code>mlSpec</code>: Describes the desired machine learning task, input features, and
the attribute label to be predicted.</p><ul><li><code>classification</code>: Dictionary to describe the Node Classification Task Specification.<ul><li><code>targetCollection</code>: The ArangoDB collection name that contains the prediction label.</li><li><code>inputFeatures</code>: The name of the feature to be used as input.</li><li><code>labelField</code>: The name of the attribute to be predicted.</li><li><code>batchSize</code>: The number of documents to process in a single batch. Default is <code>64</code>.</li></ul></li></ul></li><li><p><code>metagraph</code>: Metadata to represent the vertex & edge collections of the graph. If <code>featureSetID</code> is provided, this can be omitted.</p><ul><li><code>graph</code>: The ArangoDB graph name.</li><li><code>vertexCollections</code>: A dictionary mapping the collection names to the following values:<ul><li><code>x</code>: The name of the feature to be used as input.</li><li><code>y</code>: The name of the attribute to be predicted. Can only be specified for one collection.</li></ul></li><li><code>edgeCollections</code>: A dictionary mapping the edge collection names to an empty dictionary, as edge features are not currently supported.</li></ul></li></ul><p>A Training Specification allows for concisely defining your training task in a
single object and then passing that object to the training service using the
Python API client, as shown below.</p><p>The ArangoGraphML Training Service is responsible for training a series of
Graph Machine Learning Models using the data provided in the Training
Specification. It assumes that the data has been featurized and is ready to be
used for training.</p><p>Given that we have run a Featurization Job, we can create the Training Specification using the <code>featurization_job_result</code> object returned from the Featurization Job:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=c1># 1. Define the Training Specification</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>training_spec</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;featureSetID&#34;</span><span class=p>:</span> <span class=n>featurization_job_result</span><span class=o>.</span><span class=n>result</span><span class=o>.</span><span class=n>feature_set_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;mlSpec&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;classification&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;targetCollection&#34;</span><span class=p>:</span> <span class=s2>&#34;Event&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;inputFeatures&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA_x&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;labelField&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA_y&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Once the specification has been defined, a Training Job can be triggered using the <code>arangoml.jobs.train</code> method:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=c1># 2. Submit a Training Job</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>training_job</span> <span class=o>=</span> <span class=n>arangoml</span><span class=o>.</span><span class=n>jobs</span><span class=o>.</span><span class=n>train</span><span class=p>(</span><span class=n>training_spec</span><span class=p>)</span>
</span></span></code></pre></div><p>Once a Training Job has been submitted, you can wait for it to complete using the <code>arangoml.wait_for_training</code> method:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=c1># 3. Wait for the Training Job to complete</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>training_job_result</span> <span class=o>=</span> <span class=n>arangoml</span><span class=o>.</span><span class=n>wait_for_training</span><span class=p>(</span><span class=n>training_job</span><span class=o>.</span><span class=n>job_id</span><span class=p>)</span>
</span></span></code></pre></div><p><strong>Example Output:</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;job_id&#34;</span><span class=p>:</span> <span class=s2>&#34;691ceb2f-1931-492a-b4eb-0536925a4697&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;job_status&#34;</span><span class=p>:</span> <span class=s2>&#34;COMPLETED&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;project_name&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA_GraphML_Node_Classification&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;project_id&#34;</span><span class=p>:</span> <span class=s2>&#34;16832427&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;database_name&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;metagraph&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;mlSpec&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;classification&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;targetCollection&#34;</span><span class=p>:</span> <span class=s2>&#34;Event&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;inputFeatures&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA_x&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;labelField&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA_y&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;metrics&#34;</span><span class=p>:</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>          <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;graph&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;vertexCollections&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;Actor&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;x&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA_x&#34;</span>
</span></span><span class=line><span class=cl>          <span class=p>},</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;Class&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;x&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA_x&#34;</span>
</span></span><span class=line><span class=cl>          <span class=p>},</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;Country&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;x&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA_x&#34;</span>
</span></span><span class=line><span class=cl>          <span class=p>},</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;Event&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;x&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA_x&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;y&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA_y&#34;</span>
</span></span><span class=line><span class=cl>          <span class=p>},</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;Source&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;x&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA_x&#34;</span>
</span></span><span class=line><span class=cl>          <span class=p>},</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;Location&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;x&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA_x&#34;</span>
</span></span><span class=line><span class=cl>          <span class=p>},</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;Region&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;x&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA_x&#34;</span>
</span></span><span class=line><span class=cl>          <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;edgeCollections&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;eventActor&#34;</span><span class=p>:</span> <span class=p>{},</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;hasSource&#34;</span><span class=p>:</span> <span class=p>{},</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;hasLocation&#34;</span><span class=p>:</span> <span class=p>{},</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;inCountry&#34;</span><span class=p>:</span> <span class=p>{},</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;inRegion&#34;</span><span class=p>:</span> <span class=p>{},</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;subClass&#34;</span><span class=p>:</span> <span class=p>{},</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;type&#34;</span><span class=p>:</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;batch_size&#34;</span><span class=p>:</span> <span class=mi>64</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;time_submitted&#34;</span><span class=p>:</span> <span class=s2>&#34;2024-01-12T02:19:19.686286&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;time_started&#34;</span><span class=p>:</span> <span class=s2>&#34;2024-01-12T02:19:29.403742&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;time_ended&#34;</span><span class=p>:</span> <span class=s2>&#34;2024-01-12T02:30:59.313038&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;job_state&#34;</span><span class=p>:</span> <span class=kc>None</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;job_conditions&#34;</span><span class=p>:</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>You can also cancel a Training Job using the <code>arangoml.jobs.cancel_job</code> method:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>arangoml</span><span class=o>.</span><span class=n>jobs</span><span class=o>.</span><span class=n>cancel_job</span><span class=p>(</span><span class=n>training_job</span><span class=o>.</span><span class=n>job_id</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=model-selection>Model Selection <a href=/3.10/data-science/arangographml/getting-started/#model-selection class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>Model Statistics can be observed upon completion of a Training Job.
To select a Model, the ArangoGraphML Projects Service can be used to gather
all relevant models and choose the preferred model for a Prediction Job.</p><p>First, let&rsquo;s list all the trained models using <a href=https://arangoml.github.io/arangoml/client.html#arangoml.main.ArangoML.list_models target=_blank rel="noopener noreferrer" class=link>ArangoML.list_models</a>&nbsp;<i class="fas fa-external-link-alt"></i>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=c1># 1. List all trained Models</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>models</span> <span class=o>=</span> <span class=n>arangoml</span><span class=o>.</span><span class=n>list_models</span><span class=p>(</span>
</span></span><span class=line><span class=cl>  <span class=n>project_name</span><span class=o>=</span><span class=n>project</span><span class=o>.</span><span class=n>name</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=n>training_job_id</span><span class=o>=</span><span class=n>training_job</span><span class=o>.</span><span class=n>job_id</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>models</span><span class=p>))</span>
</span></span></code></pre></div><p>The cell below selects the model with the highest <strong>test accuracy</strong> using <a href=https://arangoml.github.io/arangoml/client.html#arangoml.main.ArangoML.get_best_model target=_blank rel="noopener noreferrer" class=link>ArangoML.get_best_model</a>&nbsp;<i class="fas fa-external-link-alt"></i>, but there may be other factors that motivate you to choose another model. See the <code>model_statistics</code> in the output field below for more information on the full list of available metrics.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=n>best_model</span> <span class=o>=</span> <span class=n>arangoml</span><span class=o>.</span><span class=n>get_best_model</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>project</span><span class=o>.</span><span class=n>name</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>training_job</span><span class=o>.</span><span class=n>job_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>sort_parent_key</span><span class=o>=</span><span class=s2>&#34;test&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>sort_child_key</span><span class=o>=</span><span class=s2>&#34;accuracy&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>best_model</span><span class=p>)</span>
</span></span></code></pre></div><p><strong>Example Output:</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;job_id&#34;</span><span class=p>:</span> <span class=s2>&#34;691ceb2f-1931-492a-b4eb-0536925a4697&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;model_id&#34;</span><span class=p>:</span> <span class=s2>&#34;02297435-3394-4e7e-aaac-82e1d224f85c&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;model_statistics&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_id&#34;</span><span class=p>:</span> <span class=s2>&#34;devperf/123&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_key&#34;</span><span class=p>:</span> <span class=s2>&#34;123&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_rev&#34;</span><span class=p>:</span> <span class=s2>&#34;_gkUc8By--_&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;run_id&#34;</span><span class=p>:</span> <span class=s2>&#34;123&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;test&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;accuracy&#34;</span><span class=p>:</span> <span class=mf>0.8891242216547955</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;confusion_matrix&#34;</span><span class=p>:</span> <span class=p>[[</span><span class=mi>13271</span><span class=p>,</span> <span class=mi>2092</span><span class=p>],</span> <span class=p>[</span><span class=mi>1276</span><span class=p>,</span> <span class=mi>5684</span><span class=p>]],</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;f1&#34;</span><span class=p>:</span> <span class=mf>0.9</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;loss&#34;</span><span class=p>:</span> <span class=mf>0.1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;precision&#34;</span><span class=p>:</span> <span class=mf>0.9</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;recall&#34;</span><span class=p>:</span> <span class=mf>0.8</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;roc_auc&#34;</span><span class=p>:</span> <span class=mf>0.8</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;validation&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;accuracy&#34;</span><span class=p>:</span> <span class=mf>0.9</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;confusion_matrix&#34;</span><span class=p>:</span> <span class=p>[[</span><span class=mi>13271</span><span class=p>,</span> <span class=mi>2092</span><span class=p>],</span> <span class=p>[</span><span class=mi>1276</span><span class=p>,</span> <span class=mi>5684</span><span class=p>]],</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;f1&#34;</span><span class=p>:</span> <span class=mf>0.85</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;loss&#34;</span><span class=p>:</span> <span class=mf>0.1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;precision&#34;</span><span class=p>:</span> <span class=mf>0.86</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;recall&#34;</span><span class=p>:</span> <span class=mf>0.85</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;roc_auc&#34;</span><span class=p>:</span> <span class=mf>0.85</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;target_collection&#34;</span><span class=p>:</span> <span class=s2>&#34;Event&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;target_field&#34;</span><span class=p>:</span> <span class=s2>&#34;label&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=prediction>Prediction <a href=/3.10/data-science/arangographml/getting-started/#prediction class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><strong>API Documentation: <a href=https://arangoml.github.io/arangoml/api.html#agml_api.jobs.v1.api.jobs_api.JobsApi.predict target=_blank rel="noopener noreferrer" class=link>ArangoML.jobs.predict</a>&nbsp;<i class="fas fa-external-link-alt"></i></strong></p><p>Final step!</p><p>After selecting a model, a Prediction Job can be created. The Prediction Job
will generate predictions and persist them to the source graph in a new
collection, or within the source documents.</p><p><strong>The Prediction Service depends on a <code>Prediction Specification</code> that contains</strong>:</p><ul><li><code>projectName</code>: The top-level project to which all the experiments will link back.</li><li><code>databaseName</code>: The database name the source data is in.</li><li><code>modelID</code>: The model ID to use for generating predictions.</li><li><code>featurizeNewDocuments</code>: Boolean for enabling or disabling the featurization of new documents. Useful if you don&rsquo;t want to re-train the model upon new data. Default is <code>false</code>.</li><li><code>featurizeOutdatedDocuments</code>: Boolean for enabling or disabling the featurization of outdated documents. Outdated documents are those whose features have changed since the last featurization. Default is <code>false</code>.</li><li><code>schedule</code>: A cron expression to schedule the prediction job (e.g <code>0 0 * * *</code> for daily predictions). Default is <code>None</code>.</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=c1># 1. Define the Prediction Specification</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>prediction_spec</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;projectName&#34;</span><span class=p>:</span> <span class=n>project</span><span class=o>.</span><span class=n>name</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;databaseName&#34;</span><span class=p>:</span> <span class=n>dataset_db</span><span class=o>.</span><span class=n>name</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;modelID&#34;</span><span class=p>:</span> <span class=n>best_model</span><span class=o>.</span><span class=n>model_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>This job updates all documents with the predictions derived from the trained model.
Once the specification has been defined, a Prediction Job can be triggered using the <code>arangoml.jobs.predict</code> method:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=c1># 2. Submit a Prediction Job</span>
</span></span><span class=line><span class=cl><span class=n>prediction_job</span> <span class=o>=</span> <span class=n>arangoml</span><span class=o>.</span><span class=n>jobs</span><span class=o>.</span><span class=n>predict</span><span class=p>(</span><span class=n>prediction_spec</span><span class=p>)</span>
</span></span></code></pre></div><p>Similar to the Training Service, we can wait for a Prediction Job to complete with the <code>arangoml.wait_for_prediction</code> method:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=c1># 3. Wait for the Prediction Job to complete</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>prediction_job_result</span> <span class=o>=</span> <span class=n>arangoml</span><span class=o>.</span><span class=n>wait_for_prediction</span><span class=p>(</span><span class=n>prediction_job</span><span class=o>.</span><span class=n>job_id</span><span class=p>)</span>
</span></span></code></pre></div><p><strong>Example Output:</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;job_id&#34;</span><span class=p>:</span> <span class=s2>&#34;b2a422bb-5650-4fbc-ba6b-0578af0049d9&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;job_status&#34;</span><span class=p>:</span> <span class=s2>&#34;COMPLETED&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;project_name&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA_GraphML_Node_Classification&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;project_id&#34;</span><span class=p>:</span> <span class=s2>&#34;16832427&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;database_name&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;model_id&#34;</span><span class=p>:</span> <span class=s2>&#34;1a365657-f5ed-4da9-948b-1ff60bc6e7de&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;job_state_information&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;outputGraphName&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;outputCollectionName&#34;</span><span class=p>:</span> <span class=s2>&#34;Event&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;outputAttribute&#34;</span><span class=p>:</span> <span class=s2>&#34;OPEN_INTELLIGENCE_ANGOLA_y_predicted&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;numberOfPredictedDocuments&#34;</span><span class=p>:</span> <span class=mi>3302</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;outputEdgeCollectionName&#34;</span><span class=p>:</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;time_submitted&#34;</span><span class=p>:</span> <span class=s2>&#34;2024-01-12T02:31:18.382625&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;time_started&#34;</span><span class=p>:</span> <span class=s2>&#34;2024-01-12T02:31:23.550469&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;time_ended&#34;</span><span class=p>:</span> <span class=s2>&#34;2024-01-12T02:31:40.021035&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>You can also cancel a Prediction Job using the <code>arangoml.jobs.cancel_job</code> method:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>arangoml</span><span class=o>.</span><span class=n>jobs</span><span class=o>.</span><span class=n>cancel_job</span><span class=p>(</span><span class=n>prediction_job</span><span class=o>.</span><span class=n>job_id</span><span class=p>)</span>
</span></span></code></pre></div><h3 id=viewing-predictions>Viewing Predictions <a href=/3.10/data-science/arangographml/getting-started/#viewing-predictions class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>We can now access our predictions via AQL:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=kn>import</span> <span class=nn>json</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>collection_name</span> <span class=o>=</span> <span class=n>prediction_job_result</span><span class=o>.</span><span class=n>job_state_information</span><span class=p>[</span><span class=s1>&#39;outputCollectionName&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>query</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>  FOR doc IN `</span><span class=si>{</span><span class=n>collection_name</span><span class=si>}</span><span class=s2>`
</span></span></span><span class=line><span class=cl><span class=s2>    SORT RAND()
</span></span></span><span class=line><span class=cl><span class=s2>    LIMIT 3
</span></span></span><span class=line><span class=cl><span class=s2>    RETURN doc
</span></span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>docs</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>dataset_db</span><span class=o>.</span><span class=n>aql</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=n>query</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>(</span><span class=n>docs</span><span class=p>,</span> <span class=n>indent</span><span class=o>=</span><span class=mi>2</span><span class=p>))</span>
</span></span></code></pre></div><nav class=pagination><span class=prev><a class="nav nav-prev link" href=/3.10/data-science/arangographml/deploy/><i class="fas fa-chevron-left fa-fw"></i><p>Deploy</p></a></span><span class=next><a class="nav nav-next link" href=/3.10/data-science/arangograph-notebooks/><p>ArangoGraph Notebooks</p><i class="fas fa-chevron-right fa-fw"></i></a></span></nav></article><div class=toc-container><a class=edit-page aria-label href=https://github.com/arangodb/docs-hugo/edit/main/site/content/3.10/data-science/arangographml/getting-started.md target=_blank><i class="fab fa-fw fa-github edit-page-icon"></i></a><div class=toc><div class=toc-content><div class=toc-header><p>On this page</p></div><nav id=TableOfContents><div class=level-2><a href=#initialize-arangoml>Initialize ArangoML</a></div><div class=level-2><a href=#load-the-database>Load the database</a></div><div class=level-2><a href=#projects>Projects</a></div><div class=level-3><a href=#getcreate-a-project>Get/Create a project</a></div><div class=level-3><a href=#list-projects>List projects</a></div><div class=level-2><a href=#featurization>Featurization</a></div><div class=level-2><a href=#training>Training</a></div><div class=level-2><a href=#model-selection>Model Selection</a></div><div class=level-2><a href=#prediction>Prediction</a></div><div class=level-3><a href=#viewing-predictions>Viewing Predictions</a></div></nav></div></div></div></div></div></section></section></div><button class="back-to-top hidden" onclick=goToTop(event) href=#><i class="fa fa-arrow-up"></i></button><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3>
<script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3></script>
<script type=text/javascript>window.setupDocSearch=function(e){if(!window.docsearch)return;docsearch({appId:"OK3ZBQ5982",apiKey:"500c85ccecb335d507fe4449aed12e1d",indexName:"arangodbdocs",insights:!0,container:"#searchbox",debug:!1,maxResultsPerGroup:10,searchParameters:{facetFilters:[`version:${e}`]}})}</script></body></html>