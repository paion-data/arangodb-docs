<!doctype html><html lang=en><head><link href=//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css rel=stylesheet><link href=//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css rel=stylesheet><link href=/css/fontawesome-all.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fontawesome-all.min.css rel=stylesheet></noscript><link href=/css/featherlight.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/featherlight.min.css rel=stylesheet></noscript><link href=/css/nucleus.css rel=stylesheet><link href=/css/fonts.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fonts.css rel=stylesheet></noscript><link href=/css/theme.css rel=stylesheet><link href=/css/theme-relearn-light.css rel=stylesheet id=variant-style><link href=/css/print.css rel=stylesheet media=print><script src=/js/variant.js?1743775370></script>
<script>var root_url="/",baseUriFull,baseUri=root_url.replace(/\/$/,"");window.T_Copy_to_clipboard="",window.T_Copied_to_clipboard="",window.T_Copy_link_to_clipboard="",window.T_Link_copied_to_clipboard="",baseUriFull="http://localhost/",window.variants&&variants.init(["relearn-light"])</script><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.119.0"><meta itemprop=description property="description" content="Query types, whitespace, comments, keywords, and names in the AQL language explained"><meta property="og:url" content="http://localhost/3.10/aql/fundamentals/syntax/"><meta property="og:title" content="AQL Syntax"><meta property="og:type" content="website"><meta property="og:description" content="Query types, whitespace, comments, keywords, and names in the AQL language explained"><meta name=docsearch:version content="3.10"><title>AQL Syntax | ArangoDB Documentation</title><link href=/images/favicon.png rel=icon type=image/png><script src=/js/jquery.min.js></script>
<script src=/js/clipboard.min.js?1743775370 defer></script>
<script src=/js/featherlight.min.js?1743775370 defer></script>
<script>var versions=[{alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"},{alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"},{alias:"3.11",deprecated:!1,name:"3.11",version:"3.11.13"},{alias:"3.10",deprecated:!0,name:"3.10",version:"3.10.14"}]</script><script>var develVersion={alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"}</script><script>var stableVersion={alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"}</script><script src=/js/codeblocks.js?1743775370 defer></script>
<script src=/js/theme.js?1743775370 defer></script></head><body><noscript>You need to enable JavaScript to use the ArangoDB documentation.</noscript><div id=page-wrapper class=page_content_splash style=height:auto;opacity:0><section id=page-main><section class=page-container id=page-container><header id=header style="transition:.5s padding ease-out,.15s" class="zn_header_white header-splash-new nav-down header-splash-wrap header1"><div class=header-block-left><div class=mobile-menu-toggle><button id=sidebar-toggle-navigation onclick=showSidebarHandler()><svg width="1.33em" height="1.33em" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button></div><div class=version-logo-container><div class="logo-container hasinfocard_img arangodb-logo-large"><div class=logo><a href=https://www.arangodb.com/><img src=/images/logo_main.png alt=ArangoDB title></a></div></div><div class=arangodb-logo-small><a href=https://arangodb.com/><img alt="ArangoDB Logo" src=/images/ArangoDB_Logo_White_small.png></a></div></div></div><div class=container-right style=display:hidden></div><div class=search-and-version-container><a href=# class="home-link is-current" aria-label="Go to home page" onclick=goToHomepage(event)></a><div id=searchbox></div><script type=text/javascript>const SCRIPT_SRC="https://unpkg.com/@inkeep/widgets-embed@0.2.290/dist/embed.js";function loadAndInitializeInkeep(){if(document.querySelector(`script[src="${SCRIPT_SRC}]"`))return;const e=document.createElement("script");e.type="module",e.src=SCRIPT_SRC,e.onload=initializeInkeep,document.head.appendChild(e)}function initializeInkeep(){const e=Inkeep({integrationId:"clo4lx6jk0000s601cp21x2ok",apiKey:"13b4e56966a76e86c6ff359cd795ee6a0412f751d75d6383",organizationId:"org_HGBkkzGAa4KeGJGh",organizationDisplayName:"ArangoDB",primaryBrandColor:"#80a54d",stringReplacementRules:[{matchingRule:{ruleType:"Substring",string:"Arangograph"},replaceWith:"ArangoGraph"},{matchingRule:{ruleType:"Substring",string:"Aql"},replaceWith:"AQL"},{matchingRule:{ruleType:"Substring",string:"Arangodb"},replaceWith:"ArangoDB"}],customCardSettings:[{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arango.qubitpi.org"}},searchTabLabel:"Official Docs"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"developer.arangodb.com"}},searchTabLabel:"Developer Hub"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arangodb.com"}},searchTabLabel:"Home"}]}),t=e.embed({componentType:"ChatButton",properties:{stylesheetUrls:["/css/fonts.css"],fixedPositionXOffset:"52px",baseSettings:{theme:{primaryColors:{textColorOnPrimary:"white"},tokens:{fonts:{body:"'Inter'",heading:"'Inter'"},zIndex:{overlay:1e4,modal:11e3,popover:12e3,skipLink:13e3,toast:14e3,tooltip:15e3}}}},aiChatSettings:{botAvatarSrcUrl:"/images/ArangoDB_Logo_White_small.png",quickQuestions:["What can you do with AQL that is not feasible with SQL?","How do I search for objects within arrays?","Where can I deploy my ArangoDB instance?"],getHelpCallToActions:[{icon:{builtIn:"FaSlack"},name:"Slack",url:"https://arangodb-community.slack.com/"}]},searchSettings:{tabSettings:{isAllTabEnabled:!1,alwaysDisplayedTabs:["Official Docs","Developer Hub","Home"]}}}})}loadAndInitializeInkeep()</script><div class=version-selector><select id=arangodb-version onchange=changeVersion()><option value=3.13>3.13</option><option value=3.12>3.12</option><option value=3.11>3.11</option><option value=3.10>3.10</option><option value=3.9>3.9</option><option value=3.8>3.8</option></select></div></div></header><iframe src=/nav.html title=description id=menu-iframe class="menu-iframe active" style=opacity:0></iframe><div class=container-main><div class=row-main><nav id=breadcrumbs><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><meta itemprop=itemListOrder content="Descending"><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="3.10"><a itemprop=item class=link href=/3.10/><span itemprop=name class=breadcrumb-entry>3.10.14</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="AQL"><a itemprop=item class=link href=/3.10/aql/><span itemprop=name class=breadcrumb-entry>AQL</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Fundamentals"><a itemprop=item class=link href=/3.10/aql/fundamentals/><span itemprop=name class=breadcrumb-entry>Fundamentals</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Syntax"><a itemprop=item class=link href=/3.10/aql/fundamentals/syntax/><span itemprop=name class=breadcrumb-entry>Syntax</span></a></li></ol></nav><article class=default><div class="box notices cstyle warning"><div class=box-content-container><div class=box-content><i class="fas fa-exclamation-triangle"></i><div class=box-text><p>ArangoDB v3.10 reached End of Life (EOL) and is no longer supported.</p><p>This documentation is outdated. Please see the most recent <a href=/3.12/aql/fundamentals/syntax/ class=link>stable version</a>.</p></div></div></div></div><hgroup><h1>AQL Syntax</h1><p class=lead>Query types, whitespace, comments, keywords, and names in the AQL language explained</p></hgroup><h2 id=query-types>Query types <a href=/3.10/aql/fundamentals/syntax/#query-types class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>An AQL query must either return a result (indicated by usage of the <code>RETURN</code>
keyword) or execute a data-modification operation (indicated by usage
of one of the keywords <code>INSERT</code>, <code>UPDATE</code>, <code>REPLACE</code>, <code>REMOVE</code> or <code>UPSERT</code>). The AQL
parser will return an error if it detects more than one data-modification
operation in the same query or if it cannot figure out if the query is meant
to be a data retrieval or a modification operation.</p><p>AQL only allows <strong>one</strong> query in a single query string; thus semicolons to
indicate the end of one query and separate multiple queries (as seen in SQL) are
not allowed.</p><h2 id=whitespace>Whitespace <a href=/3.10/aql/fundamentals/syntax/#whitespace class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>Whitespace (blanks, carriage returns, line feeds, and tab stops) can be used
in the query text to increase its readability. Tokens have to be separated by
any number of whitespace. Whitespace within strings or names must be enclosed
in quotes in order to be preserved.</p><h2 id=comments>Comments <a href=/3.10/aql/fundamentals/syntax/#comments class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>Comments can be embedded at any position in a query. The text contained in the
comment is ignored by the AQL parser.</p><p>Multi-line comments cannot be nested, which means subsequent comment starts within
comments are ignored, comment ends will end the comment.</p><p>AQL supports two types of comments:</p><ul><li>Single line comments: These start with a double forward slash and end at
the end of the line, or the end of the query string (whichever is first).</li><li>Multi line comments: These start with a forward slash and asterisk, and
end with an asterisk and a following forward slash. They can span as many
lines as necessary.</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=cm>/* this is a comment */</span> <span class=kr>RETURN</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=cm>/* these */</span> <span class=kr>RETURN</span> <span class=cm>/* are */</span> <span class=mi>1</span> <span class=cm>/* multiple */</span> <span class=o>+</span> <span class=cm>/* comments */</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=cm>/* this is
</span></span></span><span class=line><span class=cl><span class=cm>   a multi line
</span></span></span><span class=line><span class=cl><span class=cm>   comment */</span>
</span></span><span class=line><span class=cl><span class=c1>// a single line comment
</span></span></span></code></pre></div><h2 id=keywords>Keywords <a href=/3.10/aql/fundamentals/syntax/#keywords class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>On the top level, AQL offers the following
<a href=/3.10/aql/high-level-operations/ class=link>high-level operations</a>:</p><table><thead><tr><th style=text-align:left>Operation</th><th style=text-align:left>Description</th></tr></thead><tbody><tr><td style=text-align:left><code>FOR</code></td><td style=text-align:left>Array iteration</td></tr><tr><td style=text-align:left><code>RETURN</code></td><td style=text-align:left>Results projection</td></tr><tr><td style=text-align:left><code>FILTER</code></td><td style=text-align:left>Non-View results filtering</td></tr><tr><td style=text-align:left><code>SEARCH</code></td><td style=text-align:left>View results filtering</td></tr><tr><td style=text-align:left><code>SORT</code></td><td style=text-align:left>Result sorting</td></tr><tr><td style=text-align:left><code>LIMIT</code></td><td style=text-align:left>Result slicing</td></tr><tr><td style=text-align:left><code>LET</code></td><td style=text-align:left>Variable assignment</td></tr><tr><td style=text-align:left><code>COLLECT</code></td><td style=text-align:left>Result grouping</td></tr><tr><td style=text-align:left><code>WINDOW</code></td><td style=text-align:left>Aggregations over related rows</td></tr><tr><td style=text-align:left><code>INSERT</code></td><td style=text-align:left>Insertion of new documents</td></tr><tr><td style=text-align:left><code>UPDATE</code></td><td style=text-align:left>(Partial) update of existing documents</td></tr><tr><td style=text-align:left><code>REPLACE</code></td><td style=text-align:left>Replacement of existing documents</td></tr><tr><td style=text-align:left><code>REMOVE</code></td><td style=text-align:left>Removal of existing documents</td></tr><tr><td style=text-align:left><code>UPSERT</code></td><td style=text-align:left>Insertion of new or update of existing documents</td></tr><tr><td style=text-align:left><code>WITH</code></td><td style=text-align:left>Collection declaration</td></tr></tbody></table><p>Each of the above operations can be initiated in a query by using a keyword of
the same name. An AQL query can (and typically does) consist of multiple of the
above operations.</p><p>An example AQL query may look like this:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>FOR</span> <span class=n>u</span> <span class=kr>IN</span> <span class=n>users</span>
</span></span><span class=line><span class=cl>  <span class=kr>FILTER</span> <span class=n>u</span><span class=p>.</span><span class=n>type</span> <span class=o>==</span> <span class=s2>&#34;newbie&#34;</span> <span class=o>&amp;&amp;</span> <span class=n>u</span><span class=p>.</span><span class=n>active</span> <span class=o>==</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl>  <span class=kr>RETURN</span> <span class=n>u</span><span class=p>.</span><span class=n>name</span></span></span></code></pre></div><p>In this example query, the terms <code>FOR</code>, <code>FILTER</code>, and <code>RETURN</code> initiate the
higher-level operation according to their name. These terms are also keywords,
meaning that they have a special meaning in the language.</p><p>For example, the query parser will use the keywords to find out which high-level
operations to execute. That also means keywords can only be used at certain
locations in a query. This also makes all keywords <strong>reserved words</strong> that must
not be used for other purposes than they are intended for.</p><p>For example, it is not possible to use a keyword as literal unquoted string
(identifier) for a collection or attribute name. If a collection or attribute
needs to have the same name as a keyword, then the collection or attribute name
needs to be quoted in the query (also see <a href=#names class=link>Names</a>).</p><p>Keywords are case-insensitive, meaning they can be specified in lower, upper, or
mixed case in queries. In this documentation, all keywords are written in upper
case to make them distinguishable from other query parts.</p><p>There are a few more keywords in addition to the higher-level operation keywords.
Additional keywords may be added in future versions of ArangoDB.
The complete list of keywords is currently:</p><ul class=columns-3><li><code>AGGREGATE</code></li><li><code>ALL</code></li><li><code>ALL_SHORTEST_PATHS</code></li><li><code>AND</code></li><li><code>ANY</code></li><li><code>ASC</code></li><li><code>COLLECT</code></li><li><code>DESC</code></li><li><code>DISTINCT</code></li><li><code>FALSE</code></li><li><code>FILTER</code></li><li><code>FOR</code></li><li><code>GRAPH</code></li><li><code>IN</code></li><li><code>INBOUND</code></li><li><code>INSERT</code></li><li><code>INTO</code></li><li><code>K_PATHS</code></li><li><code>K_SHORTEST_PATHS</code></li><li><code>LET</code></li><li><code>LIKE</code></li><li><code>LIMIT</code></li><li><code>NONE</code></li><li><code>NOT</code></li><li><code>NULL</code></li><li><code>OR</code></li><li><code>OUTBOUND</code></li><li><code>REMOVE</code></li><li><code>REPLACE</code></li><li><code>RETURN</code></li><li><code>SHORTEST_PATH</code></li><li><code>SORT</code></li><li><code>TRUE</code></li><li><code>UPDATE</code></li><li><code>UPSERT</code></li><li><code>WINDOW</code></li><li><code>WITH</code></li></ul><p>On top of that, there are a few words used in language constructs which are not
reserved keywords. You can use them as collection or attribute names
without having to quote them. The query parser can identify them as keyword-like
based on the context:</p><ul><li><code>KEEP</code> –
<a href=/3.10/aql/high-level-operations/collect/ class=link>COLLECT</a> operation variant</li><li><code>COUNT</code> (<code>WITH COUNT INTO</code>) –
<a href=/3.10/aql/high-level-operations/collect/ class=link>COLLECT</a> operation variant</li><li><code>OPTIONS</code> –
<a href=/3.10/aql/high-level-operations/for/#options class=link>FOR</a> /
<a href=/3.10/aql/graphs/traversals/ class=link>Graph Traversal</a> /
<a href=/3.10/aql/high-level-operations/search/#search-options class=link>SEARCH</a> /
<a href=/3.10/aql/high-level-operations/collect/#collect-options class=link>COLLECT</a> /
<a href=/3.10/aql/high-level-operations/insert/#query-options class=link>INSERT</a> /
<a href=/3.10/aql/high-level-operations/update/#query-options class=link>UPDATE</a> /
<a href=/3.10/aql/high-level-operations/replace/#query-options class=link>REPLACE</a> /
<a href=/3.10/aql/high-level-operations/upsert/#query-options class=link>UPSERT</a> /
<a href=/3.10/aql/high-level-operations/remove/#query-options class=link>REMOVE</a> operation</li><li><code>PRUNE</code> –
<a href=/3.10/aql/graphs/traversals/#pruning class=link>Graph Traversal</a>, FOR operation variant</li><li><code>SEARCH</code> –
<a href=/3.10/aql/high-level-operations/search/ class=link>SEARCH</a> operation</li><li><code>TO</code> –
<a href=/3.10/aql/graphs/shortest-path/ class=link>Shortest Path</a> /
<a href=/3.10/aql/graphs/all-shortest-paths/ class=link>All Shortest Paths</a> /
<a href=/3.10/aql/graphs/k-shortest-paths/ class=link>k Shortest Paths</a> /
<a href=/3.10/aql/graphs/k-paths/ class=link>k Paths</a> graph traversal</li></ul><p>Last but not least, there are special variables which are available in certain
contexts. Unlike keywords, they are <strong>case-sensitive</strong>:</p><ul><li><code>CURRENT</code> –
available in
<a href=/3.10/aql/operators/#inline-expressions class=link>array inline expressions</a></li><li><code>NEW</code> –
available after
<a href=/3.10/aql/high-level-operations/insert/#returning-the-inserted-documents class=link>INSERT</a> /
<a href=/3.10/aql/high-level-operations/update/#returning-the-modified-documents class=link>UPDATE</a> /
<a href=/3.10/aql/high-level-operations/replace/#returning-the-modified-documents class=link>REPLACE</a> /
<a href=/3.10/aql/high-level-operations/upsert/#returning-documents class=link>UPSERT</a>
operation</li><li><code>OLD</code> –
available after
<a href=/3.10/aql/high-level-operations/update/#returning-the-modified-documents class=link>UPDATE</a> /
<a href=/3.10/aql/high-level-operations/replace/#returning-the-modified-documents class=link>REPLACE</a> /
<a href=/3.10/aql/high-level-operations/upsert/#returning-documents class=link>UPSERT</a> /
<a href=/3.10/aql/high-level-operations/remove/#returning-the-removed-documents class=link>REMOVE</a>
operation</li></ul><p>If you define a variable with the same name in the same scope, then its value
will be and remain at what you set it to. Hence you need to avoid these names
for your own variables if you want to access the special variable values.</p><h2 id=names>Names <a href=/3.10/aql/fundamentals/syntax/#names class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>In general, names are used to identify the following things in AQL queries:</p><ul><li>collections</li><li>attributes</li><li>variables</li><li>functions</li></ul><p>Names in AQL are always case-sensitive.
The maximum supported length for collection/View names is 256 bytes.
Variable names can be longer, but are discouraged.</p><p>Keywords should not be used as names. If you want to use a reserved keyword as
name anyway, the name must be enclosed in backticks or forward ticks. This is referred to as <em>quoting</em>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>FOR</span> <span class=n>doc</span> <span class=kr>IN</span> <span class=n>`filter`</span>
</span></span><span class=line><span class=cl>  <span class=kr>RETURN</span> <span class=n>doc</span><span class=p>.</span><span class=n>`sort`</span></span></span></code></pre></div><p>Due to the backticks, <code>filter</code> and <code>sort</code> are interpreted as names and not as
keywords here.</p><p>You can also use forward ticks:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>FOR</span> <span class=n>f</span> <span class=kr>IN</span> <span class=n>´filter´</span>
</span></span><span class=line><span class=cl>  <span class=kr>RETURN</span> <span class=n>f</span><span class=p>.</span><span class=n>´sort´</span></span></span></code></pre></div><p>Instead of ticks, you may use the bracket notation for the attribute access:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>FOR</span> <span class=n>f</span> <span class=kr>IN</span> <span class=n>`filter`</span>
</span></span><span class=line><span class=cl>  <span class=kr>RETURN</span> <span class=n>f</span><span class=p>[</span><span class=s2>&#34;sort&#34;</span><span class=p>]</span></span></span></code></pre></div><p><code>sort</code> is a string literal in quote marks in this alternative and does thus not
conflict with the reserved keyword.</p><p>Quoting with ticks is also required if certain characters such as
hyphen minus (<code>-</code>) are contained in a name, namely if they are used for
<a href=/3.10/aql/operators/ class=link>operators</a> in AQL:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kd>LET</span> <span class=n>`my-var`</span> <span class=o>=</span> <span class=mi>42</span></span></span></code></pre></div><h3 id=collection-names>Collection names <a href=/3.10/aql/fundamentals/syntax/#collection-names class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>You can typically use collection names in queries as they are. If a collection
happens to have the same name as a keyword, the name must be enclosed in
backticks or forward ticks.</p><p>Quoting with ticks is also required if special characters such as
hyphen minus (<code>-</code>) are contained in a collection name:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>FOR</span> <span class=n>doc</span> <span class=kr>IN</span> <span class=n>`my-coll`</span>
</span></span><span class=line><span class=cl>  <span class=kr>RETURN</span> <span class=n>doc</span></span></span></code></pre></div><p>The collection <code>my-coll</code> has a dash in its name, but <code>-</code> is an arithmetic
operator for subtraction in AQL. The backticks quote the collection name to
refer to the collection correctly.</p><p>Note that quoting the name with <code>"</code> or <code>'</code> is not possible for collections as
they cannot be string literals in quote marks.</p><p>For information about the naming constraints for collections, see
<a href=/3.10/concepts/data-structure/collections/#collection-names class=link>Collection names</a>.</p><h3 id=attribute-names>Attribute names <a href=/3.10/aql/fundamentals/syntax/#attribute-names class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>When referring to attributes of documents from a collection, the fully qualified
attribute name must be used. This is because multiple collections with ambiguous
attribute names may be used in a query. To avoid any ambiguity, it is not
allowed to refer to an unqualified attribute name.</p><p>Also see the naming restrictions for
<a href=/3.10/concepts/data-structure/documents/#attribute-names class=link>Attribute names</a>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>FOR</span> <span class=n>u</span> <span class=kr>IN</span> <span class=n>users</span>
</span></span><span class=line><span class=cl>  <span class=kr>FOR</span> <span class=n>f</span> <span class=kr>IN</span> <span class=n>friends</span>
</span></span><span class=line><span class=cl>    <span class=kr>FILTER</span> <span class=n>u</span><span class=p>.</span><span class=n>active</span> <span class=o>==</span> <span class=kc>true</span> <span class=o>&amp;&amp;</span> <span class=n>f</span><span class=p>.</span><span class=n>active</span> <span class=o>==</span> <span class=kc>true</span> <span class=o>&amp;&amp;</span> <span class=n>u</span><span class=p>.</span><span class=n>id</span> <span class=o>==</span> <span class=n>f</span><span class=p>.</span><span class=n>userId</span>
</span></span><span class=line><span class=cl>    <span class=kr>RETURN</span> <span class=n>u</span><span class=p>.</span><span class=n>name</span></span></span></code></pre></div><p>In the above example, the attribute names <code>active</code>, <code>name</code>, <code>id</code>, and <code>userId</code>
are qualified using the collection names they belong to (<code>u</code> and <code>f</code>
respectively).</p><h3 id=variable-names>Variable names <a href=/3.10/aql/fundamentals/syntax/#variable-names class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>AQL allows you to assign values to additional variables in a query.
All variables that are assigned a value must have a name that is unique within
the context of the query.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>FOR</span> <span class=n>u</span> <span class=kr>IN</span> <span class=n>users</span>
</span></span><span class=line><span class=cl>  <span class=kd>LET</span> <span class=n>friends</span> <span class=o>=</span> <span class=n>u</span><span class=p>.</span><span class=n>friends</span>
</span></span><span class=line><span class=cl>  <span class=kr>RETURN</span> <span class=p>{</span> <span class=s2>&#34;name&#34;</span> <span class=o>:</span> <span class=n>u</span><span class=p>.</span><span class=n>name</span><span class=p>,</span> <span class=s2>&#34;friends&#34;</span> <span class=o>:</span> <span class=n>friends</span> <span class=p>}</span></span></span></code></pre></div><p>In the above query, <code>users</code> is a collection name, and both <code>u</code> and <code>friends</code> are
variable names. This is because the <code>FOR</code> and <code>LET</code> operations need target
variables to store their intermediate results.</p><p>Variable names should be different from the names of any collection name used in
the same query to avoid shadowing, which can render a collection with the same
name inaccessible in the query after the variable assignment:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kd>LET</span> <span class=n>users</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl><span class=kr>FOR</span> <span class=n>u</span> <span class=kr>IN</span> <span class=n>users</span> <span class=c1>// iterates over the &#34;users&#34; variable, not the &#34;users&#34; collection
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>RETURN</span> <span class=n>u</span></span></span></code></pre></div><p>Allowed characters in variable names are the letters <code>a</code> to <code>z</code> (both in lower
and upper case), the numbers <code>0</code> to <code>9</code>, the underscore (<code>_</code>) symbol and the
dollar (<code>$</code>) sign. A variable name must not start with a number. If a variable
name starts with one or multiple underscore characters, the underscore(s) must
be followed by least one letter (a-z or A-Z). The dollar sign can only be used
as the very first character in a variable name and must be followed by a letter.</p><nav class=pagination><span class=prev><a class="nav nav-prev link" href=/3.10/aql/fundamentals/><i class="fas fa-chevron-left fa-fw"></i><p>Fundamentals</p></a></span><span class=next><a class="nav nav-next link" href=/3.10/aql/fundamentals/data-types/><p>Data types</p><i class="fas fa-chevron-right fa-fw"></i></a></span></nav></article><div class=toc-container><a class=edit-page aria-label href=https://github.com/arangodb/docs-hugo/edit/main/site/content/3.10/aql/fundamentals/syntax.md target=_blank><i class="fab fa-fw fa-github edit-page-icon"></i></a><div class=toc><div class=toc-content><div class=toc-header><p>On this page</p></div><nav id=TableOfContents><div class=level-2><a href=#query-types>Query types</a></div><div class=level-2><a href=#whitespace>Whitespace</a></div><div class=level-2><a href=#comments>Comments</a></div><div class=level-2><a href=#keywords>Keywords</a></div><div class=level-2><a href=#names>Names</a></div><div class=level-3><a href=#collection-names>Collection names</a></div><div class=level-3><a href=#attribute-names>Attribute names</a></div><div class=level-3><a href=#variable-names>Variable names</a></div></nav></div></div></div></div></div></section></section></div><button class="back-to-top hidden" onclick=goToTop(event) href=#><i class="fa fa-arrow-up"></i></button><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3>
<script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3></script>
<script type=text/javascript>window.setupDocSearch=function(e){if(!window.docsearch)return;docsearch({appId:"OK3ZBQ5982",apiKey:"500c85ccecb335d507fe4449aed12e1d",indexName:"arangodbdocs",insights:!0,container:"#searchbox",debug:!1,maxResultsPerGroup:10,searchParameters:{facetFilters:[`version:${e}`]}})}</script></body></html>