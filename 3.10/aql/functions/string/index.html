<!doctype html><html lang=en><head><link href=//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css rel=stylesheet><link href=//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css rel=stylesheet><link href=/css/fontawesome-all.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fontawesome-all.min.css rel=stylesheet></noscript><link href=/css/featherlight.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/featherlight.min.css rel=stylesheet></noscript><link href=/css/nucleus.css rel=stylesheet><link href=/css/fonts.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fonts.css rel=stylesheet></noscript><link href=/css/theme.css rel=stylesheet><link href=/css/theme-relearn-light.css rel=stylesheet id=variant-style><link href=/css/print.css rel=stylesheet media=print><script src=/js/variant.js?1743774193></script>
<script>var root_url="/",baseUriFull,baseUri=root_url.replace(/\/$/,"");window.T_Copy_to_clipboard="",window.T_Copied_to_clipboard="",window.T_Copy_link_to_clipboard="",window.T_Link_copied_to_clipboard="",baseUriFull="http://localhost/",window.variants&&variants.init(["relearn-light"])</script><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.119.0"><meta itemprop=description property="description" content="AQL offers functions for string processing"><meta property="og:url" content="http://localhost/3.10/aql/functions/string/"><meta property="og:title" content="String functions in AQL"><meta property="og:type" content="website"><meta property="og:description" content="AQL offers functions for string processing"><meta name=docsearch:version content="3.10"><title>String functions in AQL | ArangoDB Documentation</title><link href=/images/favicon.png rel=icon type=image/png><script src=/js/jquery.min.js></script>
<script src=/js/clipboard.min.js?1743774193 defer></script>
<script src=/js/featherlight.min.js?1743774193 defer></script>
<script>var versions=[{alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"},{alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"},{alias:"3.11",deprecated:!1,name:"3.11",version:"3.11.13"},{alias:"3.10",deprecated:!0,name:"3.10",version:"3.10.14"}]</script><script>var develVersion={alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"}</script><script>var stableVersion={alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"}</script><script src=/js/codeblocks.js?1743774193 defer></script>
<script src=/js/theme.js?1743774193 defer></script></head><body><noscript>You need to enable JavaScript to use the ArangoDB documentation.</noscript><div id=page-wrapper class=page_content_splash style=height:auto;opacity:0><section id=page-main><section class=page-container id=page-container><header id=header style="transition:.5s padding ease-out,.15s" class="zn_header_white header-splash-new nav-down header-splash-wrap header1"><div class=header-block-left><div class=mobile-menu-toggle><button id=sidebar-toggle-navigation onclick=showSidebarHandler()><svg width="1.33em" height="1.33em" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button></div><div class=version-logo-container><div class="logo-container hasinfocard_img arangodb-logo-large"><div class=logo><a href=https://www.arangodb.com/><img src=/images/logo_main.png alt=ArangoDB title></a></div></div><div class=arangodb-logo-small><a href=https://arangodb.com/><img alt="ArangoDB Logo" src=/images/ArangoDB_Logo_White_small.png></a></div></div></div><div class=container-right style=display:hidden></div><div class=search-and-version-container><a href=# class="home-link is-current" aria-label="Go to home page" onclick=goToHomepage(event)></a><div id=searchbox></div><script type=text/javascript>const SCRIPT_SRC="https://unpkg.com/@inkeep/widgets-embed@0.2.290/dist/embed.js";function loadAndInitializeInkeep(){if(document.querySelector(`script[src="${SCRIPT_SRC}]"`))return;const e=document.createElement("script");e.type="module",e.src=SCRIPT_SRC,e.onload=initializeInkeep,document.head.appendChild(e)}function initializeInkeep(){const e=Inkeep({integrationId:"clo4lx6jk0000s601cp21x2ok",apiKey:"13b4e56966a76e86c6ff359cd795ee6a0412f751d75d6383",organizationId:"org_HGBkkzGAa4KeGJGh",organizationDisplayName:"ArangoDB",primaryBrandColor:"#80a54d",stringReplacementRules:[{matchingRule:{ruleType:"Substring",string:"Arangograph"},replaceWith:"ArangoGraph"},{matchingRule:{ruleType:"Substring",string:"Aql"},replaceWith:"AQL"},{matchingRule:{ruleType:"Substring",string:"Arangodb"},replaceWith:"ArangoDB"}],customCardSettings:[{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arango.qubitpi.org"}},searchTabLabel:"Official Docs"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"developer.arangodb.com"}},searchTabLabel:"Developer Hub"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arangodb.com"}},searchTabLabel:"Home"}]}),t=e.embed({componentType:"ChatButton",properties:{stylesheetUrls:["/css/fonts.css"],fixedPositionXOffset:"52px",baseSettings:{theme:{primaryColors:{textColorOnPrimary:"white"},tokens:{fonts:{body:"'Inter'",heading:"'Inter'"},zIndex:{overlay:1e4,modal:11e3,popover:12e3,skipLink:13e3,toast:14e3,tooltip:15e3}}}},aiChatSettings:{botAvatarSrcUrl:"/images/ArangoDB_Logo_White_small.png",quickQuestions:["What can you do with AQL that is not feasible with SQL?","How do I search for objects within arrays?","Where can I deploy my ArangoDB instance?"],getHelpCallToActions:[{icon:{builtIn:"FaSlack"},name:"Slack",url:"https://arangodb-community.slack.com/"}]},searchSettings:{tabSettings:{isAllTabEnabled:!1,alwaysDisplayedTabs:["Official Docs","Developer Hub","Home"]}}}})}loadAndInitializeInkeep()</script><div class=version-selector><select id=arangodb-version onchange=changeVersion()><option value=3.13>3.13</option><option value=3.12>3.12</option><option value=3.11>3.11</option><option value=3.10>3.10</option><option value=3.9>3.9</option><option value=3.8>3.8</option></select></div></div></header><iframe src=/nav.html title=description id=menu-iframe class="menu-iframe active" style=opacity:0></iframe><div class=container-main><div class=row-main><nav id=breadcrumbs><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><meta itemprop=itemListOrder content="Descending"><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="3.10"><a itemprop=item class=link href=/3.10/><span itemprop=name class=breadcrumb-entry>3.10.14</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="AQL"><a itemprop=item class=link href=/3.10/aql/><span itemprop=name class=breadcrumb-entry>AQL</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Functions"><a itemprop=item class=link href=/3.10/aql/functions/><span itemprop=name class=breadcrumb-entry>Functions</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="String"><a itemprop=item class=link href=/3.10/aql/functions/string/><span itemprop=name class=breadcrumb-entry>String</span></a></li></ol></nav><article class=default><div class="box notices cstyle warning"><div class=box-content-container><div class=box-content><i class="fas fa-exclamation-triangle"></i><div class=box-text><p>ArangoDB v3.10 reached End of Life (EOL) and is no longer supported.</p><p>This documentation is outdated. Please see the most recent <a href=/3.12/aql/functions/string/ class=link>stable version</a>.</p></div></div></div></div><hgroup><h1>String functions in AQL</h1><p class=lead>AQL offers functions for string processing</p></hgroup><h2 id=char_length>CHAR_LENGTH() <a href=/3.10/aql/functions/string/#char_length class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>CHAR_LENGTH(str) → length</code></p><p>Return the number of characters in <code>str</code> (not byte length).</p><table><thead><tr><th>Input</th><th>Length</th></tr></thead><tbody><tr><td>String</td><td>Number of Unicode characters</td></tr><tr><td>Number</td><td>Number of Unicode characters that represent the number</td></tr><tr><td>Array</td><td>Number of Unicode characters from the resulting stringification</td></tr><tr><td>Object</td><td>Number of Unicode characters from the resulting stringification</td></tr><tr><td>true</td><td>4</td></tr><tr><td>false</td><td>5</td></tr><tr><td>null</td><td>0</td></tr></tbody></table><ul><li><strong>str</strong> (string): a string. If a number is passed, it will be casted to string first.</li><li>returns <strong>length</strong> (number): the character length of <code>str</code> (not byte length)</li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>CHAR_LENGTH</span><span class=p>(</span><span class=s2>&#34;foo&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=mi>3</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kd>LET</span> <span class=n>value</span> <span class=o>=</span> <span class=p>{</span><span class=n>foo</span><span class=o>:</span> <span class=s2>&#34;bar&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kr>RETURN</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>str</span><span class=o>:</span> <span class=nf>JSON_STRINGIFY</span><span class=p>(</span><span class=n>value</span><span class=p>),</span>
</span></span><span class=line><span class=cl>  <span class=n>len</span><span class=o>:</span> <span class=nf>CHAR_LENGTH</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=p>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;str&#34;</span> <span class=o>:</span> <span class=s2>&#34;{\&#34;foo\&#34;:\&#34;bar\&#34;}&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;len&#34;</span> <span class=o>:</span> <span class=mi>13</span> 
</span></span><span class=line><span class=cl>  <span class=p>}</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=concat>CONCAT() <a href=/3.10/aql/functions/string/#concat class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>CONCAT(value1, value2, ... valueN) → str</code></p><p>Concatenate the values passed as <code>value1</code> to <code>valueN</code>.</p><ul><li><strong>values</strong> (any, <em>repeatable</em>): elements of arbitrary type (at least 1)</li><li>returns <strong>str</strong> (string): a concatenation of the elements. <code>null</code> values
are ignored. Array and object values are JSON-encoded in their entirety.</li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>CONCAT</span><span class=p>(</span><span class=s2>&#34;foo&#34;</span><span class=p>,</span> <span class=s2>&#34;bar&#34;</span><span class=p>,</span> <span class=s2>&#34;baz&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;foobarbaz&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>CONCAT</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;123&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>CONCAT</span><span class=p>(</span><span class=kc>null</span><span class=p>,</span> <span class=kc>false</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=kc>true</span><span class=p>,</span> <span class=s2>&#34;&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;false0true&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>CONCAT</span><span class=p>([</span><span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>],</span> <span class=p>{</span><span class=n>foo</span><span class=o>:</span> <span class=s2>&#34;bar&#34;</span><span class=p>})</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;[5,6]{\&#34;foo\&#34;:\&#34;bar\&#34;}&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><hr><p><code>CONCAT(anyArray) → str</code></p><p>If a single array is passed to <code>CONCAT()</code>, its members are concatenated.</p><ul><li><strong>anyArray</strong> (array): array with elements of arbitrary type</li><li>returns <strong>str</strong> (string): a concatenation of the array elements. <code>null</code> values
are ignored. Array and object values are JSON-encoded in their entirety.</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>CONCAT</span><span class=p>(</span> <span class=p>[</span> <span class=s2>&#34;foo&#34;</span><span class=p>,</span> <span class=s2>&#34;bar&#34;</span><span class=p>,</span> <span class=s2>&#34;baz&#34;</span> <span class=p>]</span> <span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;foobarbaz&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>CONCAT</span><span class=p>(</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>]</span> <span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;123&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>CONCAT</span><span class=p>(</span> <span class=p>[</span><span class=kc>null</span><span class=p>,</span> <span class=kc>false</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=kc>true</span><span class=p>,</span> <span class=s2>&#34;&#34;</span><span class=p>]</span> <span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;false0true&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>CONCAT</span><span class=p>(</span> <span class=p>[[</span><span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>],</span> <span class=p>{</span><span class=n>foo</span><span class=o>:</span> <span class=s2>&#34;bar&#34;</span><span class=p>}]</span> <span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;[5,6]{\&#34;foo\&#34;:\&#34;bar\&#34;}&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=concat_separator>CONCAT_SEPARATOR() <a href=/3.10/aql/functions/string/#concat_separator class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>CONCAT_SEPARATOR(separator, value1, value2, ... valueN) → joinedString</code></p><p>Concatenate the strings passed as arguments <code>value1</code> to <code>valueN</code> using the
<em>separator</em> string.</p><ul><li><strong>separator</strong> (string): an arbitrary separator string</li><li><strong>values</strong> (string|array, <em>repeatable</em>): strings or arrays of strings as multiple
arguments (at least 1)</li><li>returns <strong>joinedString</strong> (string): a concatenated string of the elements, using
<code>separator</code> as separator string. <code>null</code> values are ignored. Array and object
values are JSON-encoded in their entirety.</li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>CONCAT_SEPARATOR</span><span class=p>(</span><span class=s2>&#34;, &#34;</span><span class=p>,</span> <span class=s2>&#34;foo&#34;</span><span class=p>,</span> <span class=s2>&#34;bar&#34;</span><span class=p>,</span> <span class=s2>&#34;baz&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;foo, bar, baz&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>CONCAT_SEPARATOR</span><span class=p>(</span><span class=s2>&#34;, &#34;</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;1, 2, 3&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>CONCAT_SEPARATOR</span><span class=p>(</span><span class=s2>&#34;, &#34;</span><span class=p>,</span> <span class=kc>null</span><span class=p>,</span> <span class=kc>false</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=kc>true</span><span class=p>,</span> <span class=s2>&#34;&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;false, 0, true, &#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>CONCAT_SEPARATOR</span><span class=p>(</span><span class=s2>&#34;, &#34;</span><span class=p>,</span> <span class=p>[</span><span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>],</span> <span class=p>{</span><span class=n>foo</span><span class=o>:</span> <span class=s2>&#34;bar&#34;</span><span class=p>})</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;[5,6], {\&#34;foo\&#34;:\&#34;bar\&#34;}&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><hr><p><code>CONCAT_SEPARATOR(separator, anyArray) → joinedString</code></p><p>If a single array is passed as second argument to <code>CONCAT_SEPARATOR()</code>, its
members are concatenated.</p><ul><li><strong>separator</strong> (string): an arbitrary separator string</li><li><strong>anyArray</strong> (array): array with elements of arbitrary type</li><li>returns <strong>joinedString</strong> (string): a concatenated string of the elements, using
<code>separator</code> as separator string. <code>null</code> values are ignored. Array and object
values are JSON-encoded in their entirety.</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>CONCAT_SEPARATOR</span><span class=p>(</span><span class=s2>&#34;, &#34;</span><span class=p>,</span> <span class=p>[</span><span class=s2>&#34;foo&#34;</span><span class=p>,</span> <span class=s2>&#34;bar&#34;</span><span class=p>,</span> <span class=s2>&#34;baz&#34;</span><span class=p>])</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;foo, bar, baz&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>CONCAT_SEPARATOR</span><span class=p>(</span><span class=s2>&#34;, &#34;</span><span class=p>,</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>])</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;1, 2, 3&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>CONCAT_SEPARATOR</span><span class=p>(</span><span class=s2>&#34;, &#34;</span><span class=p>,</span> <span class=p>[</span><span class=kc>null</span><span class=p>,</span> <span class=kc>false</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=kc>true</span><span class=p>,</span> <span class=s2>&#34;&#34;</span><span class=p>])</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;false, 0, true, &#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>CONCAT_SEPARATOR</span><span class=p>(</span><span class=s2>&#34;, &#34;</span><span class=p>,</span> <span class=p>[[</span><span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>],</span> <span class=p>{</span><span class=n>foo</span><span class=o>:</span> <span class=s2>&#34;bar&#34;</span><span class=p>}])</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;[5,6], {\&#34;foo\&#34;:\&#34;bar\&#34;}&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=contains>CONTAINS() <a href=/3.10/aql/functions/string/#contains class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>CONTAINS(text, search, returnIndex) → match</code></p><p>Check whether the string <code>search</code> is contained in the string <code>text</code>.
The string matching performed by <code>CONTAINS()</code> is case-sensitive.</p><p>To determine if or at which position a value is included in an <strong>array</strong>, see the
<a href=/3.10/aql/functions/array/#position class=link>POSITION() array function</a>.</p><ul><li><strong>text</strong> (string): the haystack</li><li><strong>search</strong> (string): the needle</li><li><strong>returnIndex</strong> (bool, <em>optional</em>): if set to <code>true</code>, the character position
of the match is returned instead of a boolean. The default is <code>false</code>.</li><li>returns <strong>match</strong> (bool|number): by default, <code>true</code> is returned if <code>search</code>
is contained in <code>text</code>, and <code>false</code> otherwise. With <code>returnIndex</code> set to <code>true</code>,
the position of the first occurrence of <code>search</code> within <code>text</code> is returned
(starting at offset 0), or <code>-1</code> if it is not contained.</li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>CONTAINS</span><span class=p>(</span><span class=s2>&#34;foobarbaz&#34;</span><span class=p>,</span> <span class=s2>&#34;bar&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=kc>true</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>CONTAINS</span><span class=p>(</span><span class=s2>&#34;foobarbaz&#34;</span><span class=p>,</span> <span class=s2>&#34;horse&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=kc>false</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>CONTAINS</span><span class=p>(</span><span class=s2>&#34;foobarbaz&#34;</span><span class=p>,</span> <span class=s2>&#34;bar&#34;</span><span class=p>,</span> <span class=kc>true</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=mi>3</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>CONTAINS</span><span class=p>(</span><span class=s2>&#34;foobarbaz&#34;</span><span class=p>,</span> <span class=s2>&#34;horse&#34;</span><span class=p>,</span> <span class=kc>true</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=o>-</span><span class=mi>1</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=count>COUNT() <a href=/3.10/aql/functions/string/#count class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>This is an alias for <a href=#length class=link>LENGTH()</a>.</p><h2 id=crc32>CRC32() <a href=/3.10/aql/functions/string/#crc32 class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>CRC32(text) → hash</code></p><p>Calculate the CRC32 checksum for <code>text</code> and return it in a hexadecimal
string representation. The polynomial used is <code>0x1EDC6F41</code>. The initial
value used is <code>0xFFFFFFFF</code>, and the final XOR value is also <code>0xFFFFFFFF</code>.</p><ul><li><strong>text</strong> (string): a string</li><li>returns <strong>hash</strong> (string): CRC32 checksum as hex string</li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>CRC32</span><span class=p>(</span><span class=s2>&#34;foobar&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;D5F5C7F&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=encode_uri_component>ENCODE_URI_COMPONENT() <a href=/3.10/aql/functions/string/#encode_uri_component class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>ENCODE_URI_COMPONENT(value) → encodedString</code></p><p>Return the URI component-encoded string of <code>value</code>.</p><ul><li><strong>value</strong> (string): a string</li><li>returns <strong>encodedString</strong> (string): the URI component-encoded <code>value</code></li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>ENCODE_URI_COMPONENT</span><span class=p>(</span><span class=s2>&#34;fünf %&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;f%C3%BCnf%20%25&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=find_first>FIND_FIRST() <a href=/3.10/aql/functions/string/#find_first class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>FIND_FIRST(text, search, start, end) → position</code></p><p>Return the position of the first occurrence of the string <code>search</code> inside the
string <code>text</code>. Positions start at 0.</p><ul><li><strong>text</strong> (string): the haystack</li><li><strong>search</strong> (string): the needle</li><li><strong>start</strong> (number, <em>optional</em>): limit the search to a subset of the text,
beginning at <code>start</code></li><li><strong>end</strong> (number, <em>optional</em>): limit the search to a subset of the text,
ending at <code>end</code></li><li>returns <strong>position</strong> (number): the character position of the match. If <code>search</code>
is not contained in <code>text</code>, -1 is returned. If <code>search</code> is empty, <code>start</code> is returned.</li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>FIND_FIRST</span><span class=p>(</span><span class=s2>&#34;foobarbaz&#34;</span><span class=p>,</span> <span class=s2>&#34;ba&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=mi>3</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>FIND_FIRST</span><span class=p>(</span><span class=s2>&#34;foobarbaz&#34;</span><span class=p>,</span> <span class=s2>&#34;ba&#34;</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=mi>6</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>FIND_FIRST</span><span class=p>(</span><span class=s2>&#34;foobarbaz&#34;</span><span class=p>,</span> <span class=s2>&#34;ba&#34;</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=o>-</span><span class=mi>1</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=find_last>FIND_LAST() <a href=/3.10/aql/functions/string/#find_last class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>FIND_LAST(text, search, start, end) → position</code></p><p>Return the position of the last occurrence of the string <code>search</code> inside the
string <code>text</code>. Positions start at 0.</p><ul><li><strong>text</strong> (string): the haystack</li><li><strong>search</strong> (string): the needle</li><li><strong>start</strong> (number, <em>optional</em>): limit the search to a subset of the text,
beginning at <em>start</em></li><li><strong>end</strong> (number, <em>optional</em>): limit the search to a subset of the text,
ending at <em>end</em></li><li>returns <strong>position</strong> (number): the character position of the match. If <code>search</code>
is not contained in <code>text</code>, -1 is returned.
If <code>search</code> is empty, the string length is returned, or <code>end</code> + 1.</li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>FIND_LAST</span><span class=p>(</span><span class=s2>&#34;foobarbaz&#34;</span><span class=p>,</span> <span class=s2>&#34;ba&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=mi>6</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>FIND_LAST</span><span class=p>(</span><span class=s2>&#34;foobarbaz&#34;</span><span class=p>,</span> <span class=s2>&#34;ba&#34;</span><span class=p>,</span> <span class=mi>7</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=o>-</span><span class=mi>1</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>FIND_LAST</span><span class=p>(</span><span class=s2>&#34;foobarbaz&#34;</span><span class=p>,</span> <span class=s2>&#34;ba&#34;</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=mi>3</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=fnv64>FNV64() <a href=/3.10/aql/functions/string/#fnv64 class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>FNV64(text) → hash</code></p><p>Calculate the FNV-1A 64 bit hash for <code>text</code> and return it in a hexadecimal
string representation.</p><ul><li><strong>text</strong> (string): a string</li><li>returns <strong>hash</strong> (string): FNV-1A hash as hex string</li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>FNV64</span><span class=p>(</span><span class=s2>&#34;foobar&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;85944171F73967E8&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=ipv4_from_number>IPV4_FROM_NUMBER() <a href=/3.10/aql/functions/string/#ipv4_from_number class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><small>Introduced in: v3.7.2</small></p><p><code>IPV4_FROM_NUMBER(numericAddress) → stringAddress</code></p><p>Converts a numeric IPv4 address value into its string representation.</p><ul><li><strong>numericAddress</strong> (number): a numeric representation of an IPv4 address, for
example produced by <a href=#ipv4_to_number class=link>IPV4_TO_NUMBER()</a>. The number must be
an unsigned integer between 0 and 4294967295 (both inclusive).</li><li>returns <strong>stringAddress</strong> (string): the string representation of the IPv4
address. If the input <code>numberAddress</code> is not a valid representation of an
IPv4 address, the function returns <code>null</code> and produces a warning.</li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>IPV4_FROM_NUMBER</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;0.0.0.0&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>IPV4_FROM_NUMBER</span><span class=p>(</span><span class=mi>134744072</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;8.8.8.8&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>IPV4_FROM_NUMBER</span><span class=p>(</span><span class=mi>2130706433</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;127.0.0.1&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>IPV4_FROM_NUMBER</span><span class=p>(</span><span class=mi>3232235521</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;192.168.0.1&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>IPV4_FROM_NUMBER</span><span class=p>(</span><span class=o>-</span><span class=mi>23</span><span class=p>)</span> <span class=c1>// invalid, produces a warning
</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=kc>null</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=ipv4_to_number>IPV4_TO_NUMBER() <a href=/3.10/aql/functions/string/#ipv4_to_number class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><small>Introduced in: v3.7.2</small></p><p><code>IPV4_TO_NUMBER(stringAddress) → numericAddress</code></p><p>Converts an IPv4 address string into its numeric representation.</p><ul><li><strong>stringAddress</strong> (string): a string representing an IPv4 address</li><li>returns <strong>numericAddress</strong> (number): the numeric representation of the IPv4
address, as an unsigned integer. If the input <code>stringAddress</code> is not a valid
representation of an IPv4 address, the function returns <code>null</code> and produces
a warning.</li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>IPV4_TO_NUMBER</span><span class=p>(</span><span class=s2>&#34;0.0.0.0&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=mi>0</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>IPV4_TO_NUMBER</span><span class=p>(</span><span class=s2>&#34;8.8.8.8&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=mi>134744072</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>IPV4_TO_NUMBER</span><span class=p>(</span><span class=s2>&#34;127.0.0.1&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=mi>2130706433</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>IPV4_TO_NUMBER</span><span class=p>(</span><span class=s2>&#34;192.168.0.1&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=mi>3232235521</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>IPV4_TO_NUMBER</span><span class=p>(</span><span class=s2>&#34;milk&#34;</span><span class=p>)</span> <span class=c1>// invalid, produces a warning
</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=kc>null</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=is_ipv4>IS_IPV4() <a href=/3.10/aql/functions/string/#is_ipv4 class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><small>Introduced in: v3.7.2</small></p><p><code>IS_IPV4(value) → bool</code></p><p>Check if an arbitrary string is suitable for interpretation as an IPv4 address.</p><ul><li><strong>value</strong> (string): an arbitrary string</li><li>returns <strong>bool</strong> (bool): <code>true</code> if <code>value</code> is a string that can be interpreted
as an IPv4 address. To be considered valid, the string must contain of 4 octets
of decimal numbers with 1 to 3 digits length each, allowing the values 0 to 255.
The octets must be separated by periods and must not have padding zeroes.</li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>IS_IPV4</span><span class=p>(</span><span class=s2>&#34;127.0.0.1&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=kc>true</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>IS_IPV4</span><span class=p>(</span><span class=s2>&#34;8.8.8.8&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=kc>true</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>IS_IPV4</span><span class=p>(</span><span class=s2>&#34;008.008.008.008&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=kc>false</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>IS_IPV4</span><span class=p>(</span><span class=s2>&#34;12345.2.3.4&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=kc>false</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>IS_IPV4</span><span class=p>(</span><span class=s2>&#34;12.34&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=kc>false</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>IS_IPV4</span><span class=p>(</span><span class=mi>8888</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=kc>false</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=json_parse>JSON_PARSE() <a href=/3.10/aql/functions/string/#json_parse class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>JSON_PARSE(text) → value</code></p><p>Return an AQL value described by the JSON-encoded input string.</p><ul><li><strong>text</strong> (string): the string to parse as JSON</li><li>returns <strong>value</strong> (any): the value corresponding to the given JSON text.
For input values that are no valid JSON strings, the function will return <code>null</code>.</li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>JSON_PARSE</span><span class=p>(</span><span class=s2>&#34;123&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=mi>123</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>JSON_PARSE</span><span class=p>(</span><span class=s2>&#34;[ true, false, null, -0.5 ]&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span> 
</span></span><span class=line><span class=cl>    <span class=kc>true</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=kc>false</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=kc>null</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=o>-</span><span class=mf>0.5</span> 
</span></span><span class=line><span class=cl>  <span class=p>]</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>JSON_PARSE</span><span class=p>(</span><span class=s1>&#39;{&#34;a&#34;: 1}&#39;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=p>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;a&#34;</span> <span class=o>:</span> <span class=mi>1</span> 
</span></span><span class=line><span class=cl>  <span class=p>}</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>JSON_PARSE</span><span class=p>(</span><span class=s1>&#39;&#34;abc&#34;&#39;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;abc&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>JSON_PARSE</span><span class=p>(</span><span class=s2>&#34;abc&#34;</span><span class=p>)</span> <span class=c1>// invalid JSON
</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=kc>null</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=json_stringify>JSON_STRINGIFY() <a href=/3.10/aql/functions/string/#json_stringify class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>JSON_STRINGIFY(value) → text</code></p><p>Return a JSON string representation of the input value.</p><ul><li><strong>value</strong> (any): the value to convert to a JSON string</li><li>returns <strong>text</strong> (string): the JSON string representing <code>value</code>.
For input values that cannot be converted to JSON, the function
will return <code>null</code>.</li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>JSON_STRINGIFY</span><span class=p>(</span><span class=kc>true</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;true&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>JSON_STRINGIFY</span><span class=p>(</span><span class=s2>&#34;abc&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;\&#34;abc\&#34;&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>JSON_STRINGIFY</span><span class=p>(</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=p>{</span><span class=s1>&#39;2&#39;</span><span class=o>:</span> <span class=mf>.5</span><span class=p>}]</span> <span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;[1,{\&#34;2\&#34;:0.5}]&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=left>LEFT() <a href=/3.10/aql/functions/string/#left class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>LEFT(value, n) → substring</code></p><p>Return the <code>n</code> leftmost characters of the string <code>value</code>.</p><p>To return the rightmost characters, see <a href=#right class=link>RIGHT()</a>.<br>To take a part from an arbitrary position off the string,
see <a href=#substring class=link>SUBSTRING()</a>.</p><ul><li><strong>value</strong> (string): a string</li><li><strong>n</strong> (number): how many characters to return</li><li>returns <strong>substring</strong> (string): at most <code>n</code> characters of <code>value</code>,
starting on the left-hand side of the string</li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>LEFT</span><span class=p>(</span><span class=s2>&#34;foobar&#34;</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;foo&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>LEFT</span><span class=p>(</span><span class=s2>&#34;foobar&#34;</span><span class=p>,</span> <span class=mi>10</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;foobar&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=length>LENGTH() <a href=/3.10/aql/functions/string/#length class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>LENGTH(str) → length</code></p><p>Determine the character length of a string.</p><ul><li><strong>str</strong> (string): a string. If a number is passed, it will be casted to string first.</li><li>returns <strong>length</strong> (number): the character length of <code>str</code> (not byte length)</li></ul><p><code>LENGTH()</code> can also determine the <a href=/3.10/aql/functions/array/#length class=link>number of elements</a> in an array,
the <a href=/3.10/aql/functions/document-object/#length class=link>number of attribute keys</a> of an object / document and
the <a href=/3.10/aql/functions/miscellaneous/#length class=link>amount of documents</a> in a collection.</p><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>LENGTH</span><span class=p>(</span><span class=s2>&#34;foobar&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=mi>6</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>LENGTH</span><span class=p>(</span><span class=s2>&#34;电脑坏了&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=mi>4</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=levenshtein_distance>LEVENSHTEIN_DISTANCE() <a href=/3.10/aql/functions/string/#levenshtein_distance class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>LEVENSHTEIN_DISTANCE(value1, value2) → distance</code></p><p>Calculate the <a href=https://en.wikipedia.org/wiki/Damerau%E2%80%93Levenshtein_distance target=_blank rel="noopener noreferrer" class=link>Damerau-Levenshtein distance</a>&nbsp;<i class="fas fa-external-link-alt"></i>
between two strings.</p><ul><li><strong>value1</strong> (string): a string</li><li><strong>value2</strong> (string): a string</li><li>returns <strong>distance</strong> (number): calculated Damerau-Levenshtein distance
between the input strings <code>value1</code> and <code>value2</code></li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>LEVENSHTEIN_DISTANCE</span><span class=p>(</span><span class=s2>&#34;foobar&#34;</span><span class=p>,</span> <span class=s2>&#34;bar&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=mi>3</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>LEVENSHTEIN_DISTANCE</span><span class=p>(</span><span class=s2>&#34; &#34;</span><span class=p>,</span> <span class=s2>&#34;&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=mi>1</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>LEVENSHTEIN_DISTANCE</span><span class=p>(</span><span class=s2>&#34;The quick brown fox jumps over the lazy dog&#34;</span><span class=p>,</span> <span class=s2>&#34;The quick black dog jumps over the brown fox&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=mi>13</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>LEVENSHTEIN_DISTANCE</span><span class=p>(</span><span class=s2>&#34;der mötör trötet&#34;</span><span class=p>,</span> <span class=s2>&#34;der trötet&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=mi>6</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=like>LIKE() <a href=/3.10/aql/functions/string/#like class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>LIKE(text, search, caseInsensitive) → bool</code></p><p>Check whether the pattern <code>search</code> is contained in the string <code>text</code>,
using wildcard matching.</p><ul><li><code>_</code>: A single arbitrary character</li><li><code>%</code>: Zero, one or many arbitrary characters</li><li><code>\\_</code>: A literal underscore</li><li><code>\\%</code>: A literal percent sign</li></ul><div class="box notices cstyle info"><div class=box-content-container><div class=box-content><i class="fas fa-info-circle"></i><div class=box-text><p>Literal backlashes require different amounts of escaping depending on the
context:</p><ul><li><code>\</code> in bind variables (<em>Table</em> view mode) in the web interface (automatically
escaped to <code>\\</code> unless the value is wrapped in double quotes and already
escaped properly)</li><li><code>\\</code> in bind variables (<em>JSON</em> view mode) and queries in the web interface</li><li><code>\\</code> in bind variables in arangosh</li><li><code>\\\\</code> in queries in arangosh</li><li>Double the amount compared to arangosh in shells that use backslashes for
escaping (<code>\\\\</code> in bind variables and <code>\\\\\\\\</code> in queries)</li></ul></div></div></div></div><p>The <code>LIKE()</code> function cannot be accelerated by any sort of index. However,
the <a href=/3.10/aql/functions/arangosearch/#like class=link>ArangoSearch <code>LIKE()</code> function</a> that
is used in the context of a <code>SEARCH</code> operation is backed by View indexes.</p><ul><li><strong>text</strong> (string): the string to search in</li><li><strong>search</strong> (string): a search pattern that can contain the wildcard characters
<code>%</code> (meaning any sequence of characters, including none) and <code>_</code> (any single
character). Literal <code>%</code> and <code>_</code> must be escaped with backslashes.
<em>search</em> cannot be a variable or a document attribute. The actual value must
be present at query parse time already.</li><li><strong>caseInsensitive</strong> (bool, <em>optional</em>): if set to <code>true</code>, the matching will be
case-insensitive. The default is <code>false</code>.</li><li>returns <strong>bool</strong> (bool): <code>true</code> if the pattern is contained in <code>text</code>,
and <code>false</code> otherwise</li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=kr>LIKE</span><span class=p>(</span><span class=s2>&#34;cart&#34;</span><span class=p>,</span> <span class=s2>&#34;ca_t&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>  <span class=kr>LIKE</span><span class=p>(</span><span class=s2>&#34;carrot&#34;</span><span class=p>,</span> <span class=s2>&#34;ca_t&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>  <span class=kr>LIKE</span><span class=p>(</span><span class=s2>&#34;carrot&#34;</span><span class=p>,</span> <span class=s2>&#34;ca%t&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span> 
</span></span><span class=line><span class=cl>    <span class=kc>true</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=kc>false</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=kc>true</span> 
</span></span><span class=line><span class=cl>  <span class=p>]</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=kr>LIKE</span><span class=p>(</span><span class=s2>&#34;foo bar baz&#34;</span><span class=p>,</span> <span class=s2>&#34;bar&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>  <span class=kr>LIKE</span><span class=p>(</span><span class=s2>&#34;foo bar baz&#34;</span><span class=p>,</span> <span class=s2>&#34;%bar%&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>  <span class=kr>LIKE</span><span class=p>(</span><span class=s2>&#34;bar&#34;</span><span class=p>,</span> <span class=s2>&#34;%bar%&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span> 
</span></span><span class=line><span class=cl>    <span class=kc>false</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=kc>true</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=kc>true</span> 
</span></span><span class=line><span class=cl>  <span class=p>]</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=kr>LIKE</span><span class=p>(</span><span class=s2>&#34;FoO bAr BaZ&#34;</span><span class=p>,</span> <span class=s2>&#34;fOo%bAz&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>  <span class=kr>LIKE</span><span class=p>(</span><span class=s2>&#34;FoO bAr BaZ&#34;</span><span class=p>,</span> <span class=s2>&#34;fOo%bAz&#34;</span><span class=p>,</span> <span class=kc>true</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span> 
</span></span><span class=line><span class=cl>    <span class=kc>false</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=kc>true</span> 
</span></span><span class=line><span class=cl>  <span class=p>]</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=lower>LOWER() <a href=/3.10/aql/functions/string/#lower class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>LOWER(value) → lowerCaseString</code></p><p>Convert upper-case letters in <code>value</code> to their lower-case counterparts.
All other characters are returned unchanged.</p><ul><li><strong>value</strong> (string): a string</li><li>returns <strong>lowerCaseString</strong> (string): <code>value</code> with upper-case characters converted
to lower-case characters</li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>LOWER</span><span class=p>(</span><span class=s2>&#34;AVOcado&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;avocado&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=ltrim>LTRIM() <a href=/3.10/aql/functions/string/#ltrim class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>LTRIM(value, chars) → strippedString</code></p><p>Return the string <code>value</code> with whitespace stripped from the start only.</p><p>To strip from the end only, see <a href=#rtrim class=link>RTRIM()</a>.<br>To strip both sides, see <a href=#trim class=link>TRIM()</a>.</p><ul><li><strong>value</strong> (string): a string</li><li><strong>chars</strong> (string, <em>optional</em>): override the characters that should
be removed from the string. It defaults to <code>\r\n \t</code> (i.e. <code>0x0d</code>, <code>0x0a</code>,
<code>0x20</code> and <code>0x09</code>).</li><li>returns <strong>strippedString</strong> (string): <code>value</code> without <code>chars</code> at the
left-hand side</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>LTRIM</span><span class=p>(</span><span class=s2>&#34;foo bar&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;foo bar&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>LTRIM</span><span class=p>(</span><span class=s2>&#34;  foo bar  &#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;foo bar  &#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>LTRIM</span><span class=p>(</span><span class=s2>&#34;--==[foo-bar]==--&#34;</span><span class=p>,</span> <span class=s2>&#34;-=[]&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;foo-bar]==--&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=md5>MD5() <a href=/3.10/aql/functions/string/#md5 class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>MD5(text) → hash</code></p><p>Calculate the MD5 checksum for <code>text</code> and return it in a hexadecimal
string representation.</p><ul><li><strong>text</strong> (string): a string</li><li>returns <strong>hash</strong> (string): MD5 checksum as hex string</li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>MD5</span><span class=p>(</span><span class=s2>&#34;foobar&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;3858f62230ac3c915f300c664312c63f&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=ngram_positional_similarity>NGRAM_POSITIONAL_SIMILARITY() <a href=/3.10/aql/functions/string/#ngram_positional_similarity class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><small>Introduced in: v3.7.0</small></p><p><code>NGRAM_POSITIONAL_SIMILARITY(input, target, ngramSize) → similarity</code></p><p>Calculates the <a href=https://webdocs.cs.ualberta.ca/~kondrak/papers/spire05.pdf target=_blank rel="noopener noreferrer" class=link><em>n</em>-gram similarity</a>&nbsp;<i class="fas fa-external-link-alt"></i>
between <code>input</code> and <code>target</code> using <em>n</em>-grams with minimum and maximum length of
<code>ngramSize</code>.</p><p>The similarity is calculated by counting how long the longest sequence of
matching <em>n</em>-grams is, divided by the <strong>longer argument&rsquo;s</strong> total <em>n</em>-gram count.
Partially matching <em>n</em>-grams are counted, whereas
<a href=#ngram_similarity class=link>NGRAM_SIMILARITY()</a> counts only fully matching <em>n</em>-grams.</p><p>The <em>n</em>-grams for both input and target are calculated on the fly,
not involving Analyzers.</p><ul><li><strong>input</strong> (string): source text to be tokenized into <em>n</em>-grams</li><li><strong>target</strong> (string): target text to be tokenized into <em>n</em>-grams</li><li><strong>ngramSize</strong> (number): minimum as well as maximum <em>n</em>-gram length</li><li>returns <strong>similarity</strong> (number): value between <code>0.0</code> and <code>1.0</code></li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=nf>NGRAM_POSITIONAL_SIMILARITY</span><span class=p>(</span><span class=s2>&#34;quick fox&#34;</span><span class=p>,</span> <span class=s2>&#34;quick foxx&#34;</span><span class=p>,</span> <span class=mi>2</span><span class=p>),</span>
</span></span><span class=line><span class=cl>  <span class=nf>NGRAM_POSITIONAL_SIMILARITY</span><span class=p>(</span><span class=s2>&#34;quick fox&#34;</span><span class=p>,</span> <span class=s2>&#34;quick foxx&#34;</span><span class=p>,</span> <span class=mi>3</span><span class=p>),</span>
</span></span><span class=line><span class=cl>  <span class=nf>NGRAM_POSITIONAL_SIMILARITY</span><span class=p>(</span><span class=s2>&#34;quick fox&#34;</span><span class=p>,</span> <span class=s2>&#34;quirky fox&#34;</span><span class=p>,</span> <span class=mi>2</span><span class=p>),</span>
</span></span><span class=line><span class=cl>  <span class=nf>NGRAM_POSITIONAL_SIMILARITY</span><span class=p>(</span><span class=s2>&#34;quick fox&#34;</span><span class=p>,</span> <span class=s2>&#34;quirky fox&#34;</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span> 
</span></span><span class=line><span class=cl>    <span class=mf>0.8888888955116272</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=mf>0.875</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=mf>0.7222222089767456</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=mf>0.6666666865348816</span> 
</span></span><span class=line><span class=cl>  <span class=p>]</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=ngram_similarity>NGRAM_SIMILARITY() <a href=/3.10/aql/functions/string/#ngram_similarity class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><small>Introduced in: v3.7.0</small></p><p><code>NGRAM_SIMILARITY(input, target, ngramSize) → similarity</code></p><p>Calculates <a href=https://webdocs.cs.ualberta.ca/~kondrak/papers/spire05.pdf target=_blank rel="noopener noreferrer" class=link><em>n</em>-gram similarity</a>&nbsp;<i class="fas fa-external-link-alt"></i>
between <code>input</code> and <code>target</code> using <em>n</em>-grams with minimum and maximum length of
<code>ngramSize</code>.</p><p>The similarity is calculated by counting how long the longest sequence of
matching <em>n</em>-grams is, divided by <strong>target&rsquo;s</strong> total <em>n</em>-gram count.
Only fully matching <em>n</em>-grams are counted, whereas
<a href=#ngram_positional_similarity class=link>NGRAM_POSITIONAL_SIMILARITY()</a> counts partially
matching <em>n</em>-grams too. This behavior matches the similarity measure used in
<a href=/3.10/aql/functions/arangosearch/#ngram_match class=link>NGRAM_MATCH()</a>.</p><p>The <em>n</em>-grams for both input and target are calculated on the fly, not involving
Analyzers.</p><ul><li><strong>input</strong> (string): source text to be tokenized into <em>n</em>-grams</li><li><strong>target</strong> (string): target text to be tokenized into <em>n</em>-grams</li><li><strong>ngramSize</strong> (number): minimum as well as maximum <em>n</em>-gram length</li><li>returns <strong>similarity</strong> (number): value between <code>0.0</code> and <code>1.0</code></li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=nf>NGRAM_SIMILARITY</span><span class=p>(</span><span class=s2>&#34;quick fox&#34;</span><span class=p>,</span> <span class=s2>&#34;quick foxx&#34;</span><span class=p>,</span> <span class=mi>2</span><span class=p>),</span>
</span></span><span class=line><span class=cl>  <span class=nf>NGRAM_SIMILARITY</span><span class=p>(</span><span class=s2>&#34;quick fox&#34;</span><span class=p>,</span> <span class=s2>&#34;quick foxx&#34;</span><span class=p>,</span> <span class=mi>3</span><span class=p>),</span>
</span></span><span class=line><span class=cl>  <span class=nf>NGRAM_SIMILARITY</span><span class=p>(</span><span class=s2>&#34;quick fox&#34;</span><span class=p>,</span> <span class=s2>&#34;quirky fox&#34;</span><span class=p>,</span> <span class=mi>2</span><span class=p>),</span>
</span></span><span class=line><span class=cl>  <span class=nf>NGRAM_SIMILARITY</span><span class=p>(</span><span class=s2>&#34;quick fox&#34;</span><span class=p>,</span> <span class=s2>&#34;quirky fox&#34;</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span> 
</span></span><span class=line><span class=cl>    <span class=mf>0.8888888955116272</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=mf>0.875</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=mf>0.5555555820465088</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=mf>0.375</span> 
</span></span><span class=line><span class=cl>  <span class=p>]</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=random_token>RANDOM_TOKEN() <a href=/3.10/aql/functions/string/#random_token class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>RANDOM_TOKEN(length) → randomString</code></p><p>Generate a pseudo-random token string with the specified length.
The algorithm for token generation should be treated as opaque.</p><ul><li><strong>length</strong> (number): desired string length for the token. It must be greater
or equal to 0 and at most 65536. A <code>length</code> of 0 returns an empty string.</li><li>returns <strong>randomString</strong> (string): a generated token consisting of lowercase
letters, uppercase letters and numbers</li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=nf>RANDOM_TOKEN</span><span class=p>(</span><span class=mi>8</span><span class=p>),</span>
</span></span><span class=line><span class=cl>  <span class=nf>RANDOM_TOKEN</span><span class=p>(</span><span class=mi>8</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;rj3mffwJ&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;2lNamhba&#34;</span> 
</span></span><span class=line><span class=cl>  <span class=p>]</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=regex_matches>REGEX_MATCHES() <a href=/3.10/aql/functions/string/#regex_matches class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>REGEX_MATCHES(text, regex, caseInsensitive) → stringArray</code></p><p>Return the matches in the given string <code>text</code>, using the <code>regex</code>.</p><ul><li><strong>text</strong> (string): the string to search in</li><li><strong>regex</strong> (string): a <a href=#regular-expression-syntax class=link>regular expression</a>
to use for matching the <code>text</code></li><li><strong>caseInsensitive</strong> (bool, <em>optional</em>): if set to <code>true</code>, the matching will be
case-insensitive. The default is <code>false</code>.</li><li>returns <strong>stringArray</strong> (array): an array of strings containing the matches,
or <code>null</code> and a warning if the expression is invalid</li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>REGEX_MATCHES</span><span class=p>(</span><span class=s2>&#34;My-us3r_n4m3&#34;</span><span class=p>,</span> <span class=s2>&#34;^[a-z0-9_-]{3,16}$&#34;</span><span class=p>,</span> <span class=kc>true</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;My-us3r_n4m3&#34;</span> 
</span></span><span class=line><span class=cl>  <span class=p>]</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>REGEX_MATCHES</span><span class=p>(</span><span class=s2>&#34;#4d82h4&#34;</span><span class=p>,</span> <span class=s2>&#34;^#?([a-f0-9]{6}|[a-f0-9]{3})$&#34;</span><span class=p>,</span> <span class=kc>true</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=kc>null</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>REGEX_MATCHES</span><span class=p>(</span><span class=s2>&#34;john@doe.com&#34;</span><span class=p>,</span> <span class=s2>&#34;^([a-z0-9_\\\\.-]+)@([\\\\da-z-]+)\\\\.([a-z\\\\.]{2,6})$&#34;</span><span class=p>,</span> <span class=kc>false</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;john@doe.com&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;john&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;doe&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;com&#34;</span> 
</span></span><span class=line><span class=cl>  <span class=p>]</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=regex_split>REGEX_SPLIT() <a href=/3.10/aql/functions/string/#regex_split class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>REGEX_SPLIT(text, splitExpression, caseInsensitive, limit) → stringArray</code></p><p>Split the given string <code>text</code> into a list of strings at positions where
<code>splitExpression</code> matches.</p><ul><li><strong>text</strong> (string): the string to split</li><li><strong>splitExpression</strong> (string): a <a href=#regular-expression-syntax class=link>regular expression</a>
to use for splitting the <code>text</code>. You can define a capturing group to keep matches</li><li><strong>caseInsensitive</strong> (bool, <em>optional</em>): if set to <code>true</code>, the matching will be
case-insensitive. The default is <code>false</code>.</li><li><strong>limit</strong> (number, <em>optional</em>): limit the number of split values in the result.
If no <code>limit</code> is given, the number of splits returned is not bounded.</li><li>returns <strong>stringArray</strong> (array): an array of strings, or <code>null</code> and a warning
if the expression is invalid</li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>REGEX_SPLIT</span><span class=p>(</span><span class=s2>&#34;This is a line.\\n This is yet another line\\r\\n This again is a line.\\r Mac line &#34;</span><span class=p>,</span> <span class=s2>&#34;\\\\.?\\r\\n|\\r|\\n&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;This is a line.&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34; This is yet another line&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34; This again is a line.&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34; Mac line &#34;</span> 
</span></span><span class=line><span class=cl>  <span class=p>]</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>REGEX_SPLIT</span><span class=p>(</span><span class=s2>&#34;hypertext language, programming&#34;</span><span class=p>,</span> <span class=s2>&#34;[\\\\s, ]+&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;hypertext&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;language&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;programming&#34;</span> 
</span></span><span class=line><span class=cl>  <span class=p>]</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=nf>REGEX_SPLIT</span><span class=p>(</span><span class=s2>&#34;Capture the article&#34;</span><span class=p>,</span> <span class=s2>&#34;(the)&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>  <span class=nf>REGEX_SPLIT</span><span class=p>(</span><span class=s2>&#34;Don&#39;t capture the article&#34;</span><span class=p>,</span> <span class=s2>&#34;the&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span> 
</span></span><span class=line><span class=cl>    <span class=p>[</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;Capture &#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;the&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34; article&#34;</span> 
</span></span><span class=line><span class=cl>    <span class=p>],</span> 
</span></span><span class=line><span class=cl>    <span class=p>[</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;Don&#39;t capture &#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34; article&#34;</span> 
</span></span><span class=line><span class=cl>    <span class=p>]</span> 
</span></span><span class=line><span class=cl>  <span class=p>]</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>REGEX_SPLIT</span><span class=p>(</span><span class=s2>&#34;cA,Bc,A,BcA,BcA,Bc&#34;</span><span class=p>,</span> <span class=s2>&#34;a,b&#34;</span><span class=p>,</span> <span class=kc>true</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;c&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;c,&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;c&#34;</span> 
</span></span><span class=line><span class=cl>  <span class=p>]</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=regex_test>REGEX_TEST() <a href=/3.10/aql/functions/string/#regex_test class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>REGEX_TEST(text, search, caseInsensitive) → bool</code></p><p>Check whether the pattern <code>search</code> is contained in the string <code>text</code>,
using regular expression matching.</p><ul><li><strong>text</strong> (string): the string to search in</li><li><strong>search</strong> (string): a <a href=#regular-expression-syntax class=link>regular expression</a>
search pattern</li><li><strong>caseInsensitive</strong> (bool, <em>optional</em>): if set to <code>true</code>, the matching will be
case-insensitive. The default is <code>false</code>.</li><li>returns <strong>bool</strong> (bool): <code>true</code> if the pattern is contained in <code>text</code>,
and <code>false</code> otherwise, or <code>null</code> and a warning if the expression is invalid</li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>REGEX_TEST</span><span class=p>(</span><span class=s2>&#34;the quick brown fox&#34;</span><span class=p>,</span> <span class=s2>&#34;the.*fox&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=kc>true</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>REGEX_TEST</span><span class=p>(</span><span class=s2>&#34;the quick brown fox&#34;</span><span class=p>,</span> <span class=s2>&#34;^(a|the)\\\\s+(quick|slow).*f.x$&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=kc>true</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>REGEX_TEST</span><span class=p>(</span><span class=s2>&#34;the\\nquick\\nbrown\\nfox&#34;</span><span class=p>,</span> <span class=s2>&#34;^the(\\n[a-w]+)+\\nfox$&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=kc>true</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=regex_replace>REGEX_REPLACE() <a href=/3.10/aql/functions/string/#regex_replace class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>REGEX_REPLACE(text, search, replacement, caseInsensitive) → string</code></p><p>Replace the pattern <code>search</code> with the string <code>replacement</code> in the string
<code>text</code>, using regular expression matching.</p><ul><li><strong>text</strong> (string): the string to search in</li><li><strong>search</strong> (string): a <a href=#regular-expression-syntax class=link>regular expression</a>
search pattern</li><li><strong>replacement</strong> (string): the string to replace the <code>search</code> pattern with</li><li><strong>caseInsensitive</strong> (bool, <em>optional</em>): if set to <code>true</code>, the matching will be
case-insensitive. The default is <code>false</code>.</li><li>returns <strong>string</strong> (string): the string <code>text</code> with the <code>search</code> regex
pattern replaced with the <code>replacement</code> string wherever the pattern exists
in <code>text</code>, or <code>null</code> and a warning if the expression is invalid</li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>REGEX_REPLACE</span><span class=p>(</span><span class=s2>&#34;the quick brown fox&#34;</span><span class=p>,</span> <span class=s2>&#34;the.*fox&#34;</span><span class=p>,</span> <span class=s2>&#34;jumped over&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;jumped over&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>REGEX_REPLACE</span><span class=p>(</span><span class=s2>&#34;An Avocado&#34;</span><span class=p>,</span> <span class=s2>&#34;a&#34;</span><span class=p>,</span> <span class=s2>&#34;_&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;An Avoc_do&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>REGEX_REPLACE</span><span class=p>(</span><span class=s2>&#34;An Avocado&#34;</span><span class=p>,</span> <span class=s2>&#34;a&#34;</span><span class=p>,</span> <span class=s2>&#34;_&#34;</span><span class=p>,</span> <span class=kc>true</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_n _voc_do&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=reverse>REVERSE() <a href=/3.10/aql/functions/string/#reverse class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>REVERSE(value) → reversedString</code></p><p>Return the reverse of the string <code>value</code>.</p><ul><li><strong>value</strong> (string): a string</li><li>returns <strong>reversedString</strong> (string): a new string with the characters in
reverse order</li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>REVERSE</span><span class=p>(</span><span class=s2>&#34;foobar&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;raboof&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>REVERSE</span><span class=p>(</span><span class=s2>&#34;电脑坏了&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;了坏脑电&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=right>RIGHT() <a href=/3.10/aql/functions/string/#right class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>RIGHT(value, length) → substring</code></p><p>Return the <code>length</code> rightmost characters of the string <code>value</code>.</p><p>To return the leftmost characters, see <a href=#left class=link>LEFT()</a>.<br>To take a part from an arbitrary position off the string,
see <a href=#substring class=link>SUBSTRING()</a>.</p><ul><li><strong>value</strong> (string): a string</li><li><strong>length</strong> (number): how many characters to return</li><li>returns <strong>substring</strong> (string): at most <code>length</code> characters of <code>value</code>,
starting on the right-hand side of the string</li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>RIGHT</span><span class=p>(</span><span class=s2>&#34;foobar&#34;</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;bar&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>RIGHT</span><span class=p>(</span><span class=s2>&#34;foobar&#34;</span><span class=p>,</span> <span class=mi>10</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;foobar&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=rtrim>RTRIM() <a href=/3.10/aql/functions/string/#rtrim class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>RTRIM(value, chars) → strippedString</code></p><p>Return the string <code>value</code> with whitespace stripped from the end only.</p><p>To strip from the start only, see <a href=#ltrim class=link>LTRIM()</a>.<br>To strip both sides, see <a href=#trim class=link>TRIM()</a>.</p><ul><li><strong>value</strong> (string): a string</li><li><strong>chars</strong> (string, <em>optional</em>): override the characters that should
be removed from the string. It defaults to <code>\r\n \t</code> (i.e. <code>0x0d</code>, <code>0x0a</code>,
<code>0x20</code> and <code>0x09</code>).</li><li>returns <strong>strippedString</strong> (string): <code>value</code> without <code>chars</code> at the
right-hand side</li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>RTRIM</span><span class=p>(</span><span class=s2>&#34;foo bar&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;foo bar&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>RTRIM</span><span class=p>(</span><span class=s2>&#34;  foo bar  &#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;  foo bar&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>RTRIM</span><span class=p>(</span><span class=s2>&#34;--==[foo-bar]==--&#34;</span><span class=p>,</span> <span class=s2>&#34;-=[]&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;--==[foo-bar&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=sha1>SHA1() <a href=/3.10/aql/functions/string/#sha1 class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>SHA1(text) → hash</code></p><p>Calculate the SHA1 checksum for <code>text</code> and returns it in a hexadecimal
string representation.</p><ul><li><strong>text</strong> (string): a string</li><li>returns <strong>hash</strong> (string): SHA1 checksum as hex string</li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>SHA1</span><span class=p>(</span><span class=s2>&#34;foobar&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;8843d7f92416211de9ebb963ff4ce28125932878&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=sha512>SHA512() <a href=/3.10/aql/functions/string/#sha512 class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>SHA512(text) → hash</code></p><p>Calculate the SHA512 checksum for <code>text</code> and return it in a hexadecimal
string representation.</p><ul><li><strong>text</strong> (string): a string</li><li>returns <strong>hash</strong> (string): SHA512 checksum as hex string</li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>SHA512</span><span class=p>(</span><span class=s2>&#34;foobar&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;0a50261ebd1a390fed2bf326f2673c145582a6342d523204973d0219337f81616a8069b012587cf5635f6925f1b56c360230c19b273500ee013e030601bf2425&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=soundex>SOUNDEX() <a href=/3.10/aql/functions/string/#soundex class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>SOUNDEX(value) → soundexString</code></p><p>Return the <a href=https://en.wikipedia.org/wiki/Soundex target=_blank rel="noopener noreferrer" class=link>Soundex</a>&nbsp;<i class="fas fa-external-link-alt"></i>
fingerprint of <code>value</code>.</p><ul><li><strong>value</strong> (string): a string</li><li>returns <strong>soundexString</strong> (string): a Soundex fingerprint of <code>value</code></li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=nf>SOUNDEX</span><span class=p>(</span><span class=s2>&#34;example&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>  <span class=nf>SOUNDEX</span><span class=p>(</span><span class=s2>&#34;ekzampul&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>  <span class=nf>SOUNDEX</span><span class=p>(</span><span class=s2>&#34;soundex&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>  <span class=nf>SOUNDEX</span><span class=p>(</span><span class=s2>&#34;sounteks&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;E251&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;E251&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;S532&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;S532&#34;</span> 
</span></span><span class=line><span class=cl>  <span class=p>]</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=split>SPLIT() <a href=/3.10/aql/functions/string/#split class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>SPLIT(value, separator, limit) → strArray</code></p><p>Split the given string <code>value</code> into a list of strings, using the <code>separator</code>.</p><p>To split a document identifier (<code>_id</code>) into the collection name and document key
(<code>_key</code>), you should use the more optimized
<a href=/3.10/aql/functions/document-object/#parse_identifier class=link><code>PARSE_IDENTIFIER()</code> function</a>.</p><ul><li><strong>value</strong> (string): a string</li><li><strong>separator</strong> (string): either a string or a list of strings. If <code>separator</code> is
an empty string, <code>value</code> will be split into a list of characters. If no <code>separator</code>
is specified, <code>value</code> will be returned as array.</li><li><strong>limit</strong> (number, <em>optional</em>): limit the number of split values in the result.
If no <code>limit</code> is given, the number of splits returned is not bounded.</li><li>returns <strong>strArray</strong> (array): an array of strings</li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>SPLIT</span><span class=p>(</span> <span class=s2>&#34;foo-bar-baz&#34;</span><span class=p>,</span> <span class=s2>&#34;-&#34;</span> <span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;foo&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;bar&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;baz&#34;</span> 
</span></span><span class=line><span class=cl>  <span class=p>]</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>SPLIT</span><span class=p>(</span> <span class=s2>&#34;foo-bar-baz&#34;</span><span class=p>,</span> <span class=s2>&#34;-&#34;</span><span class=p>,</span> <span class=mi>1</span> <span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;foo&#34;</span> 
</span></span><span class=line><span class=cl>  <span class=p>]</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>SPLIT</span><span class=p>(</span> <span class=s2>&#34;foo, bar &amp; baz&#34;</span><span class=p>,</span> <span class=p>[</span> <span class=s2>&#34;, &#34;</span><span class=p>,</span> <span class=s2>&#34; &amp; &#34;</span> <span class=p>]</span> <span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;foo&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;bar&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;baz&#34;</span> 
</span></span><span class=line><span class=cl>  <span class=p>]</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=starts_with>STARTS_WITH() <a href=/3.10/aql/functions/string/#starts_with class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>STARTS_WITH(text, prefix) → startsWith</code></p><p>Check whether the given string starts with <code>prefix</code>.</p><p>There is a corresponding <a href=/3.10/aql/functions/arangosearch/#starts_with class=link><code>STARTS_WITH()</code> ArangoSearch function</a>
that can utilize View indexes.</p><ul><li><strong>text</strong> (string): a string to compare against</li><li><strong>prefix</strong> (string): a string to test for at the start of the text</li><li>returns <strong>startsWith</strong> (bool): whether the text starts with the given prefix</li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>STARTS_WITH</span><span class=p>(</span><span class=s2>&#34;foobar&#34;</span><span class=p>,</span> <span class=s2>&#34;foo&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=kc>true</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>STARTS_WITH</span><span class=p>(</span><span class=s2>&#34;foobar&#34;</span><span class=p>,</span> <span class=s2>&#34;baz&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=kc>false</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><hr><p><code>STARTS_WITH(text, prefixes, minMatchCount) → startsWith</code></p><p><small>Introduced in: v3.7.1</small></p><p>Check if the given string starts with one of the <code>prefixes</code>.</p><ul><li><strong>text</strong> (string): a string to compare against</li><li><strong>prefixes</strong> (array): an array of strings to test for at the start of the text</li><li><strong>minMatchCount</strong> (number, <em>optional</em>): minimum number of prefixes that
should be satisfied. The default is <code>1</code> and it is the only meaningful value
unless <code>STARTS_WITH()</code> is used in the context of a <code>SEARCH</code> expression where
an attribute can have multiple values at the same time</li><li>returns <strong>startsWith</strong> (bool): whether the text starts with at least
<em>minMatchCount</em> of the given prefixes</li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>STARTS_WITH</span><span class=p>(</span><span class=s2>&#34;foobar&#34;</span><span class=p>,</span> <span class=p>[</span><span class=s2>&#34;bar&#34;</span><span class=p>,</span> <span class=s2>&#34;foo&#34;</span><span class=p>])</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=kc>true</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>STARTS_WITH</span><span class=p>(</span><span class=s2>&#34;foobar&#34;</span><span class=p>,</span> <span class=p>[</span><span class=s2>&#34;bar&#34;</span><span class=p>,</span> <span class=s2>&#34;baz&#34;</span><span class=p>])</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=kc>false</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=substitute>SUBSTITUTE() <a href=/3.10/aql/functions/string/#substitute class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>SUBSTITUTE(value, search, replace, limit) → substitutedString</code></p><p>Replace search values in the string <code>value</code>.</p><ul><li><strong>value</strong> (string): a string</li><li><strong>search</strong> (string|array): if <code>search</code> is a string, all occurrences of
<code>search</code> will be replaced in <code>value</code>. If <code>search</code> is an array of strings,
each occurrence of a value contained in <code>search</code> will be replaced by the
corresponding array element in <code>replace</code>. If <code>replace</code> has less list items
than <code>search</code>, occurrences of unmapped <code>search</code> items will be replaced by an
empty string.</li><li><strong>replace</strong> (string|array, <em>optional</em>): a replacement string, or an array of
strings to replace the corresponding elements of <code>search</code> with. Can have less
elements than <code>search</code> or be left out to remove matches. If <code>search</code> is an array
but <code>replace</code> is a string, then all matches will be replaced with <code>replace</code>.</li><li><strong>limit</strong> (number, <em>optional</em>): cap the number of replacements to this value</li><li>returns <strong>substitutedString</strong> (string): a new string with matches replaced
(or removed)</li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>SUBSTITUTE</span><span class=p>(</span> <span class=s2>&#34;the quick brown foxx&#34;</span><span class=p>,</span> <span class=s2>&#34;quick&#34;</span><span class=p>,</span> <span class=s2>&#34;lazy&#34;</span> <span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;the lazy brown foxx&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>SUBSTITUTE</span><span class=p>(</span> <span class=s2>&#34;the quick brown foxx&#34;</span><span class=p>,</span> <span class=p>[</span> <span class=s2>&#34;quick&#34;</span><span class=p>,</span> <span class=s2>&#34;foxx&#34;</span> <span class=p>],</span> <span class=p>[</span> <span class=s2>&#34;slow&#34;</span><span class=p>,</span> <span class=s2>&#34;dog&#34;</span> <span class=p>]</span> <span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;the slow brown dog&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>SUBSTITUTE</span><span class=p>(</span> <span class=s2>&#34;the quick brown foxx&#34;</span><span class=p>,</span> <span class=p>[</span> <span class=s2>&#34;the&#34;</span><span class=p>,</span> <span class=s2>&#34;foxx&#34;</span> <span class=p>],</span> <span class=p>[</span> <span class=s2>&#34;that&#34;</span><span class=p>,</span> <span class=s2>&#34;dog&#34;</span> <span class=p>],</span> <span class=mi>1</span> <span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;that quick brown foxx&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>SUBSTITUTE</span><span class=p>(</span> <span class=s2>&#34;the quick brown foxx&#34;</span><span class=p>,</span> <span class=p>[</span> <span class=s2>&#34;the&#34;</span><span class=p>,</span> <span class=s2>&#34;quick&#34;</span><span class=p>,</span> <span class=s2>&#34;foxx&#34;</span> <span class=p>],</span> <span class=p>[</span> <span class=s2>&#34;A&#34;</span><span class=p>,</span> <span class=s2>&#34;VOID!&#34;</span> <span class=p>]</span> <span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;A VOID! brown &#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>SUBSTITUTE</span><span class=p>(</span> <span class=s2>&#34;the quick brown foxx&#34;</span><span class=p>,</span> <span class=p>[</span> <span class=s2>&#34;quick&#34;</span><span class=p>,</span> <span class=s2>&#34;foxx&#34;</span> <span class=p>],</span> <span class=s2>&#34;xx&#34;</span> <span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;the xx brown xx&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><hr><p><code>SUBSTITUTE(value, mapping, limit) → substitutedString</code></p><p>Alternatively, <code>search</code> and <code>replace</code> can be specified in a combined value.</p><ul><li><strong>value</strong> (string): a string</li><li><strong>mapping</strong> (object): a lookup map with search strings as keys and replacement
strings as values. Empty strings and <code>null</code> as values remove matches.
Note that there is no defined order in which the mapping is processed. In case
of overlapping searches and substitutions, one time the first entry may win,
another time the second. If you need to ensure a specific order then choose
the array-based variant of this function</li><li><strong>limit</strong> (number, <em>optional</em>): cap the number of replacements to this value</li><li>returns <strong>substitutedString</strong> (string): a new string with matches replaced
(or removed)</li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>SUBSTITUTE</span><span class=p>(</span><span class=s2>&#34;the quick brown foxx&#34;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;quick&#34;</span><span class=o>:</span> <span class=s2>&#34;small&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;brown&#34;</span><span class=o>:</span> <span class=s2>&#34;slow&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;foxx&#34;</span><span class=o>:</span> <span class=s2>&#34;ant&#34;</span>
</span></span><span class=line><span class=cl><span class=p>})</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;the small slow ant&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>SUBSTITUTE</span><span class=p>(</span><span class=s2>&#34;the quick brown foxx&#34;</span><span class=p>,</span> <span class=p>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;quick&#34;</span><span class=o>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;brown&#34;</span><span class=o>:</span> <span class=kc>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;foxx&#34;</span><span class=o>:</span> <span class=s2>&#34;ant&#34;</span>
</span></span><span class=line><span class=cl><span class=p>})</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;the   ant&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>SUBSTITUTE</span><span class=p>(</span><span class=s2>&#34;the quick brown foxx&#34;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;quick&#34;</span><span class=o>:</span> <span class=s2>&#34;small&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;brown&#34;</span><span class=o>:</span> <span class=s2>&#34;slow&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;foxx&#34;</span><span class=o>:</span> <span class=s2>&#34;ant&#34;</span>
</span></span><span class=line><span class=cl><span class=p>},</span> <span class=mi>2</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;the small slow foxx&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=substring>SUBSTRING() <a href=/3.10/aql/functions/string/#substring class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>SUBSTRING(value, offset, length) → substring</code></p><p>Return a substring of <code>value</code>.</p><p>To return the rightmost characters, see <a href=#right class=link>RIGHT()</a>.<br>To return the leftmost characters, see <a href=#left class=link>LEFT()</a>.</p><ul><li><strong>value</strong> (string): a string</li><li><strong>offset</strong> (number): start at this character of the string. Offsets start at 0.
Negative offsets start from the end of the string. The last character has an
index of -1</li><li><strong>length</strong> (number, <em>optional</em>): take this many characters. Omit the parameter
to get the substring from <code>offset</code> to the end of the string</li><li>returns <strong>substring</strong> (string): a substring of <code>value</code></li></ul><p><strong>Examples</strong></p><p>Get a substring starting at the 6th character and until the end of the string:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>SUBSTRING</span><span class=p>(</span><span class=s2>&#34;Holy Guacamole!&#34;</span><span class=p>,</span> <span class=mi>5</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;Guacamole!&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><p>Get a 4 characters long substring, starting at the 11th character:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>SUBSTRING</span><span class=p>(</span><span class=s2>&#34;Holy Guacamole!&#34;</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;mole&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><p>Get a 4 characters long substring, starting at the 5th from last character:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>SUBSTRING</span><span class=p>(</span><span class=s2>&#34;Holy Guacamole!&#34;</span><span class=p>,</span> <span class=o>-</span><span class=mi>5</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;mole&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=substring_bytes>SUBSTRING_BYTES() <a href=/3.10/aql/functions/string/#substring_bytes class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>SUBSTRING_BYTES(value, offset, length) → substring</code></p><p>Return a substring of <code>value</code>, using an <code>offset</code> and <code>length</code> in bytes instead
of in number of characters.</p><p>This function is intended to be used together with the
<a href=/3.10/aql/functions/arangosearch/#offset_info class=link><code>OFFSET_INFO()</code> function</a> for
<a href=/3.10/index-and-search/arangosearch/search-highlighting/ class=link>search highlighting</a>.</p><ul><li><strong>value</strong> (string): a string</li><li><strong>offset</strong> (number): start at this byte of the UTF-8 encoded string.
Offsets start at 0. Negative offsets start from the end of the string.
The last byte has an index of -1. The offset needs to coincide with the
beginning of a character&rsquo;s byte sequence</li><li><strong>length</strong> (number, <em>optional</em>): take this many bytes. Omit the parameter to
get the substring from <code>offset</code> to the end of the string. The end byte
(<code>offset</code> + <code>length</code>) needs to coincide with the end of a character&rsquo;s
byte sequence</li><li>returns <strong>substring</strong> (string|null): a substring of <code>value</code>, or <code>null</code> and
produces a warning if the start or end byte is in the middle of a character&rsquo;s
byte sequence</li></ul><p><strong>Examples</strong></p><p>Get a substring starting at the 11th byte and until the end of the string.
Note that the heart emoji is comprised of two characters, the Black Heart Symbol
and the Variation Selector-16, each encoded using 3 bytes in UTF-8:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>SUBSTRING_BYTES</span><span class=p>(</span><span class=s2>&#34;We ❤️ avocado!&#34;</span><span class=p>,</span> <span class=mi>10</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;avocado!&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><p>Get a 3 bytes long substring starting at the 3rd byte, extracting the
Black Heart Symbol:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>SUBSTRING_BYTES</span><span class=p>(</span><span class=s2>&#34;We ❤️ avocado!&#34;</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;❤&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><p>Get a 6 bytes long substring starting at the 15th byte from last, extracting the
heart emoji:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>SUBSTRING_BYTES</span><span class=p>(</span><span class=s2>&#34;We ❤️ avocado!&#34;</span><span class=p>,</span> <span class=o>-</span><span class=mi>15</span><span class=p>,</span> <span class=mi>6</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;❤️&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><p>Try to get a 4 bytes long substring starting at the 15th byte from last,
resulting in a <code>null</code> value and a warning because the substring contains an
incomplete UTF-8 byte sequence:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>SUBSTRING_BYTES</span><span class=p>(</span><span class=s2>&#34;We ❤️ avocado!&#34;</span><span class=p>,</span> <span class=o>-</span><span class=mi>15</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=kc>null</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=tokens>TOKENS() <a href=/3.10/aql/functions/string/#tokens class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>TOKENS(input, analyzer) → tokenArray</code></p><p>Split the <code>input</code> string(s) with the help of the specified <code>analyzer</code> into an
array. The resulting array can be used in <code>FILTER</code> or <code>SEARCH</code> statements with
the <code>IN</code> operator, but also be assigned to variables and returned. This can be
used to better understand how a specific Analyzer processes an input value.</p><p>It has a regular return value unlike all other ArangoSearch AQL functions and
is thus not limited to <code>SEARCH</code> operations. It is independent of Views.
A wrapping <code>ANALYZER()</code> call in a search expression does not affect the
<code>analyzer</code> argument nor allow you to omit it.</p><ul><li><strong>input</strong> (string|array): text to tokenize. Accepts recursive arrays of
strings.</li><li><strong>analyzer</strong> (string): name of an <a href=/3.10/index-and-search/analyzers/ class=link>Analyzer</a>.</li><li>returns <strong>tokenArray</strong> (array): array of strings with zero or more elements,
each element being a token.</li></ul><p><strong>Examples</strong></p><p>Example query showcasing the <code>"text_de"</code> Analyzer (tokenization with stemming,
case conversion and accent removal for German text):</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>TOKENS</span><span class=p>(</span><span class=s2>&#34;Lörem ipsüm, DOLOR SIT Ämet.&#34;</span><span class=p>,</span> <span class=s2>&#34;text_de&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;lor&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;ipsum&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;dolor&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;sit&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;amet&#34;</span> 
</span></span><span class=line><span class=cl>  <span class=p>]</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><p>To search a View for documents where the <code>text</code> attribute contains certain
words/tokens in any order, you can use the function like this:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>FOR</span> <span class=n>doc</span> <span class=kr>IN</span> <span class=n>viewName</span>
</span></span><span class=line><span class=cl>  <span class=kp>SEARCH</span> <span class=nf>ANALYZER</span><span class=p>(</span><span class=n>doc</span><span class=p>.</span><span class=n>text</span> <span class=kr>IN</span> <span class=nf>TOKENS</span><span class=p>(</span><span class=s2>&#34;dolor amet lorem&#34;</span><span class=p>,</span> <span class=s2>&#34;text_en&#34;</span><span class=p>),</span> <span class=s2>&#34;text_en&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=kr>RETURN</span> <span class=n>doc</span></span></span></code></pre></div><p>It will match <code>{ "text": "Lorem ipsum, dolor sit amet." }</code> for instance. If you
want to search for tokens in a particular order, use
<a href=/3.10/aql/functions/arangosearch/#phrase class=link>PHRASE()</a> instead.</p><p>If an array of strings is passed as first argument, then each string is
tokenized individually and an array with the same nesting as the input array
is returned:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>TOKENS</span><span class=p>(</span><span class=s2>&#34;quick brown fox&#34;</span><span class=p>,</span> <span class=s2>&#34;text_en&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;quick&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;brown&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;fox&#34;</span> 
</span></span><span class=line><span class=cl>  <span class=p>]</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>TOKENS</span><span class=p>([</span><span class=s2>&#34;quick brown&#34;</span><span class=p>,</span> <span class=s2>&#34;fox&#34;</span><span class=p>],</span> <span class=s2>&#34;text_en&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span> 
</span></span><span class=line><span class=cl>    <span class=p>[</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;quick&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;brown&#34;</span> 
</span></span><span class=line><span class=cl>    <span class=p>],</span> 
</span></span><span class=line><span class=cl>    <span class=p>[</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;fox&#34;</span> 
</span></span><span class=line><span class=cl>    <span class=p>]</span> 
</span></span><span class=line><span class=cl>  <span class=p>]</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>TOKENS</span><span class=p>([</span><span class=s2>&#34;quick brown&#34;</span><span class=p>,</span> <span class=p>[</span><span class=s2>&#34;fox&#34;</span><span class=p>]],</span> <span class=s2>&#34;text_en&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span> 
</span></span><span class=line><span class=cl>    <span class=p>[</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;quick&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;brown&#34;</span> 
</span></span><span class=line><span class=cl>    <span class=p>],</span> 
</span></span><span class=line><span class=cl>    <span class=p>[</span> 
</span></span><span class=line><span class=cl>      <span class=p>[</span> 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;fox&#34;</span> 
</span></span><span class=line><span class=cl>      <span class=p>]</span> 
</span></span><span class=line><span class=cl>    <span class=p>]</span> 
</span></span><span class=line><span class=cl>  <span class=p>]</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><p>In most cases you will want to flatten the resulting array for further usage,
because nested arrays are not accepted in <code>SEARCH</code> statements such as
<code>&lt;array> ALL IN doc.&lt;attribute></code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kd>LET</span> <span class=n>tokens</span> <span class=o>=</span> <span class=nf>TOKENS</span><span class=p>([</span><span class=s2>&#34;quick brown&#34;</span><span class=p>,</span> <span class=p>[</span><span class=s2>&#34;fox&#34;</span><span class=p>]],</span> <span class=s2>&#34;text_en&#34;</span><span class=p>)</span> <span class=c1>// [ [&#34;quick&#34;, &#34;brown&#34;], [[&#34;fox&#34;]] ]
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>LET</span> <span class=n>tokens_flat</span> <span class=o>=</span> <span class=nf>FLATTEN</span><span class=p>(</span><span class=n>tokens</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>                     <span class=c1>// [ &#34;quick&#34;, &#34;brown&#34;, &#34;fox&#34; ]
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>FOR</span> <span class=n>doc</span> <span class=kr>IN</span> <span class=n>myView</span> <span class=kp>SEARCH</span> <span class=nf>ANALYZER</span><span class=p>(</span><span class=n>tokens_flat</span> <span class=kr>ALL</span> <span class=kr>IN</span> <span class=n>doc</span><span class=p>.</span><span class=n>title</span><span class=p>,</span> <span class=s2>&#34;text_en&#34;</span><span class=p>)</span> <span class=kr>RETURN</span> <span class=n>doc</span></span></span></code></pre></div><h2 id=to_base64>TO_BASE64() <a href=/3.10/aql/functions/string/#to_base64 class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>TO_BASE64(value) → encodedString</code></p><p>Return the Base64 representation of <code>value</code>.</p><ul><li><strong>value</strong> (string): a string</li><li>returns <strong>encodedString</strong> (string): a Base64 representation of <code>value</code></li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=nf>TO_BASE64</span><span class=p>(</span><span class=s2>&#34;ABC.&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>  <span class=nf>TO_BASE64</span><span class=p>(</span><span class=s2>&#34;123456&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;QUJDLg==&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;MTIzNDU2&#34;</span> 
</span></span><span class=line><span class=cl>  <span class=p>]</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=to_hex>TO_HEX() <a href=/3.10/aql/functions/string/#to_hex class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>TO_HEX(value) → hexString</code></p><p>Return the hexadecimal representation of <code>value</code>.</p><ul><li><strong>value</strong> (string): a string</li><li>returns <strong>hexString</strong> (string): a hexadecimal representation of <code>value</code></li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=nf>TO_HEX</span><span class=p>(</span><span class=s2>&#34;ABC.&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>  <span class=nf>TO_HEX</span><span class=p>(</span><span class=s2>&#34;ü&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;4142432e&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;c3bc&#34;</span> 
</span></span><span class=line><span class=cl>  <span class=p>]</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=trim>TRIM() <a href=/3.10/aql/functions/string/#trim class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>TRIM(value, type) → strippedString</code></p><p>Return the string <code>value</code> with whitespace stripped from the start and/or end.</p><p>The optional <code>type</code> parameter specifies from which parts of the string the
whitespace is stripped. <a href=#ltrim class=link>LTRIM()</a>
and <a href=#rtrim class=link>RTRIM()</a> are preferred
however.</p><ul><li><strong>value</strong> (string): a string</li><li><strong>type</strong> (number, <em>optional</em>): strip whitespace from the<ul><li><code>0</code> – start and end of the string (default)</li><li><code>1</code> – start of the string only</li><li><code>2</code> – end of the string only</li></ul></li></ul><hr><p><code>TRIM(value, chars) → strippedString</code></p><p>Return the string <code>value</code> with whitespace stripped from the start and end.</p><ul><li><strong>value</strong> (string): a string</li><li><strong>chars</strong> (string, <em>optional</em>): override the characters that should
be removed from the string. It defaults to <code>\r\n \t</code> (i.e. <code>0x0d</code>, <code>0x0a</code>,
<code>0x20</code> and <code>0x09</code>).</li><li>returns <strong>strippedString</strong> (string): <code>value</code> without <code>chars</code> on both sides</li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>TRIM</span><span class=p>(</span><span class=s2>&#34;foo bar&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;foo bar&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>TRIM</span><span class=p>(</span><span class=s2>&#34;  foo bar  &#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;foo bar&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>TRIM</span><span class=p>(</span><span class=s2>&#34;--==[foo-bar]==--&#34;</span><span class=p>,</span> <span class=s2>&#34;-=[]&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;foo-bar&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>TRIM</span><span class=p>(</span><span class=s2>&#34;  foobar\\t \\r\\n &#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;foobar&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>TRIM</span><span class=p>(</span><span class=s2>&#34;;foo;bar;baz, &#34;</span><span class=p>,</span> <span class=s2>&#34;,; &#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;foo;bar;baz&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=upper>UPPER() <a href=/3.10/aql/functions/string/#upper class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>UPPER(value) → upperCaseString</code></p><p>Convert lower-case letters in <code>value</code> to their upper-case counterparts.
All other characters are returned unchanged.</p><ul><li><strong>value</strong> (string): a string</li><li>returns <strong>upperCaseString</strong> (string): <code>value</code> with lower-case characters converted
to upper-case characters</li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>UPPER</span><span class=p>(</span><span class=s2>&#34;AVOcado&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;AVOCADO&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=uuid>UUID() <a href=/3.10/aql/functions/string/#uuid class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>UUID() → UUIDString</code></p><p>Return a universally unique identifier value.</p><ul><li>returns <strong>UUIDString</strong> (string): a universally unique identifier</li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>FOR</span> <span class=n>i</span> <span class=kr>IN</span> <span class=mf>1</span><span class=o>..</span><span class=mi>3</span>
</span></span><span class=line><span class=cl>  <span class=kr>RETURN</span> <span class=nf>UUID</span><span class=p>()</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;60b268fc-65a8-4e2a-972d-2e3ac5a1a4da&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;d5da0ed0-a0bd-4498-b620-c65284e8bde4&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;d5917d64-b94d-4ec5-8604-b3fff2ea34a0&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=regular-expression-syntax>Regular Expression Syntax <a href=/3.10/aql/functions/string/#regular-expression-syntax class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>A regular expression may consist of literal characters and the following
characters and sequences:</p><ul><li><code>.</code> – the dot matches any single character except line terminators.
To include line terminators, use <code>[\s\S]</code> instead to simulate <code>.</code> with <em>DOTALL</em> flag.</li><li><code>\d</code> – matches a single digit, equivalent to <code>[0-9]</code></li><li><code>\s</code> – matches a single whitespace character</li><li><code>\S</code> – matches a single non-whitespace character</li><li><code>\b</code> – matches a word boundary. This match is zero-length</li><li><code>\B</code> – Negation of <code>\b</code>. The match is zero-length</li><li><code>[xyz]</code> – set of characters. Matches any of the enclosed characters
(here: <em>x</em>, <em>y</em>, or <em>z</em>)</li><li><code>[^xyz]</code> – negated set of characters. Matches any other character than the
enclosed ones (i.e. anything but <em>x</em>, <em>y</em>, or <em>z</em> in this case)</li><li><code>[x-z]</code> – range of characters. Matches any of the characters in the
specified range, e.g. <code>[0-9A-F]</code> to match any character in
<em>0123456789ABCDEF</em></li><li><code>[^x-z]</code> – negated range of characters. Matches any other character than the
ones specified in the range</li><li><code>(xyz)</code> – defines and matches a pattern group. Also defines a capturing group.</li><li><code>(?:xyz)</code> – defines and matches a pattern group without capturing the match</li><li><code>(xy|z)</code> – matches either <em>xy</em> or <em>z</em></li><li><code>^</code> – matches the beginning of the string (e.g. <code>^xyz</code>)</li><li><code>$</code> – matches the end of the string (e.g. <code>xyz$</code>)</li></ul><p>To literally match one of the characters that have a special meaning in regular
expressions (<code>.</code>, <code>*</code>, <code>?</code>, <code>[</code>, <code>]</code>, <code>(</code>, <code>)</code>, <code>{</code>, <code>}</code>, <code>^</code>, <code>$</code>, and <code>\</code>)
you may need to escape the character with a backslash, which typically requires
escaping itself. The backslash of shorthand character classes like <code>\d</code>, <code>\s</code>,
and <code>\b</code> counts as literal backslash. The backslash of JSON escape sequences
like <code>\t</code> (tabulation), <code>\r</code> (carriage return), and <code>\n</code> (line feed) does not,
however.</p><div class="box notices cstyle info"><div class=box-content-container><div class=box-content><i class="fas fa-info-circle"></i><div class=box-text><p>Literal backlashes require different amounts of escaping depending on the
context:</p><ul><li><code>\</code> in bind variables (<em>Table</em> view mode) in the web interface (automatically
escaped to <code>\\</code> unless the value is wrapped in double quotes and already
escaped properly)</li><li><code>\\</code> in bind variables (<em>JSON</em> view mode) and queries in the web interface</li><li><code>\\</code> in bind variables in arangosh</li><li><code>\\\\</code> in queries in arangosh</li><li>Double the amount compared to arangosh in shells that use backslashes for
escaping (<code>\\\\</code> in bind variables and <code>\\\\\\\\</code> in queries)</li></ul></div></div></div></div><p>Characters and sequences may optionally be repeated using the following
quantifiers:</p><ul><li><code>x?</code> – matches one or zero occurrences of <em>x</em></li><li><code>x*</code> – matches zero or more occurrences of <em>x</em> (greedy)</li><li><code>x+</code> – matches one or more occurrences of <em>x</em> (greedy)</li><li><code>x*?</code> – matches zero or more occurrences of <em>x</em> (non-greedy)</li><li><code>x+?</code> – matches one or more occurrences of <em>x</em> (non-greedy)</li><li><code>x{y}</code> – matches exactly <em>y</em> occurrences of <em>x</em></li><li><code>x{y,z}</code> – matches between <em>y</em> and <em>z</em> occurrences of <em>x</em></li><li><code>x{y,}</code> – matches at least <em>y</em> occurrences of <em>x</em></li></ul><p>Note that <code>xyz+</code> matches <em>xyzzz</em>, but if you want to match <em>xyzxyz</em> instead,
you need to define a pattern group by wrapping the sub-expression in parentheses
and place the quantifier right behind it, like <code>(xyz)+</code>.</p><nav class=pagination><span class=prev><a class="nav nav-prev link" href=/3.10/aql/functions/numeric/><i class="fas fa-chevron-left fa-fw"></i><p>Numeric</p></a></span><span class=next><a class="nav nav-next link" href=/3.10/aql/functions/type-check-and-cast/><p>Type check & cast</p><i class="fas fa-chevron-right fa-fw"></i></a></span></nav></article><div class=toc-container><a class=edit-page aria-label href=https://github.com/arangodb/docs-hugo/edit/main/site/content/3.10/aql/functions/string.md target=_blank><i class="fab fa-fw fa-github edit-page-icon"></i></a><div class=toc><div class=toc-content><div class=toc-header><p>On this page</p></div><nav id=TableOfContents><div class=level-2><a href=#char_length>CHAR_LENGTH()</a></div><div class=level-2><a href=#concat>CONCAT()</a></div><div class=level-2><a href=#concat_separator>CONCAT_SEPARATOR()</a></div><div class=level-2><a href=#contains>CONTAINS()</a></div><div class=level-2><a href=#count>COUNT()</a></div><div class=level-2><a href=#crc32>CRC32()</a></div><div class=level-2><a href=#encode_uri_component>ENCODE_URI_COMPONENT()</a></div><div class=level-2><a href=#find_first>FIND_FIRST()</a></div><div class=level-2><a href=#find_last>FIND_LAST()</a></div><div class=level-2><a href=#fnv64>FNV64()</a></div><div class=level-2><a href=#ipv4_from_number>IPV4_FROM_NUMBER()</a></div><div class=level-2><a href=#ipv4_to_number>IPV4_TO_NUMBER()</a></div><div class=level-2><a href=#is_ipv4>IS_IPV4()</a></div><div class=level-2><a href=#json_parse>JSON_PARSE()</a></div><div class=level-2><a href=#json_stringify>JSON_STRINGIFY()</a></div><div class=level-2><a href=#left>LEFT()</a></div><div class=level-2><a href=#length>LENGTH()</a></div><div class=level-2><a href=#levenshtein_distance>LEVENSHTEIN_DISTANCE()</a></div><div class=level-2><a href=#like>LIKE()</a></div><div class=level-2><a href=#lower>LOWER()</a></div><div class=level-2><a href=#ltrim>LTRIM()</a></div><div class=level-2><a href=#md5>MD5()</a></div><div class=level-2><a href=#ngram_positional_similarity>NGRAM_POSITIONAL_SIMILARITY()</a></div><div class=level-2><a href=#ngram_similarity>NGRAM_SIMILARITY()</a></div><div class=level-2><a href=#random_token>RANDOM_TOKEN()</a></div><div class=level-2><a href=#regex_matches>REGEX_MATCHES()</a></div><div class=level-2><a href=#regex_split>REGEX_SPLIT()</a></div><div class=level-2><a href=#regex_test>REGEX_TEST()</a></div><div class=level-2><a href=#regex_replace>REGEX_REPLACE()</a></div><div class=level-2><a href=#reverse>REVERSE()</a></div><div class=level-2><a href=#right>RIGHT()</a></div><div class=level-2><a href=#rtrim>RTRIM()</a></div><div class=level-2><a href=#sha1>SHA1()</a></div><div class=level-2><a href=#sha512>SHA512()</a></div><div class=level-2><a href=#soundex>SOUNDEX()</a></div><div class=level-2><a href=#split>SPLIT()</a></div><div class=level-2><a href=#starts_with>STARTS_WITH()</a></div><div class=level-2><a href=#substitute>SUBSTITUTE()</a></div><div class=level-2><a href=#substring>SUBSTRING()</a></div><div class=level-2><a href=#substring_bytes>SUBSTRING_BYTES()</a></div><div class=level-2><a href=#tokens>TOKENS()</a></div><div class=level-2><a href=#to_base64>TO_BASE64()</a></div><div class=level-2><a href=#to_hex>TO_HEX()</a></div><div class=level-2><a href=#trim>TRIM()</a></div><div class=level-2><a href=#upper>UPPER()</a></div><div class=level-2><a href=#uuid>UUID()</a></div><div class=level-2><a href=#regular-expression-syntax>Regular Expression Syntax</a></div></nav></div></div></div></div></div></section></section></div><button class="back-to-top hidden" onclick=goToTop(event) href=#><i class="fa fa-arrow-up"></i></button><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3>
<script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3></script>
<script type=text/javascript>window.setupDocSearch=function(e){if(!window.docsearch)return;docsearch({appId:"OK3ZBQ5982",apiKey:"500c85ccecb335d507fe4449aed12e1d",indexName:"arangodbdocs",insights:!0,container:"#searchbox",debug:!1,maxResultsPerGroup:10,searchParameters:{facetFilters:[`version:${e}`]}})}</script></body></html>