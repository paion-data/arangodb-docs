<!doctype html><html lang=en><head><link href=//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css rel=stylesheet><link href=//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css rel=stylesheet><link href=/css/fontawesome-all.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fontawesome-all.min.css rel=stylesheet></noscript><link href=/css/featherlight.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/featherlight.min.css rel=stylesheet></noscript><link href=/css/nucleus.css rel=stylesheet><link href=/css/fonts.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fonts.css rel=stylesheet></noscript><link href=/css/theme.css rel=stylesheet><link href=/css/theme-relearn-light.css rel=stylesheet id=variant-style><link href=/css/print.css rel=stylesheet media=print><script src=/js/variant.js?1743775370></script>
<script>var root_url="/",baseUriFull,baseUri=root_url.replace(/\/$/,"");window.T_Copy_to_clipboard="",window.T_Copied_to_clipboard="",window.T_Copy_link_to_clipboard="",window.T_Link_copied_to_clipboard="",baseUriFull="http://localhost/",window.variants&&variants.init(["relearn-light"])</script><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.119.0"><meta itemprop=description property="description" content="The SORT operation allows you to specify one or multiple sort criteria and directions to control the order of query results or the elements of arrays"><meta property="og:url" content="http://localhost/3.10/aql/high-level-operations/sort/"><meta property="og:title" content="SORT operation in AQL"><meta property="og:type" content="website"><meta property="og:description" content="The SORT operation allows you to specify one or multiple sort criteria and directions to control the order of query results or the elements of arrays"><meta name=docsearch:version content="3.10"><title>SORT operation in AQL | ArangoDB Documentation</title><link href=/images/favicon.png rel=icon type=image/png><script src=/js/jquery.min.js></script>
<script src=/js/clipboard.min.js?1743775370 defer></script>
<script src=/js/featherlight.min.js?1743775370 defer></script>
<script>var versions=[{alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"},{alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"},{alias:"3.11",deprecated:!1,name:"3.11",version:"3.11.13"},{alias:"3.10",deprecated:!0,name:"3.10",version:"3.10.14"}]</script><script>var develVersion={alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"}</script><script>var stableVersion={alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"}</script><script src=/js/codeblocks.js?1743775370 defer></script>
<script src=/js/theme.js?1743775370 defer></script></head><body><noscript>You need to enable JavaScript to use the ArangoDB documentation.</noscript><div id=page-wrapper class=page_content_splash style=height:auto;opacity:0><section id=page-main><section class=page-container id=page-container><header id=header style="transition:.5s padding ease-out,.15s" class="zn_header_white header-splash-new nav-down header-splash-wrap header1"><div class=header-block-left><div class=mobile-menu-toggle><button id=sidebar-toggle-navigation onclick=showSidebarHandler()><svg width="1.33em" height="1.33em" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button></div><div class=version-logo-container><div class="logo-container hasinfocard_img arangodb-logo-large"><div class=logo><a href=https://www.arangodb.com/><img src=/images/logo_main.png alt=ArangoDB title></a></div></div><div class=arangodb-logo-small><a href=https://arangodb.com/><img alt="ArangoDB Logo" src=/images/ArangoDB_Logo_White_small.png></a></div></div></div><div class=container-right style=display:hidden></div><div class=search-and-version-container><a href=# class="home-link is-current" aria-label="Go to home page" onclick=goToHomepage(event)></a><div id=searchbox></div><script type=text/javascript>const SCRIPT_SRC="https://unpkg.com/@inkeep/widgets-embed@0.2.290/dist/embed.js";function loadAndInitializeInkeep(){if(document.querySelector(`script[src="${SCRIPT_SRC}]"`))return;const e=document.createElement("script");e.type="module",e.src=SCRIPT_SRC,e.onload=initializeInkeep,document.head.appendChild(e)}function initializeInkeep(){const e=Inkeep({integrationId:"clo4lx6jk0000s601cp21x2ok",apiKey:"13b4e56966a76e86c6ff359cd795ee6a0412f751d75d6383",organizationId:"org_HGBkkzGAa4KeGJGh",organizationDisplayName:"ArangoDB",primaryBrandColor:"#80a54d",stringReplacementRules:[{matchingRule:{ruleType:"Substring",string:"Arangograph"},replaceWith:"ArangoGraph"},{matchingRule:{ruleType:"Substring",string:"Aql"},replaceWith:"AQL"},{matchingRule:{ruleType:"Substring",string:"Arangodb"},replaceWith:"ArangoDB"}],customCardSettings:[{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arango.qubitpi.org"}},searchTabLabel:"Official Docs"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"developer.arangodb.com"}},searchTabLabel:"Developer Hub"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arangodb.com"}},searchTabLabel:"Home"}]}),t=e.embed({componentType:"ChatButton",properties:{stylesheetUrls:["/css/fonts.css"],fixedPositionXOffset:"52px",baseSettings:{theme:{primaryColors:{textColorOnPrimary:"white"},tokens:{fonts:{body:"'Inter'",heading:"'Inter'"},zIndex:{overlay:1e4,modal:11e3,popover:12e3,skipLink:13e3,toast:14e3,tooltip:15e3}}}},aiChatSettings:{botAvatarSrcUrl:"/images/ArangoDB_Logo_White_small.png",quickQuestions:["What can you do with AQL that is not feasible with SQL?","How do I search for objects within arrays?","Where can I deploy my ArangoDB instance?"],getHelpCallToActions:[{icon:{builtIn:"FaSlack"},name:"Slack",url:"https://arangodb-community.slack.com/"}]},searchSettings:{tabSettings:{isAllTabEnabled:!1,alwaysDisplayedTabs:["Official Docs","Developer Hub","Home"]}}}})}loadAndInitializeInkeep()</script><div class=version-selector><select id=arangodb-version onchange=changeVersion()><option value=3.13>3.13</option><option value=3.12>3.12</option><option value=3.11>3.11</option><option value=3.10>3.10</option><option value=3.9>3.9</option><option value=3.8>3.8</option></select></div></div></header><iframe src=/nav.html title=description id=menu-iframe class="menu-iframe active" style=opacity:0></iframe><div class=container-main><div class=row-main><nav id=breadcrumbs><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><meta itemprop=itemListOrder content="Descending"><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="3.10"><a itemprop=item class=link href=/3.10/><span itemprop=name class=breadcrumb-entry>3.10.14</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="AQL"><a itemprop=item class=link href=/3.10/aql/><span itemprop=name class=breadcrumb-entry>AQL</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="High-level Operations"><a itemprop=item class=link href=/3.10/aql/high-level-operations/><span itemprop=name class=breadcrumb-entry>High-level Operations</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="SORT"><a itemprop=item class=link href=/3.10/aql/high-level-operations/sort/><span itemprop=name class=breadcrumb-entry>SORT</span></a></li></ol></nav><article class=default><div class="box notices cstyle warning"><div class=box-content-container><div class=box-content><i class="fas fa-exclamation-triangle"></i><div class=box-text><p>ArangoDB v3.10 reached End of Life (EOL) and is no longer supported.</p><p>This documentation is outdated. Please see the most recent <a href=/3.12/aql/high-level-operations/sort/ class=link>stable version</a>.</p></div></div></div></div><hgroup><h1><code>SORT</code> operation in AQL</h1><p class=lead>The <code>SORT</code> operation allows you to specify one or multiple sort criteria and directions to control the order of query results or the elements of arrays</p></hgroup><h2 id=syntax>Syntax <a href=/3.10/aql/high-level-operations/sort/#syntax class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>The general syntax is:</p><pre><code>SORT <em>expression</em> <em>direction</em></code></pre><h2 id=usage>Usage <a href=/3.10/aql/high-level-operations/sort/#usage class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>The <code>SORT</code> operation sorts the already produced intermediate results of the
current block. For example, the following query sorts by <code>lastName</code>
(in ascending order), then <code>firstName</code> (in ascending order), then by <code>id</code>
(in descending order):</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>FOR</span> <span class=n>u</span> <span class=kr>IN</span> <span class=n>users</span>
</span></span><span class=line><span class=cl>  <span class=kr>SORT</span> <span class=n>u</span><span class=p>.</span><span class=n>lastName</span><span class=p>,</span> <span class=n>u</span><span class=p>.</span><span class=n>firstName</span><span class=p>,</span> <span class=n>u</span><span class=p>.</span><span class=n>id</span> <span class=kr>DESC</span>
</span></span><span class=line><span class=cl>  <span class=kr>RETURN</span> <span class=n>u</span></span></span></code></pre></div><p>Specifying the <em>direction</em> is optional. The default (implicit) direction for a
sort expression is the ascending order. To explicitly specify the sort direction,
the keywords <code>ASC</code> (ascending) and <code>DESC</code> (descending) can be used. Multiple sort
criteria can be separated using commas. In this case, the direction is specified
for each expression separately.</p><p>The following example first sorts documents by <code>lastName</code> in ascending order and
then by <code>firstName</code> in ascending order.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>SORT</span> <span class=n>doc</span><span class=p>.</span><span class=n>lastName</span><span class=p>,</span> <span class=n>doc</span><span class=p>.</span><span class=n>firstName</span></span></span></code></pre></div><p>The following example first sorts documents by <code>lastName</code> in descending order
and then by <code>firstName</code> in ascending order.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>SORT</span> <span class=n>doc</span><span class=p>.</span><span class=n>lastName</span> <span class=kr>DESC</span><span class=p>,</span> <span class=n>doc</span><span class=p>.</span><span class=n>firstName</span></span></span></code></pre></div><p>The following example first sorts documents by <code>lastName</code> in ascending order
and then by <code>firstName</code> in descending order.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>SORT</span> <span class=n>doc</span><span class=p>.</span><span class=n>lastName</span><span class=p>,</span> <span class=n>doc</span><span class=p>.</span><span class=n>firstName</span> <span class=kr>DESC</span></span></span></code></pre></div><div class="box notices cstyle warning"><div class=box-content-container><div class=box-content><i class="fas fa-exclamation-triangle"></i><div class=box-text><p>When iterating over a collection, the order of documents is always
<strong>undefined unless an explicit sort order is defined</strong> with a <code>SORT</code> operation.</p><p>If the values you sort by are not unique, the order among tied documents is
undefined and you may want to sort by another attribute to break ties.
If the application has a preferred attribute that indicates the order of
documents with the same value, then use this attribute. If there is no such
attribute, you can still achieve a stable sort by using the <code>_id</code> system attribute
as it is unique and present in every document.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>FOR</span> <span class=n>u</span> <span class=kr>IN</span> <span class=n>users</span>
</span></span><span class=line><span class=cl>  <span class=kr>SORT</span> <span class=n>u</span><span class=p>.</span><span class=n>firstName</span><span class=p>,</span> <span class=n>u</span><span class=p>.</span><span class=n>_id</span> <span class=c1>// break name ties with the document ID
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>RETURN</span> <span class=n>u</span></span></span></code></pre></div></div></div></div></div><p>Constant <code>SORT</code> expressions can be used to indicate that no particular
sort order is desired.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>SORT</span> <span class=kc>null</span></span></span></code></pre></div><p>Constant <code>SORT</code> expressions are optimized away by the AQL
optimizer during optimization, but specifying them explicitly may enable further
optimizations if the optimizer does not need to take into account any particular
sort order. This is especially the case after a <code>COLLECT</code> statement, which is
supposed to produce a sorted result. Specifying an extra <code>SORT null</code> after the
<code>COLLECT</code> statement allows to AQL optimizer to remove the post-sorting of the
collect results altogether. Also see <a href=/3.10/aql/high-level-operations/collect/#method class=link><code>COLLECT</code> option <code>method</code></a>.</p><p>In case of a sequence of <code>SORT</code> operations, the last one is always the one
that is performed unless a previous <code>SORT</code> expression is more accurate.
If the optimization rules <code>remove-redundant-sorts</code> and <code>remove-redundant-sorts-2</code>
are deactivated in the query&rsquo;s execution, then the last <code>SORT</code> is always the one
that wins, despite the accuracy. For example, consider the following query with
multiple consecutive <code>SORT</code> operations:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>FOR</span> <span class=n>friend</span> <span class=kr>IN</span> <span class=n>friends</span>
</span></span><span class=line><span class=cl>  <span class=kr>SORT</span> <span class=n>friend</span><span class=p>.</span><span class=n>friend</span><span class=p>.</span><span class=n>name</span><span class=p>,</span> <span class=n>friend</span><span class=p>.</span><span class=n>id</span><span class=p>,</span> <span class=n>friend</span><span class=p>.</span><span class=n>age</span> 
</span></span><span class=line><span class=cl>  <span class=kr>SORT</span> <span class=n>friend</span><span class=p>.</span><span class=n>age</span><span class=p>,</span> <span class=n>friend</span><span class=p>.</span><span class=n>id</span>
</span></span><span class=line><span class=cl>  <span class=kr>SORT</span> <span class=n>friend</span><span class=p>.</span><span class=n>age</span>
</span></span><span class=line><span class=cl>  <span class=kr>RETURN</span> <span class=n>friend</span></span></span></code></pre></div><p>If the optimization rules mentioned above are deactivated, then the last <code>SORT</code>
becomes operative and the collection is sorted by <code>friend.age</code>. If the
optimization rules are active, then the second <code>SORT</code> becomes operative because
it covers the same <code>friend.age</code> attribute and additionally sorts by another
attribute in case of ties, making it more accurate. However, if the attributes
in the second <code>SORT</code> expression are in opposite order, as in
<code>SORT friend.id, friend.age</code>, then the last <code>SORT</code> is operative.</p><nav class=pagination><span class=prev><a class="nav nav-prev link" href=/3.10/aql/high-level-operations/search/><i class="fas fa-chevron-left fa-fw"></i><p>SEARCH</p></a></span><span class=next><a class="nav nav-next link" href=/3.10/aql/high-level-operations/limit/><p>LIMIT</p><i class="fas fa-chevron-right fa-fw"></i></a></span></nav></article><div class=toc-container><a class=edit-page aria-label href=https://github.com/arangodb/docs-hugo/edit/main/site/content/3.10/aql/high-level-operations/sort.md target=_blank><i class="fab fa-fw fa-github edit-page-icon"></i></a><div class=toc><div class=toc-content><div class=toc-header><p>On this page</p></div><nav id=TableOfContents><div class=level-2><a href=#syntax>Syntax</a></div><div class=level-2><a href=#usage>Usage</a></div></nav></div></div></div></div></div></section></section></div><button class="back-to-top hidden" onclick=goToTop(event) href=#><i class="fa fa-arrow-up"></i></button><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3>
<script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3></script>
<script type=text/javascript>window.setupDocSearch=function(e){if(!window.docsearch)return;docsearch({appId:"OK3ZBQ5982",apiKey:"500c85ccecb335d507fe4449aed12e1d",indexName:"arangodbdocs",insights:!0,container:"#searchbox",debug:!1,maxResultsPerGroup:10,searchParameters:{facetFilters:[`version:${e}`]}})}</script></body></html>