<!doctype html><html lang=en><head><link href=//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css rel=stylesheet><link href=//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css rel=stylesheet><link href=/css/fontawesome-all.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fontawesome-all.min.css rel=stylesheet></noscript><link href=/css/featherlight.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/featherlight.min.css rel=stylesheet></noscript><link href=/css/nucleus.css rel=stylesheet><link href=/css/fonts.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fonts.css rel=stylesheet></noscript><link href=/css/theme.css rel=stylesheet><link href=/css/theme-relearn-light.css rel=stylesheet id=variant-style><link href=/css/print.css rel=stylesheet media=print><script src=/js/variant.js?1747031427></script>
<script>var root_url="/",baseUriFull,baseUri=root_url.replace(/\/$/,"");window.T_Copy_to_clipboard="",window.T_Copied_to_clipboard="",window.T_Copy_link_to_clipboard="",window.T_Link_copied_to_clipboard="",baseUriFull="http://localhost/",window.variants&&variants.init(["relearn-light"])</script><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.119.0"><meta itemprop=description property="description" content="Match values that are above, below or between a minimum and a maximum value"><meta property="og:url" content="http://localhost/3.11/index-and-search/arangosearch/range-queries/"><meta property="og:title" content="Range Queries with ArangoSearch"><meta property="og:type" content="website"><meta property="og:description" content="Match values that are above, below or between a minimum and a maximum value"><meta name=docsearch:version content="3.11"><title>Range Queries with ArangoSearch | ArangoDB Documentation</title><link href=/images/favicon.png rel=icon type=image/png><script src=/js/jquery.min.js></script>
<script src=/js/clipboard.min.js?1747031427 defer></script>
<script src=/js/featherlight.min.js?1747031427 defer></script>
<script>var versions=[{alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"},{alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"},{alias:"3.11",deprecated:!1,name:"3.11",version:"3.11.13"},{alias:"3.10",deprecated:!0,name:"3.10",version:"3.10.14"}]</script><script>var develVersion={alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"}</script><script>var stableVersion={alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"}</script><script src=/js/codeblocks.js?1747031427 defer></script>
<script src=/js/theme.js?1747031427 defer></script></head><body><noscript>You need to enable JavaScript to use the ArangoDB documentation.</noscript><div id=page-wrapper class=page_content_splash style=height:auto;opacity:0><section id=page-main><section class=page-container id=page-container><header id=header style="transition:.5s padding ease-out,.15s" class="zn_header_white header-splash-new nav-down header-splash-wrap header1"><div class=header-block-left><div class=mobile-menu-toggle><button id=sidebar-toggle-navigation onclick=showSidebarHandler()><svg width="1.33em" height="1.33em" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button></div><div class=version-logo-container><div class="logo-container hasinfocard_img arangodb-logo-large"><div class=logo><a href=https://www.arangodb.com/><img src=/images/logo_main.png alt=ArangoDB title></a></div></div><div class=arangodb-logo-small><a href=https://arangodb.com/><img alt="ArangoDB Logo" src=/images/ArangoDB_Logo_White_small.png></a></div></div></div><div class=container-right style=display:hidden></div><div class=search-and-version-container><a href=# class="home-link is-current" aria-label="Go to home page" onclick=goToHomepage(event)></a><div id=searchbox></div><script type=text/javascript>const SCRIPT_SRC="https://unpkg.com/@inkeep/widgets-embed@0.2.290/dist/embed.js";function loadAndInitializeInkeep(){if(document.querySelector(`script[src="${SCRIPT_SRC}]"`))return;const e=document.createElement("script");e.type="module",e.src=SCRIPT_SRC,e.onload=initializeInkeep,document.head.appendChild(e)}function initializeInkeep(){const e=Inkeep({integrationId:"clo4lx6jk0000s601cp21x2ok",apiKey:"13b4e56966a76e86c6ff359cd795ee6a0412f751d75d6383",organizationId:"org_HGBkkzGAa4KeGJGh",organizationDisplayName:"ArangoDB",primaryBrandColor:"#80a54d",stringReplacementRules:[{matchingRule:{ruleType:"Substring",string:"Arangograph"},replaceWith:"ArangoGraph"},{matchingRule:{ruleType:"Substring",string:"Aql"},replaceWith:"AQL"},{matchingRule:{ruleType:"Substring",string:"Arangodb"},replaceWith:"ArangoDB"}],customCardSettings:[{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arango.qubitpi.org"}},searchTabLabel:"Official Docs"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"developer.arangodb.com"}},searchTabLabel:"Developer Hub"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arangodb.com"}},searchTabLabel:"Home"}]}),t=e.embed({componentType:"ChatButton",properties:{stylesheetUrls:["/css/fonts.css"],fixedPositionXOffset:"52px",baseSettings:{theme:{primaryColors:{textColorOnPrimary:"white"},tokens:{fonts:{body:"'Inter'",heading:"'Inter'"},zIndex:{overlay:1e4,modal:11e3,popover:12e3,skipLink:13e3,toast:14e3,tooltip:15e3}}}},aiChatSettings:{botAvatarSrcUrl:"/images/ArangoDB_Logo_White_small.png",quickQuestions:["What can you do with AQL that is not feasible with SQL?","How do I search for objects within arrays?","Where can I deploy my ArangoDB instance?"],getHelpCallToActions:[{icon:{builtIn:"FaSlack"},name:"Slack",url:"https://arangodb-community.slack.com/"}]},searchSettings:{tabSettings:{isAllTabEnabled:!1,alwaysDisplayedTabs:["Official Docs","Developer Hub","Home"]}}}})}loadAndInitializeInkeep()</script><div class=version-selector><select id=arangodb-version onchange=changeVersion()><option value=3.13>3.13</option><option value=3.12>3.12</option><option value=3.11>3.11</option><option value=3.10>3.10</option><option value=3.9>3.9</option><option value=3.8>3.8</option></select></div></div></header><iframe src=/nav.html title=description id=menu-iframe class="menu-iframe active" style=opacity:0></iframe><div class=container-main><div class=row-main><nav id=breadcrumbs><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><meta itemprop=itemListOrder content="Descending"><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="3.11"><a itemprop=item class=link href=/3.11/><span itemprop=name class=breadcrumb-entry>3.11.13</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Index and Search"><a itemprop=item class=link href=/3.11/index-and-search/><span itemprop=name class=breadcrumb-entry>Index and Search</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="ArangoSearch"><a itemprop=item class=link href=/3.11/index-and-search/arangosearch/><span itemprop=name class=breadcrumb-entry>ArangoSearch</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Range Queries"><a itemprop=item class=link href=/3.11/index-and-search/arangosearch/range-queries/><span itemprop=name class=breadcrumb-entry>Range Queries</span></a></li></ol></nav><article class=default><hgroup><h1>Range Queries with ArangoSearch</h1><p class=lead>Match values that are above, below or between a minimum and a maximum value</p></hgroup><p>The primary use case for range queries is to search <strong>numeric</strong> values in
documents that are</p><ul><li>greater than (exclusive),</li><li>greater than or equal (inclusive),</li><li>less than (exclusive),</li><li>less than or equal (inclusive) to a reference number, or</li><li>between two numbers (inclusive or exclusive)</li></ul><p>Range queries are also possible for string values.</p><h2 id=comparing-to-a-number>Comparing to a Number <a href=/3.11/index-and-search/arangosearch/range-queries/#comparing-to-a-number class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>Numbers are not processed by Analyzers. They even bypass the <code>identity</code>
Analyzer. Therefore, you do not need to specify Analyzers in View definitions
and no Analyzer context in queries with the <code>ANALYZER()</code> function for numeric
fields.</p><h3 id=dataset>Dataset <a href=/3.11/index-and-search/arangosearch/range-queries/#dataset class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p><a href=/3.11/index-and-search/arangosearch/example-datasets/#imdb-movie-dataset class=link>IMDB movie dataset</a></p><h3 id=view-definition>View definition <a href=/3.11/index-and-search/arangosearch/range-queries/#view-definition class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><div class=tab-panel><div class=tab-content><div class=tab-nav><button data-tab-group=view-definition data-tab-item="`search-alias` View" class="tab-nav-button selected" onclick='switchTab("view-definition","`search-alias` View",event)'>
<span><code>search-alias</code> View</span></button>
<button data-tab-group=view-definition data-tab-item="`arangosearch` View" class=tab-nav-button onclick='switchTab("view-definition","`arangosearch` View",event)'>
<span><code>arangosearch</code> View</span></button></div><div data-tab-item="`search-alias` View" data-tab-group=view-definition class="tab-item
selected"><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>db</span><span class=p>.</span><span class=nx>imdb_vertices</span><span class=p>.</span><span class=nx>ensureIndex</span><span class=p>({</span> <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;inv-exact-runtime&#34;</span><span class=p>,</span> <span class=nx>type</span><span class=o>:</span> <span class=s2>&#34;inverted&#34;</span><span class=p>,</span> <span class=nx>fields</span><span class=o>:</span> <span class=p>[</span> <span class=s2>&#34;runtime&#34;</span> <span class=p>]</span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nx>db</span><span class=p>.</span><span class=nx>_createView</span><span class=p>(</span><span class=s2>&#34;imdb&#34;</span><span class=p>,</span> <span class=s2>&#34;search-alias&#34;</span><span class=p>,</span> <span class=p>{</span> <span class=nx>indexes</span><span class=o>:</span> <span class=p>[</span> <span class=p>{</span> <span class=nx>collection</span><span class=o>:</span> <span class=s2>&#34;imdb_vertices&#34;</span><span class=p>,</span> <span class=nx>index</span><span class=o>:</span> <span class=s2>&#34;inv-exact-runtime&#34;</span> <span class=p>}</span> <span class=p>]</span> <span class=p>});</span></span></span></code></pre></div></div><div data-tab-item="`arangosearch` View" data-tab-group=view-definition class=tab-item><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;links&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;imdb_vertices&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;fields&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;runtime&#34;</span><span class=p>:</span> <span class=p>{</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>You can add a field with an empty object <code>{}</code> as shown above, or explicitly set
no Analyzer using an empty array <code>[]</code> as shown below.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;links&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;imdb_vertices&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;fields&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;runtime&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;analyzers&#34;</span><span class=p>:</span> <span class=p>[</span> <span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div></div></div></div><h3 id=aql-queries>AQL queries <a href=/3.11/index-and-search/arangosearch/range-queries/#aql-queries class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>Match movies with a runtime of exactly <code>5</code> minutes:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>FOR</span> <span class=n>doc</span> <span class=kr>IN</span> <span class=n>imdb</span>
</span></span><span class=line><span class=cl>  <span class=kp>SEARCH</span> <span class=n>doc</span><span class=p>.</span><span class=n>runtime</span> <span class=o>==</span> <span class=mi>5</span>
</span></span><span class=line><span class=cl>  <span class=kr>RETURN</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>title</span><span class=o>:</span> <span class=n>doc</span><span class=p>.</span><span class=n>title</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>runtime</span><span class=o>:</span> <span class=n>doc</span><span class=p>.</span><span class=n>runtime</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span></span></span></code></pre></div><table><thead><tr><th style=text-align:left>title</th><th style=text-align:left>runtime</th></tr></thead><tbody><tr><td style=text-align:left>The Spirit of Christmas</td><td style=text-align:left>5</td></tr><tr><td style=text-align:left>Super Rhino</td><td style=text-align:left>5</td></tr><tr><td style=text-align:left>Gone Nutty</td><td style=text-align:left>5</td></tr><tr><td style=text-align:left>She and Her Cat</td><td style=text-align:left>5</td></tr><tr><td style=text-align:left>…</td><td style=text-align:left>…</td></tr></tbody></table><p>Note that no Analyzer context is set as numeric values are not processed by
Analyzers at all.</p><p>Match movies with a runtime of <code>12</code>, <code>24</code> or <code>77</code> minutes:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>FOR</span> <span class=n>doc</span> <span class=kr>IN</span> <span class=n>imdb</span>
</span></span><span class=line><span class=cl>  <span class=kp>SEARCH</span> <span class=n>doc</span><span class=p>.</span><span class=n>runtime</span> <span class=kr>IN</span> <span class=p>[</span><span class=mi>12</span><span class=p>,</span> <span class=mi>24</span><span class=p>,</span> <span class=mi>77</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=kr>RETURN</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>title</span><span class=o>:</span> <span class=n>doc</span><span class=p>.</span><span class=n>title</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>runtime</span><span class=o>:</span> <span class=n>doc</span><span class=p>.</span><span class=n>runtime</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span></span></span></code></pre></div><table><thead><tr><th style=text-align:left>title</th><th style=text-align:left>runtime</th></tr></thead><tbody><tr><td style=text-align:left>Frankenstein Punk</td><td style=text-align:left>12</td></tr><tr><td style=text-align:left>The Vagabond</td><td style=text-align:left>24</td></tr><tr><td style=text-align:left>The Rescuers Down Under</td><td style=text-align:left>77</td></tr><tr><td style=text-align:left>The Olsen Gang</td><td style=text-align:left>77</td></tr></tbody></table><p>Match movies with a runtime over <code>300</code> minutes and sort them from longest to
shortest runtime:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>FOR</span> <span class=n>doc</span> <span class=kr>IN</span> <span class=n>imdb</span>
</span></span><span class=line><span class=cl>  <span class=kp>SEARCH</span> <span class=n>doc</span><span class=p>.</span><span class=n>runtime</span> <span class=o>&gt;</span> <span class=mi>300</span>
</span></span><span class=line><span class=cl>  <span class=kr>SORT</span> <span class=n>doc</span><span class=p>.</span><span class=n>runtime</span> <span class=kr>DESC</span>
</span></span><span class=line><span class=cl>  <span class=kr>RETURN</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>title</span><span class=o>:</span> <span class=n>doc</span><span class=p>.</span><span class=n>title</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>runtime</span><span class=o>:</span> <span class=n>doc</span><span class=p>.</span><span class=n>runtime</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span></span></span></code></pre></div><table><thead><tr><th style=text-align:left>title</th><th style=text-align:left>runtime</th></tr></thead><tbody><tr><td style=text-align:left>Planet of the Apes Series</td><td style=text-align:left>605</td></tr><tr><td style=text-align:left>North and South</td><td style=text-align:left>561</td></tr><tr><td style=text-align:left>Into the West</td><td style=text-align:left>552</td></tr><tr><td style=text-align:left>…</td><td style=text-align:left>…</td></tr><tr><td style=text-align:left>The Manns - Novel of a Century</td><td style=text-align:left>312</td></tr><tr><td style=text-align:left>Legenda o Tile</td><td style=text-align:left>311</td></tr><tr><td style=text-align:left>Nárcisz és Psyché</td><td style=text-align:left>302</td></tr></tbody></table><p>Any of the following comparison operators can be used: <code>></code>, <code>>=</code>, <code>&lt;</code>, <code>&lt;=</code>,
<code>==</code>, <code>!=</code>, <code>IN</code>, <code>NOT IN</code>.</p><h2 id=comparing-to-a-numeric-range>Comparing to a Numeric Range <a href=/3.11/index-and-search/arangosearch/range-queries/#comparing-to-a-numeric-range class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>While you can combine a greater than (or equal) and a less than (or equal)
condition with a logical <code>AND</code>, it is more efficient to perform such range
queries using a single condition. You can use the range operator <code>..</code> to query
for an inclusive range of values. You can also use the
<a href=/3.11/aql/functions/arangosearch/#in_range class=link><code>IN_RANGE()</code> function</a> that allows
you to specify individually whether the minimum and maximum value shall be
included or excluded in the range.</p><h3 id=aql-queries-1>AQL queries <a href=/3.11/index-and-search/arangosearch/range-queries/#aql-queries-1 class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>Match movies with a runtime of <code>4</code> to <code>6</code> minutes with the range operator:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>FOR</span> <span class=n>doc</span> <span class=kr>IN</span> <span class=n>imdb</span>
</span></span><span class=line><span class=cl>  <span class=kp>SEARCH</span> <span class=n>doc</span><span class=p>.</span><span class=n>runtime</span> <span class=kr>IN</span> <span class=mf>4</span><span class=o>..</span><span class=mi>6</span>
</span></span><span class=line><span class=cl>  <span class=kr>RETURN</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>title</span><span class=o>:</span> <span class=n>doc</span><span class=p>.</span><span class=n>title</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>runtime</span><span class=o>:</span> <span class=n>doc</span><span class=p>.</span><span class=n>runtime</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span></span></span></code></pre></div><table><thead><tr><th style=text-align:left>title</th><th style=text-align:left>runtime</th></tr></thead><tbody><tr><td style=text-align:left>Katedra</td><td style=text-align:left>6</td></tr><tr><td style=text-align:left>The Spirit of Christmas</td><td style=text-align:left>4</td></tr><tr><td style=text-align:left>The Spirit of Christmas</td><td style=text-align:left>5</td></tr><tr><td style=text-align:left>Hell&rsquo;s Bells</td><td style=text-align:left>6</td></tr><tr><td style=text-align:left>…</td><td style=text-align:left>…</td></tr></tbody></table><p>While the dataset only has whole numbers, this query would also find decimal
fractions within the defined range, e.g. <code>5.5</code>. This is different to how
<code>FILTER doc.runtime IN 4..6</code> works, which defines an integer range and only
matches <code>4</code>, <code>5</code> and <code>6</code>.</p><p>Match movies with a runtime of <code>4</code> to <code>6</code> minutes with the <code>IN_RANGE()</code>
function (inclusive on both ends):</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>FOR</span> <span class=n>doc</span> <span class=kr>IN</span> <span class=n>imdb</span>
</span></span><span class=line><span class=cl>  <span class=kp>SEARCH</span> <span class=nf>IN_RANGE</span><span class=p>(</span><span class=n>doc</span><span class=p>.</span><span class=n>runtime</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>6</span><span class=p>,</span> <span class=kc>true</span><span class=p>,</span> <span class=kc>true</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=kr>RETURN</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>title</span><span class=o>:</span> <span class=n>doc</span><span class=p>.</span><span class=n>title</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>runtime</span><span class=o>:</span> <span class=n>doc</span><span class=p>.</span><span class=n>runtime</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span></span></span></code></pre></div><table><thead><tr><th style=text-align:left>title</th><th style=text-align:left>runtime</th></tr></thead><tbody><tr><td style=text-align:left>Katedra</td><td style=text-align:left>6</td></tr><tr><td style=text-align:left>The Spirit of Christmas</td><td style=text-align:left>4</td></tr><tr><td style=text-align:left>The Spirit of Christmas</td><td style=text-align:left>5</td></tr><tr><td style=text-align:left>Hell&rsquo;s Bells</td><td style=text-align:left>6</td></tr><tr><td style=text-align:left>…</td><td style=text-align:left>…</td></tr></tbody></table><p>The standard comparison operators are still necessary for other kinds of range
queries, such as for searching for values below and above a range. It is
possible to express this with <code>IN_RANGE()</code> and a negation (<code>NOT</code>), but it is
less efficient than using two comparisons and the negation makes it include
documents that do not have a runtime attribute (implicitly <code>null</code>).</p><p>Match movies with a runtime of <code>5</code> minutes or less, as well as <code>500</code> minutes
or more, but not with a runtime of <code>0</code> minutes. Sort the matches by runtime in
ascending order:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>FOR</span> <span class=n>doc</span> <span class=kr>IN</span> <span class=n>imdb</span>
</span></span><span class=line><span class=cl>  <span class=kp>SEARCH</span> <span class=p>(</span><span class=n>doc</span><span class=p>.</span><span class=n>runtime</span> <span class=o>&lt;=</span> <span class=mi>5</span> <span class=kr>OR</span> <span class=n>doc</span><span class=p>.</span><span class=n>runtime</span> <span class=o>&gt;=</span> <span class=mi>500</span><span class=p>)</span> <span class=kr>AND</span> <span class=n>doc</span><span class=p>.</span><span class=n>runtime</span> <span class=o>!=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>  <span class=kr>SORT</span> <span class=n>doc</span><span class=p>.</span><span class=n>runtime</span>
</span></span><span class=line><span class=cl>  <span class=kr>RETURN</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>title</span><span class=o>:</span> <span class=n>doc</span><span class=p>.</span><span class=n>title</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>runtime</span><span class=o>:</span> <span class=n>doc</span><span class=p>.</span><span class=n>runtime</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span></span></span></code></pre></div><table><thead><tr><th style=text-align:left>title</th><th style=text-align:left>runtime</th></tr></thead><tbody><tr><td style=text-align:left>La Sortie des usines Lumière</td><td style=text-align:left>1</td></tr><tr><td style=text-align:left>L&rsquo;Arrivée d&rsquo;un train à la Ciotat</td><td style=text-align:left>1</td></tr><tr><td style=text-align:left>…</td><td style=text-align:left>…</td></tr><tr><td style=text-align:left>Zippeldy & Fetterig</td><td style=text-align:left>5</td></tr><tr><td style=text-align:left>Coda</td><td style=text-align:left>5</td></tr><tr><td style=text-align:left>WWE: Greatest Wrestling Stars of the &rsquo;90s</td><td style=text-align:left>540</td></tr><tr><td style=text-align:left>Shogun</td><td style=text-align:left>547</td></tr><tr><td style=text-align:left>Into the West</td><td style=text-align:left>552</td></tr><tr><td style=text-align:left>North and South</td><td style=text-align:left>561</td></tr><tr><td style=text-align:left>Planet of the Apes Series</td><td style=text-align:left>605</td></tr></tbody></table><p>The search expression could alternative be written in the following ways
with the same result:</p><ul><li><code>doc.runtime > 0 AND doc.runtime &lt;= 5 OR doc.runtime >= 500</code></li><li><code>IN_RANGE(doc.runtime, 0, 5, false, true) OR doc.runtime >= 500</code></li><li><code>NOT(IN_RANGE(doc.runtime, 5, 500, false, false)) AND doc.runtime > 0</code></li></ul><h2 id=comparing-strings>Comparing Strings <a href=/3.11/index-and-search/arangosearch/range-queries/#comparing-strings class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>Comparison operators and the <code>IN_RANGE()</code> function can also be used with
strings. Beware that the results can be unexpected in some cases, because the
internal sort order of ArangoSearch is different to how <code>FILTER</code>, <code>SORT</code> and
other operations work.</p><div class="box notices cstyle warning"><div class=box-content-container><div class=box-content><i class="fas fa-exclamation-triangle"></i><div class=box-text>The alphabetical order of characters is not taken into account by ArangoSearch,
i.e. range queries in SEARCH operations against Views will not follow the
language rules as per the defined Analyzer locale (except for the
<a href=/3.11/index-and-search/analyzers/#collation class=link><code>collation</code> Analyzer</a>) nor the server language
(startup option <code>--default-language</code>)!
Also see <a href=/3.11/release-notes/version-3.11/known-issues-in-3-11/#arangosearch class=link>Known Issues</a>.</div></div></div></div><h3 id=view-definition-1>View definition <a href=/3.11/index-and-search/arangosearch/range-queries/#view-definition-1 class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><div class=tab-panel><div class=tab-content><div class=tab-nav><button data-tab-group=view-definition data-tab-item="`search-alias` View" class="tab-nav-button selected" onclick='switchTab("view-definition","`search-alias` View",event)'>
<span><code>search-alias</code> View</span></button>
<button data-tab-group=view-definition data-tab-item="`arangosearch` View" class=tab-nav-button onclick='switchTab("view-definition","`arangosearch` View",event)'>
<span><code>arangosearch</code> View</span></button></div><div data-tab-item="`search-alias` View" data-tab-group=view-definition class="tab-item
selected"><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>db</span><span class=p>.</span><span class=nx>imdb_vertices</span><span class=p>.</span><span class=nx>ensureIndex</span><span class=p>({</span> <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;inv-exact-name&#34;</span><span class=p>,</span> <span class=nx>type</span><span class=o>:</span> <span class=s2>&#34;inverted&#34;</span><span class=p>,</span> <span class=nx>fields</span><span class=o>:</span> <span class=p>[</span> <span class=s2>&#34;name&#34;</span> <span class=p>]</span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nx>db</span><span class=p>.</span><span class=nx>_createView</span><span class=p>(</span><span class=s2>&#34;imdb&#34;</span><span class=p>,</span> <span class=s2>&#34;search-alias&#34;</span><span class=p>,</span> <span class=p>{</span> <span class=nx>indexes</span><span class=o>:</span> <span class=p>[</span> <span class=p>{</span> <span class=nx>collection</span><span class=o>:</span> <span class=s2>&#34;imdb_vertices&#34;</span><span class=p>,</span> <span class=nx>index</span><span class=o>:</span> <span class=s2>&#34;inv-exact-name&#34;</span> <span class=p>}</span> <span class=p>]</span> <span class=p>});</span></span></span></code></pre></div></div><div data-tab-item="`arangosearch` View" data-tab-group=view-definition class=tab-item><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;links&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;imdb_vertices&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;fields&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;analyzers&#34;</span><span class=p>:</span> <span class=p>[</span> <span class=s2>&#34;identity&#34;</span> <span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div></div></div></div><h3 id=aql-queries-2>AQL queries <a href=/3.11/index-and-search/arangosearch/range-queries/#aql-queries-2 class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>Match movies where the name is <code>>= Wu</code> and <code>&lt; Y</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>FOR</span> <span class=n>doc</span> <span class=kr>IN</span> <span class=n>imdb</span>
</span></span><span class=line><span class=cl>  <span class=kp>SEARCH</span> <span class=nf>IN_RANGE</span><span class=p>(</span><span class=n>doc</span><span class=p>.</span><span class=n>name</span><span class=p>,</span> <span class=s2>&#34;Wu&#34;</span><span class=p>,</span> <span class=s2>&#34;Y&#34;</span><span class=p>,</span> <span class=kc>true</span><span class=p>,</span> <span class=kc>false</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=kr>RETURN</span> <span class=n>doc</span><span class=p>.</span><span class=n>name</span></span></span></code></pre></div><table><thead><tr><th style=text-align:left>Result</th></tr></thead><tbody><tr><td style=text-align:left>…</td></tr><tr><td style=text-align:left>Wu Zun</td></tr><tr><td style=text-align:left>Xiong Xin-Xin</td></tr><tr><td style=text-align:left>Wyatt</td></tr><tr><td style=text-align:left>Xander Berkeley</td></tr><tr><td style=text-align:left>Xzibit</td></tr><tr><td style=text-align:left>Xian Gao</td></tr><tr><td style=text-align:left>Wylie Watson</td></tr><tr><td style=text-align:left>Wyclef Jean</td></tr><tr><td style=text-align:left>…</td></tr></tbody></table><nav class=pagination><span class=prev><a class="nav nav-prev link" href=/3.11/index-and-search/arangosearch/exact-value-matching/><i class="fas fa-chevron-left fa-fw"></i><p>Exact value matching</p></a></span><span class=next><a class="nav nav-next link" href=/3.11/index-and-search/arangosearch/prefix-matching/><p>Prefix matching</p><i class="fas fa-chevron-right fa-fw"></i></a></span></nav></article><div class=toc-container><a class=edit-page aria-label href=https://github.com/arangodb/docs-hugo/edit/main/site/content/3.11/index-and-search/arangosearch/range-queries.md target=_blank><i class="fab fa-fw fa-github edit-page-icon"></i></a><div class=toc><div class=toc-content><div class=toc-header><p>On this page</p></div><nav id=TableOfContents><div class=level-2><a href=#comparing-to-a-number>Comparing to a Number</a></div><div class=level-3><a href=#dataset>Dataset</a></div><div class=level-3><a href=#view-definition>View definition</a></div><div class=level-3><a href=#aql-queries>AQL queries</a></div><div class=level-2><a href=#comparing-to-a-numeric-range>Comparing to a Numeric Range</a></div><div class=level-3><a href=#aql-queries-1>AQL queries</a></div><div class=level-2><a href=#comparing-strings>Comparing Strings</a></div><div class=level-3><a href=#view-definition-1>View definition</a></div><div class=level-3><a href=#aql-queries-2>AQL queries</a></div></nav></div></div></div></div></div></section></section></div><button class="back-to-top hidden" onclick=goToTop(event) href=#><i class="fa fa-arrow-up"></i></button><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3>
<script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3></script>
<script type=text/javascript>window.setupDocSearch=function(e){if(!window.docsearch)return;docsearch({appId:"OK3ZBQ5982",apiKey:"500c85ccecb335d507fe4449aed12e1d",indexName:"arangodbdocs",insights:!0,container:"#searchbox",debug:!1,maxResultsPerGroup:10,searchParameters:{facetFilters:[`version:${e}`]}})}</script></body></html>