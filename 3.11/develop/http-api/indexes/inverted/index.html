<!doctype html><html lang=en><head><link href=//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css rel=stylesheet><link href=//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css rel=stylesheet><link href=/css/fontawesome-all.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fontawesome-all.min.css rel=stylesheet></noscript><link href=/css/featherlight.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/featherlight.min.css rel=stylesheet></noscript><link href=/css/nucleus.css rel=stylesheet><link href=/css/fonts.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fonts.css rel=stylesheet></noscript><link href=/css/theme.css rel=stylesheet><link href=/css/theme-relearn-light.css rel=stylesheet id=variant-style><link href=/css/print.css rel=stylesheet media=print><script src=/js/variant.js?1743775370></script>
<script>var root_url="/",baseUriFull,baseUri=root_url.replace(/\/$/,"");window.T_Copy_to_clipboard="",window.T_Copied_to_clipboard="",window.T_Copy_link_to_clipboard="",window.T_Link_copied_to_clipboard="",baseUriFull="http://localhost/",window.variants&&variants.init(["relearn-light"])</script><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.119.0"><meta itemprop=description property="description" content="ArangoDB is a scalable graph database system with native support for other data models and a built-in search engine, for the cloud and on-premises"><meta property="og:url" content="http://localhost/3.11/develop/http-api/indexes/inverted/"><meta property="og:title" content="HTTP interface for inverted indexes"><meta property="og:type" content="website"><meta property="og:description" content="ArangoDB is a scalable graph database system with native support for other data models and a built-in search engine, for the cloud and on-premises"><meta name=docsearch:version content="3.11"><title>HTTP interface for inverted indexes | ArangoDB Documentation</title><link href=/images/favicon.png rel=icon type=image/png><script src=/js/jquery.min.js></script>
<script src=/js/clipboard.min.js?1743775370 defer></script>
<script src=/js/featherlight.min.js?1743775370 defer></script>
<script>var versions=[{alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"},{alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"},{alias:"3.11",deprecated:!1,name:"3.11",version:"3.11.13"},{alias:"3.10",deprecated:!0,name:"3.10",version:"3.10.14"}]</script><script>var develVersion={alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"}</script><script>var stableVersion={alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"}</script><script src=/js/codeblocks.js?1743775370 defer></script>
<script src=/js/theme.js?1743775370 defer></script></head><body><noscript>You need to enable JavaScript to use the ArangoDB documentation.</noscript><div id=page-wrapper class=page_content_splash style=height:auto;opacity:0><section id=page-main><section class=page-container id=page-container><header id=header style="transition:.5s padding ease-out,.15s" class="zn_header_white header-splash-new nav-down header-splash-wrap header1"><div class=header-block-left><div class=mobile-menu-toggle><button id=sidebar-toggle-navigation onclick=showSidebarHandler()><svg width="1.33em" height="1.33em" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button></div><div class=version-logo-container><div class="logo-container hasinfocard_img arangodb-logo-large"><div class=logo><a href=https://www.arangodb.com/><img src=/images/logo_main.png alt=ArangoDB title></a></div></div><div class=arangodb-logo-small><a href=https://arangodb.com/><img alt="ArangoDB Logo" src=/images/ArangoDB_Logo_White_small.png></a></div></div></div><div class=container-right style=display:hidden></div><div class=search-and-version-container><a href=# class="home-link is-current" aria-label="Go to home page" onclick=goToHomepage(event)></a><div id=searchbox></div><script type=text/javascript>const SCRIPT_SRC="https://unpkg.com/@inkeep/widgets-embed@0.2.290/dist/embed.js";function loadAndInitializeInkeep(){if(document.querySelector(`script[src="${SCRIPT_SRC}]"`))return;const e=document.createElement("script");e.type="module",e.src=SCRIPT_SRC,e.onload=initializeInkeep,document.head.appendChild(e)}function initializeInkeep(){const e=Inkeep({integrationId:"clo4lx6jk0000s601cp21x2ok",apiKey:"13b4e56966a76e86c6ff359cd795ee6a0412f751d75d6383",organizationId:"org_HGBkkzGAa4KeGJGh",organizationDisplayName:"ArangoDB",primaryBrandColor:"#80a54d",stringReplacementRules:[{matchingRule:{ruleType:"Substring",string:"Arangograph"},replaceWith:"ArangoGraph"},{matchingRule:{ruleType:"Substring",string:"Aql"},replaceWith:"AQL"},{matchingRule:{ruleType:"Substring",string:"Arangodb"},replaceWith:"ArangoDB"}],customCardSettings:[{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arango.qubitpi.org"}},searchTabLabel:"Official Docs"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"developer.arangodb.com"}},searchTabLabel:"Developer Hub"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arangodb.com"}},searchTabLabel:"Home"}]}),t=e.embed({componentType:"ChatButton",properties:{stylesheetUrls:["/css/fonts.css"],fixedPositionXOffset:"52px",baseSettings:{theme:{primaryColors:{textColorOnPrimary:"white"},tokens:{fonts:{body:"'Inter'",heading:"'Inter'"},zIndex:{overlay:1e4,modal:11e3,popover:12e3,skipLink:13e3,toast:14e3,tooltip:15e3}}}},aiChatSettings:{botAvatarSrcUrl:"/images/ArangoDB_Logo_White_small.png",quickQuestions:["What can you do with AQL that is not feasible with SQL?","How do I search for objects within arrays?","Where can I deploy my ArangoDB instance?"],getHelpCallToActions:[{icon:{builtIn:"FaSlack"},name:"Slack",url:"https://arangodb-community.slack.com/"}]},searchSettings:{tabSettings:{isAllTabEnabled:!1,alwaysDisplayedTabs:["Official Docs","Developer Hub","Home"]}}}})}loadAndInitializeInkeep()</script><div class=version-selector><select id=arangodb-version onchange=changeVersion()><option value=3.13>3.13</option><option value=3.12>3.12</option><option value=3.11>3.11</option><option value=3.10>3.10</option><option value=3.9>3.9</option><option value=3.8>3.8</option></select></div></div></header><iframe src=/nav.html title=description id=menu-iframe class="menu-iframe active" style=opacity:0></iframe><div class=container-main><div class=row-main><nav id=breadcrumbs><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><meta itemprop=itemListOrder content="Descending"><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="3.11"><a itemprop=item class=link href=/3.11/><span itemprop=name class=breadcrumb-entry>3.11.13</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Develop"><a itemprop=item class=link href=/3.11/develop/><span itemprop=name class=breadcrumb-entry>Develop</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="HTTP API"><a itemprop=item class=link href=/3.11/develop/http-api/><span itemprop=name class=breadcrumb-entry>HTTP API</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Indexes"><a itemprop=item class=link href=/3.11/develop/http-api/indexes/><span itemprop=name class=breadcrumb-entry>Indexes</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Inverted"><a itemprop=item class=link href=/3.11/develop/http-api/indexes/inverted/><span itemprop=name class=breadcrumb-entry>Inverted</span></a></li></ol></nav><article class=default><hgroup><h1>HTTP interface for inverted indexes</h1></hgroup><h2 id=create-an-inverted-index>Create an inverted index <a href=/3.11/develop/http-api/indexes/inverted/#create-an-inverted-index class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><div class=openapi><div class=endpoint><span class="endpoint-method regular-font bold-text method-post">POST</span>
<span class=endpoint-path>/_db/{database-name}/_api/index</span></div><div class="openapi-description regular-font">Creates an inverted index for the collection <code>collection-name</code>, if
it does not already exist. The call expects an object containing the index
details.</div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Path Parameters</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_path_database-name><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">database-name*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#create-an-inverted-index_path_database-name><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The name of the database.</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Query Parameters</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_query_collection><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">collection*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#create-an-inverted-index_query_collection><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The collection name.</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>HTTP Headers</div><div><ul class=openapi-table></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Request Body <span class=openapi-content-type>application/json</span> <span class=openapi-property-type>object</span></div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_analyzer><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">analyzer</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#create-an-inverted-index_body_analyzer><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>The name of an Analyzer to use by default. This Analyzer is applied to the
values of the indexed fields for which you don&rsquo;t define Analyzers explicitly.</p><p>Default: <code>identity</code></p></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_cache><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">cache</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#create-an-inverted-index_body_cache><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>Enable this option to always cache the field normalization values in memory
for all fields by default. This can improve the performance of scoring and
ranking queries. Otherwise, these values are memory-mapped and it is up to the
operating system to load them from disk into memory and to evict them from memory.</p><p>Normalization values are computed for fields which are processed with Analyzers
that have the <code>"norm"</code> feature enabled. These values are used to score fairer if
the same tokens occur repeatedly, to emphasize these documents less.</p><p>You can also enable this option to always cache auxiliary data used for querying
fields that are indexed with Geo Analyzers in memory for all fields by default.
This can improve the performance of geo-spatial queries.</p><p>Default: <code>false</code></p><p>This property is available in the Enterprise Edition only.</p><p>See the <code>--arangosearch.columns-cache-limit</code> startup option to control the
memory consumption of this cache. You can reduce the memory usage of the column
cache in cluster deployments by only using the cache for leader shards, see the
<code>--arangosearch.columns-cache-only-leader</code> startup option (introduced in v3.10.6).</p></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_cleanupIntervalStep><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">cleanupIntervalStep</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-an-inverted-index_body_cleanupIntervalStep><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>Wait at least this many commits between removing unused files in the
ArangoSearch data directory (default: 2, to disable use: 0).
For the case where the consolidation policies merge segments often (i.e. a lot
of commit+consolidate), a lower value causes a lot of disk space to be
wasted.
For the case where the consolidation policies rarely merge segments (i.e. few
inserts/deletes), a higher value impacts performance without any added
benefits.</p><p><em>Background:</em>
With every &ldquo;commit&rdquo; or &ldquo;consolidate&rdquo; operation, a new state of the
inverted index&rsquo; internal data structures is created on disk.
Old states/snapshots are released once there are no longer any users
remaining.
However, the files for the released states/snapshots are left on disk, and
only removed by &ldquo;cleanup&rdquo; operation.</p></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_commitIntervalMsec><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">commitIntervalMsec</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-an-inverted-index_body_commitIntervalMsec><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>Wait at least this many milliseconds between committing inverted index data store
changes and making documents visible to queries (default: 1000, to disable
use: 0).
For the case where there are a lot of inserts/updates, a higher value causes the
index not to account for them and memory usage continues to grow until the commit.
A lower value impacts performance, including the case where there are no or only a
few inserts/updates because of synchronous locking, and it wastes disk space for
each commit call.</p><p><em>Background:</em>
For data retrieval, ArangoSearch follows the concept of
&ldquo;eventually-consistent&rdquo;, i.e. eventually all the data in ArangoDB will be
matched by corresponding query expressions.
The concept of ArangoSearch &ldquo;commit&rdquo; operations is introduced to
control the upper-bound on the time until document addition/removals are
actually reflected by corresponding query expressions.
Once a &ldquo;commit&rdquo; operation is complete, all documents added/removed prior to
the start of the &ldquo;commit&rdquo; operation will be reflected by queries invoked in
subsequent ArangoDB transactions, in-progress ArangoDB transactions will
still continue to return a repeatable-read state.</p></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_consolidationIntervalMsec><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">consolidationIntervalMsec</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-an-inverted-index_body_consolidationIntervalMsec><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>Wait at least this many milliseconds between applying <code>consolidationPolicy</code> to
consolidate the inverted index data store and possibly release space on the filesystem
(default: 1000, to disable use: 0).
For the case where there are a lot of data modification operations, a higher
value could potentially have the data store consume more space and file handles.
For the case where there are a few data modification operations, a lower value
impacts performance due to no segment candidates being available for
consolidation.</p><p><em>Background:</em>
For data modification, ArangoSearch follows the concept of a
&ldquo;versioned data store&rdquo;. Thus old versions of data may be removed once there
are no longer any users of the old data. The frequency of the cleanup and
compaction operations are governed by <code>consolidationIntervalMsec</code> and the
candidates for compaction are selected via <code>consolidationPolicy</code>.</p></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_consolidationPolicy><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">consolidationPolicy</span>
<span class=openapi-property-type><span class=bold-text>object</span></span>
<a href=#create-an-inverted-index_body_consolidationPolicy><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>The consolidation policy to apply for selecting which segments should be merged
(default: {}).</p><p><em>Background:</em>
With each ArangoDB transaction that inserts documents, one or more
ArangoSearch-internal segments get created.
Similarly, for removed documents, the segments that contain such documents
have these documents marked as &lsquo;deleted&rsquo;.
Over time, this approach causes a lot of small and sparse segments to be
created.
A &ldquo;consolidation&rdquo; operation selects one or more segments and copies all of
their valid documents into a single new segment, thereby allowing the
search algorithm to perform more optimally and for extra file handles to be
released once old segments are no longer used.</p></p><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_consolidationPolicy_minScore><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">minScore</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-an-inverted-index_body_consolidationPolicy_minScore><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>Filter out consolidation candidates with a score less than this. Default: <code>0</code></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_consolidationPolicy_segmentsBytesFloor><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">segmentsBytesFloor</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-an-inverted-index_body_consolidationPolicy_segmentsBytesFloor><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>Defines the value (in bytes) to treat all smaller segments as equal for
consolidation selection. Default: <code>2097152</code></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_consolidationPolicy_segmentsBytesMax><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">segmentsBytesMax</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-an-inverted-index_body_consolidationPolicy_segmentsBytesMax><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The maximum allowed size of all consolidated segments in bytes.
Default: <code>5368709120</code></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_consolidationPolicy_segmentsMax><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">segmentsMax</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-an-inverted-index_body_consolidationPolicy_segmentsMax><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The maximum number of segments that are evaluated as candidates for
consolidation. Default: <code>10</code></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_consolidationPolicy_segmentsMin><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">segmentsMin</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-an-inverted-index_body_consolidationPolicy_segmentsMin><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The minimum number of segments that are evaluated as candidates for
consolidation. Default: <code>1</code></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_consolidationPolicy_type><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">type</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#create-an-inverted-index_body_consolidationPolicy_type><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>The segment candidates for the &ldquo;consolidation&rdquo; operation are selected based
upon several possible configurable formulas as defined by their types.
The supported types are:</p><ul><li><code>"tier"</code> (default): consolidate based on segment byte size and live
document count as dictated by the customization attributes.</li></ul></p></div></details></li></ul></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_features><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">features</span>
<span class=openapi-property-type><span class=bold-text>array of strings</span></span>
<a href=#create-an-inverted-index_body_features><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>A list of Analyzer features. You can set this option to overwrite what features
are enabled for the default <code>analyzer</code>.</p><p>Default: the features as defined by the Analyzer itself.</p></p><p class=regular-font>Possible values: <code>"frequency"</code>, <code>"norm"</code>, <code>"position"</code>, <code>"offset"</code></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_fields><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">fields*</span>
<span class=openapi-property-type><span class=bold-text>array of objects</span></span>
<a href=#create-an-inverted-index_body_fields><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>An array of attribute paths. You can use strings to index the fields with the
default options, or objects to specify options for the fields (with the
attribute path in the <code>name</code> property), or a mix of both.</p><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_fields_analyzer><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">analyzer</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#create-an-inverted-index_body_fields_analyzer><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>The name of an Analyzer to use for this field.</p><p>Default: the value defined by the top-level <code>analyzer</code> option.</p></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_fields_cache><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">cache</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#create-an-inverted-index_body_fields_cache><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>Enable this option to always cache the field normalization values in memory
for this specific field. This can improve the performance of scoring and
ranking queries. Otherwise, these values are memory-mapped and it is up to the
operating system to load them from disk into memory and to evict them from memory.</p><p>Normalization values are computed for fields which are processed with Analyzers
that have the <code>"norm"</code> feature enabled. These values are used to score fairer if
the same tokens occur repeatedly, to emphasize these documents less.</p><p>You can also enable this option to always cache auxiliary data used for querying
fields that are indexed with Geo Analyzers in memory for this specific field.
This can improve the performance of geo-spatial queries.</p><p>Default: the value defined by the top-level <code>cache</code> option.</p><p>This property is available in the Enterprise Edition only.</p><p>See the <code>--arangosearch.columns-cache-limit</code> startup option to control the
memory consumption of this cache. You can reduce the memory usage of the column
cache in cluster deployments by only using the cache for leader shards, see the
<code>--arangosearch.columns-cache-only-leader</code> startup option (introduced in v3.10.6).</p></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_fields_features><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">features</span>
<span class=openapi-property-type><span class=bold-text>array of strings</span></span>
<a href=#create-an-inverted-index_body_fields_features><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>A list of Analyzer features to use for this field. You can set this option to
overwrite what features are enabled for the <code>analyzer</code>.</p><p>Default: the features as defined by the Analyzer itself, or inherited from the
top-level <code>features</code> option if the <code>analyzer</code> option adjacent to this option is
not set.</p></p><p class=regular-font>Possible values: <code>"frequency"</code>, <code>"norm"</code>, <code>"position"</code>, <code>"offset"</code></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_fields_includeAllFields><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">includeAllFields</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#create-an-inverted-index_body_fields_includeAllFields><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>This option only applies if you use the inverted index in a <code>search-alias</code> Views.</p><p>If set to <code>true</code>, then all sub-attributes of this field are indexed, excluding
any sub-attributes that are configured separately by other elements in the
<code>fields</code> array (and their sub-attributes). The <code>analyzer</code> and <code>features</code>
properties apply to the sub-attributes.</p><p>If set to <code>false</code>, then sub-attributes are ignored.</p><p>Default: the value defined by the top-level <code>includeAllFields</code> option.</p></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_fields_name><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">name*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#create-an-inverted-index_body_fields_name><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>An attribute path. The <code>.</code> character denotes sub-attributes.
You can expand one array attribute with <code>[*]</code>.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_fields_nested><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">nested</span>
<span class=openapi-property-type><span class=bold-text>array of objects</span></span>
<a href=#create-an-inverted-index_body_fields_nested><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>Index the specified sub-objects that are stored in an array. Other than with the
<code>fields</code> property, the values get indexed in a way that lets you query for
co-occurring values. For example, you can search the sub-objects and all the
conditions need to be met by a single sub-object instead of across all of them.</p><p>This property is available in the Enterprise Edition only.</p></p><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_fields_nested_analyzer><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">analyzer</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#create-an-inverted-index_body_fields_nested_analyzer><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The name of an Analyzer to use for this field.
Default: the value defined by the parent field, or the top-level <code>analyzer</code> option.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_fields_nested_cache><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">cache</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#create-an-inverted-index_body_fields_nested_cache><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>Enable this option to always cache the field normalization values in memory
for this specific nested field. This can improve the performance of scoring and
ranking queries. Otherwise, these values are memory-mapped and it is up to the
operating system to load them from disk into memory and to evict them from memory.</p><p>Normalization values are computed for fields which are processed with Analyzers
that have the <code>"norm"</code> feature enabled. These values are used to score fairer if
the same tokens occur repeatedly, to emphasize these documents less.</p><p>You can also enable this option to always cache auxiliary data used for querying
fields that are indexed with Geo Analyzers in memory for this specific nested field.
This can improve the performance of geo-spatial queries.</p><p>Default: the value defined by the top-level <code>cache</code> option.</p><p>This property is available in the Enterprise Edition only.</p><p>See the <code>--arangosearch.columns-cache-limit</code> startup option to control the
memory consumption of this cache. You can reduce the memory usage of the column
cache in cluster deployments by only using the cache for leader shards, see the
<code>--arangosearch.columns-cache-only-leader</code> startup option (introduced in v3.10.6).</p></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_fields_nested_features><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">features</span>
<span class=openapi-property-type><span class=bold-text>array of strings</span></span>
<a href=#create-an-inverted-index_body_fields_nested_features><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>A list of Analyzer features to use for this field. You can set this option to
overwrite what features are enabled for the <code>analyzer</code>.</p><p>Default: the features as defined by the Analyzer itself, or inherited from the
parent field&rsquo;s or top-level <code>features</code> option if no <code>analyzer</code> option is set
at a deeper level, closer to this option.</p></p><p class=regular-font>Possible values: <code>"frequency"</code>, <code>"norm"</code>, <code>"position"</code>, <code>"offset"</code></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_fields_nested_name><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">name*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#create-an-inverted-index_body_fields_nested_name><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>An attribute path. The <code>.</code> character denotes sub-attributes.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_fields_nested_nested><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">nested</span>
<span class=openapi-property-type><span class=bold-text>array of objects</span></span>
<a href=#create-an-inverted-index_body_fields_nested_nested><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>You can recursively index sub-objects. See the above description of the
<code>nested</code> option.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_fields_nested_searchField><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">searchField</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#create-an-inverted-index_body_fields_nested_searchField><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>This option only applies if you use the inverted index in a <code>search-alias</code> Views.</p><p>You can set the option to <code>true</code> to get the same behavior as with <code>arangosearch</code>
Views regarding the indexing of array values for this field. If enabled, both,
array and primitive values (strings, numbers, etc.) are accepted. Every element
of an array is indexed according to the <code>trackListPositions</code> option.</p><p>If set to <code>false</code>, it depends on the attribute path. If it explicitly expands an
array (<code>[*]</code>), then the elements are indexed separately. Otherwise, the array is
indexed as a whole, but only <code>geopoint</code> and <code>aql</code> Analyzers accept array inputs.
You cannot use an array expansion if <code>searchField</code> is enabled.</p><p>Default: the value defined by the top-level <code>searchField</code> option.</p></p></div></details></li></ul></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_fields_searchField><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">searchField</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#create-an-inverted-index_body_fields_searchField><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>This option only applies if you use the inverted index in a <code>search-alias</code> Views.</p><p>You can set the option to <code>true</code> to get the same behavior as with <code>arangosearch</code>
Views regarding the indexing of array values for this field. If enabled, both,
array and primitive values (strings, numbers, etc.) are accepted. Every element
of an array is indexed according to the <code>trackListPositions</code> option.</p><p>If set to <code>false</code>, it depends on the attribute path. If it explicitly expands an
array (<code>[*]</code>), then the elements are indexed separately. Otherwise, the array is
indexed as a whole, but only <code>geopoint</code> and <code>aql</code> Analyzers accept array inputs.
You cannot use an array expansion if <code>searchField</code> is enabled.</p><p>Default: the value defined by the top-level <code>searchField</code> option.</p></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_fields_trackListPositions><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">trackListPositions</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#create-an-inverted-index_body_fields_trackListPositions><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>This option only applies if you use the inverted index in a <code>search-alias</code> Views,
and <code>searchField</code> needs to be <code>true</code>.</p><p>If set to <code>true</code>, then track the value position in arrays for array values.
For example, when querying a document like <code>{ attr: [ "valueX", "valueY", "valueZ" ] }</code>,
you need to specify the array element, e.g. <code>doc.attr[1] == "valueY"</code>.</p><p>If set to <code>false</code>, all values in an array are treated as equal alternatives.
You don&rsquo;t specify an array element in queries, e.g. <code>doc.attr == "valueY"</code>, and
all elements are searched for a match.</p><p>Default: the value defined by the top-level <code>trackListPositions</code> option.</p></p></div></details></li></ul></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_inBackground><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">inBackground</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#create-an-inverted-index_body_inBackground><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>This attribute can be set to <code>true</code> to create the index
in the background, not write-locking the underlying collection for
as long as if the index is built in the foreground. The default value is <code>false</code>.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_includeAllFields><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">includeAllFields</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#create-an-inverted-index_body_includeAllFields><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>This option only applies if you use the inverted index in a <code>search-alias</code> Views.</p><p>If set to <code>true</code>, then all document attributes are indexed, excluding any
sub-attributes that are configured in the <code>fields</code> array (and their sub-attributes).
The <code>analyzer</code> and <code>features</code> properties apply to the sub-attributes.</p><p>Default: <code>false</code></p><div class="box notices cstyle warning"><div class=box-content-container><div class=box-content><i class="fas fa-exclamation-triangle"></i><div class=box-text>Using <code>includeAllFields</code> for a lot of attributes in combination
with complex Analyzers may significantly slow down the indexing process.</div></div></div></div></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_name><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">name</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#create-an-inverted-index_body_name><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>An easy-to-remember name for the index to look it up or refer to it in index hints.
Index names are subject to the same character restrictions as collection names.
If omitted, a name is auto-generated so that it is unique with respect to the
collection, e.g. <code>idx_832910498</code>.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_parallelism><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">parallelism</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-an-inverted-index_body_parallelism><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The number of threads to use for indexing the fields. Default: <code>2</code></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_primaryKeyCache><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">primaryKeyCache</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#create-an-inverted-index_body_primaryKeyCache><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>Enable this option to always cache the primary key column in memory. This can
improve the performance of queries that return many documents. Otherwise, these
values are memory-mapped and it is up to the operating system to load them from
disk into memory and to evict them from memory.</p><p>Default: <code>false</code></p><p>See the <code>--arangosearch.columns-cache-limit</code> startup option to control the
memory consumption of this cache. You can reduce the memory usage of the column
cache in cluster deployments by only using the cache for leader shards, see the
<code>--arangosearch.columns-cache-only-leader</code> startup option (introduced in v3.10.6).</p></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_primarySort><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">primarySort</span>
<span class=openapi-property-type><span class=bold-text>object</span></span>
<a href=#create-an-inverted-index_body_primarySort><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>You can define a primary sort order to enable an AQL optimization. If a query
iterates over all documents of a collection, wants to sort them by attribute values,
and the (left-most) fields to sort by, as well as their sorting direction, match
with the <code>primarySort</code> definition, then the <code>SORT</code> operation is optimized away.</p><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_primarySort_cache><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">cache</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#create-an-inverted-index_body_primarySort_cache><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>Enable this option to always cache the primary sort columns in memory. This can
improve the performance of queries that utilize the primary sort order.
Otherwise, these values are memory-mapped and it is up to the operating system
to load them from disk into memory and to evict them from memory.</p><p>Default: <code>false</code></p><p>This property is available in the Enterprise Edition only.</p><p>See the <code>--arangosearch.columns-cache-limit</code> startup option to control the
memory consumption of this cache. You can reduce the memory usage of the column
cache in cluster deployments by only using the cache for leader shards, see the
<code>--arangosearch.columns-cache-only-leader</code> startup option (introduced in v3.10.6).</p></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_primarySort_compression><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">compression</span>
<span class=openapi-property-type><span class=bold-text>string</span> (default: <code>"lz4"</code>)</span>
<a href=#create-an-inverted-index_body_primarySort_compression><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>Defines how to compress the primary sort data.</p><ul><li><code>"lz4"</code>: use LZ4 fast compression.</li><li><code>"none"</code>: disable compression to trade space for speed.</li></ul></p><p class=regular-font>Possible values: <code>"lz4"</code>, <code>"none"</code></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_primarySort_fields><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">fields*</span>
<span class=openapi-property-type><span class=bold-text>array of objects</span></span>
<a href=#create-an-inverted-index_body_primarySort_fields><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>An array of the fields to sort the index by and the direction to sort each field in.</p><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_primarySort_fields_direction><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">direction*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#create-an-inverted-index_body_primarySort_fields_direction><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>The sorting direction.</p><ul><li><code>"asc</code> for ascending</li><li><code>"desc"</code> for descending</li></ul></p><p class=regular-font>Possible values: <code>"asc"</code>, <code>"desc"</code></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_primarySort_fields_field><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">field*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#create-an-inverted-index_body_primarySort_fields_field><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>An attribute path. The <code>.</code> character denotes sub-attributes.</p></div></details></li></ul></div></details></li></ul></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_searchField><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">searchField</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#create-an-inverted-index_body_searchField><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>This option only applies if you use the inverted index in a <code>search-alias</code> Views.</p><p>You can set the option to <code>true</code> to get the same behavior as with <code>arangosearch</code>
Views regarding the indexing of array values as the default. If enabled, both,
array and primitive values (strings, numbers, etc.) are accepted. Every element
of an array is indexed according to the <code>trackListPositions</code> option.</p><p>If set to <code>false</code>, it depends on the attribute path. If it explicitly expands an
array (<code>[*]</code>), then the elements are indexed separately. Otherwise, the array is
indexed as a whole, but only <code>geopoint</code> and <code>aql</code> Analyzers accept array inputs.
You cannot use an array expansion if <code>searchField</code> is enabled.</p><p>Default: <code>false</code></p></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_storedValues><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">storedValues</span>
<span class=openapi-property-type><span class=bold-text>array of objects</span></span>
<a href=#create-an-inverted-index_body_storedValues><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>The optional <code>storedValues</code> attribute can contain an array of objects with paths
to additional attributes to store in the index. These additional attributes
cannot be used for index lookups or for sorting, but they can be used for
projections. This allows an index to fully cover more queries and avoid extra
document lookups.</p><p>You may use the following shorthand notations on index creation instead of
an array of objects. The default compression and cache settings are used in
this case:</p><ul><li><p>An array of strings, like <code>["attr1", "attr2"]</code>, to place each attribute into
a separate column of the index (introduced in v3.10.3).</p></li><li><p>An array of arrays of strings, like <code>[["attr1", "attr2"]]</code>, to place the
attributes into a single column of the index, or <code>[["attr1"], ["attr2"]]</code>
to place each attribute into a separate column. You can also mix it with the
full form:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=s2>&#34;attr1&#34;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=s2>&#34;attr2&#34;</span><span class=p>,</span> <span class=s2>&#34;attr3&#34;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span> <span class=nt>&#34;fields&#34;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&#34;attr4&#34;</span><span class=p>,</span> <span class=s2>&#34;attr5&#34;</span><span class=p>],</span> <span class=nt>&#34;cache&#34;</span><span class=p>:</span> <span class=kc>true</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span></code></pre></div></li></ul></p><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_storedValues_cache><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">cache</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#create-an-inverted-index_body_storedValues_cache><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>Enable this option to always cache stored values in memory. This can improve the
query performance if stored values are involved. Otherwise, these values are
memory-mapped and it is up to the operating system to load them from disk into
memory and to evict them from memory.</p><p>Default: <code>false</code></p><p>This property is available in the Enterprise Edition only.</p><p>See the <code>--arangosearch.columns-cache-limit</code> startup option to control the
memory consumption of this cache. You can reduce the memory usage of the column
cache in cluster deployments by only using the cache for leader shards, see the
<code>--arangosearch.columns-cache-only-leader</code> startup option (introduced in v3.10.6).</p></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_storedValues_compression><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">compression</span>
<span class=openapi-property-type><span class=bold-text>string</span> (default: <code>"lz4"</code>)</span>
<a href=#create-an-inverted-index_body_storedValues_compression><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>Defines how to compress the attribute values.</p><ul><li><code>"lz4"</code>: use LZ4 fast compression.</li><li><code>"none"</code>: disable compression to trade space for speed.</li></ul></p><p class=regular-font>Possible values: <code>"lz4"</code>, <code>"none"</code></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_storedValues_fields><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">fields*</span>
<span class=openapi-property-type><span class=bold-text>array of strings</span></span>
<a href=#create-an-inverted-index_body_storedValues_fields><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>A list of attribute paths. The <code>.</code> character denotes sub-attributes.</p></div></details></li></ul></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_trackListPositions><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">trackListPositions</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#create-an-inverted-index_body_trackListPositions><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>This option only applies if you use the inverted index in a <code>search-alias</code> Views,
and <code>searchField</code> needs to be <code>true</code>.</p><p>If set to <code>true</code>, then track the value position in arrays for array values.
For example, when querying a document like <code>{ attr: [ "valueX", "valueY", "valueZ" ] }</code>,
you need to specify the array element, e.g. <code>doc.attr[1] == "valueY"</code>.</p><p>If set to <code>false</code>, all values in an array are treated as equal alternatives.
You don&rsquo;t specify an array element in queries, e.g. <code>doc.attr == "valueY"</code>, and
all elements are searched for a match.</p></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_type><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">type*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#create-an-inverted-index_body_type><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>Must be equal to <code>"inverted"</code>.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_writebufferActive><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">writebufferActive</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-an-inverted-index_body_writebufferActive><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>Maximum number of concurrent active writers (segments) that perform a
transaction. Other writers (segments) wait till current active writers
(segments) finish (default: 0, use 0 to disable)</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_writebufferIdle><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">writebufferIdle</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-an-inverted-index_body_writebufferIdle><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>Maximum number of writers (segments) cached in the pool
(default: 64, use 0 to disable)</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_body_writebufferSizeMax><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">writebufferSizeMax</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-an-inverted-index_body_writebufferSizeMax><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>Maximum memory byte size per writer (segment) before a writer (segment) flush
is triggered. <code>0</code> value turns off this limit for any writer (buffer) and data
is flushed periodically based on the value defined for the flush thread
(ArangoDB server startup option). <code>0</code> value should be used carefully due to
high potential memory consumption
(default: 33554432, use 0 to disable)</p></div></details></li></ul></div></div><div class="responses regular-font"><div class=openapi-table-title>Responses</div><div class=openapi-responses><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_res_200><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">200</span>
<span class="openapi-property-type bold-text">OK</span>
<a href=#create-an-inverted-index_res_200><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>If the index already exists, then a <em>HTTP 200</em> is returned.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_res_201><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">201</span>
<span class="openapi-property-type bold-text">Created</span>
<a href=#create-an-inverted-index_res_201><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>If the index does not already exist and can be created, then a <em>HTTP 201</em>
is returned.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-an-inverted-index_res_404><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">404</span>
<span class="openapi-property-type bold-text">Not Found</span>
<a href=#create-an-inverted-index_res_404><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>If the <code>collection-name</code> is unknown, then a <em>HTTP 404</em> is returned.</p></div></details></li></ul></div></div></div><p><strong>Examples</strong></p><p>Creating an inverted index:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -X POST --header <span class=s1>&#39;accept: application/json&#39;</span> --data-binary @- --dump - <span class=s1>&#39;http://localhost:8529/_api/index?collection=products&#39;</span> <span class=s>&lt;&lt;&#39;EOF&#39;
</span></span></span><span class=line><span class=cl><span class=s>{
</span></span></span><span class=line><span class=cl><span class=s>  &#34;type&#34;: &#34;inverted&#34;,
</span></span></span><span class=line><span class=cl><span class=s>  &#34;fields&#34;: [
</span></span></span><span class=line><span class=cl><span class=s>    &#34;a&#34;,
</span></span></span><span class=line><span class=cl><span class=s>    {
</span></span></span><span class=line><span class=cl><span class=s>      &#34;name&#34;: &#34;b&#34;,
</span></span></span><span class=line><span class=cl><span class=s>      &#34;analyzer&#34;: &#34;text_en&#34;
</span></span></span><span class=line><span class=cl><span class=s>    }
</span></span></span><span class=line><span class=cl><span class=s>  ]
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>HTTP/1.1 <span class=m>201</span> Created
</span></span><span class=line><span class=cl>content-type: application/json
</span></span><span class=line><span class=cl>cache-control: no-cache, no-store, must-revalidate, pre-check<span class=o>=</span>0, post-check<span class=o>=</span>0, max-age<span class=o>=</span>0, s-maxage<span class=o>=</span><span class=m>0</span>
</span></span><span class=line><span class=cl>connection: Keep-Alive
</span></span><span class=line><span class=cl>content-length: <span class=m>754</span>
</span></span><span class=line><span class=cl>content-security-policy: frame-ancestors <span class=s1>&#39;self&#39;</span><span class=p>;</span> form-action <span class=s1>&#39;self&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>expires: <span class=m>0</span>
</span></span><span class=line><span class=cl>pragma: no-cache
</span></span><span class=line><span class=cl>server: ArangoDB
</span></span><span class=line><span class=cl>strict-transport-security: max-age<span class=o>=</span><span class=m>31536000</span> <span class=p>;</span> includeSubDomains
</span></span><span class=line><span class=cl>x-arango-queue-time-seconds: 0.000000
</span></span><span class=line><span class=cl>x-content-type-options: nosniff
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;analyzer&#34;</span> : <span class=s2>&#34;identity&#34;</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;cleanupIntervalStep&#34;</span> : 2, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;commitIntervalMsec&#34;</span> : 1000, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;consolidationIntervalMsec&#34;</span> : 1000, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;consolidationPolicy&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;tier&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;segmentsBytesFloor&#34;</span> : 2097152, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;segmentsBytesMax&#34;</span> : 5368709120, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;segmentsMax&#34;</span> : 10, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;segmentsMin&#34;</span> : 1, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;minScore&#34;</span> : <span class=m>0</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;features&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;frequency&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;norm&#34;</span> 
</span></span><span class=line><span class=cl>  <span class=o>]</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;fields&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>    <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;a&#34;</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span>, 
</span></span><span class=line><span class=cl>    <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;features&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;frequency&#34;</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;position&#34;</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;norm&#34;</span> 
</span></span><span class=line><span class=cl>      <span class=o>]</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;analyzer&#34;</span> : <span class=s2>&#34;text_en&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;b&#34;</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>]</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;id&#34;</span> : <span class=s2>&#34;products/71723&#34;</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;includeAllFields&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;isNewlyCreated&#34;</span> : true, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;idx_1824128902252986368&#34;</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;primarySort&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;fields&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;compression&#34;</span> : <span class=s2>&#34;lz4&#34;</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;searchField&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;sparse&#34;</span> : true, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;storedValues&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;trackListPositions&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;inverted&#34;</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;unique&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;version&#34;</span> : 1, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;writebufferActive&#34;</span> : 0, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;writebufferIdle&#34;</span> : 64, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;writebufferSizeMax&#34;</span> : 33554432, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;code&#34;</span> : 201, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;error&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl><span class=o>}</span></span></span></code></pre></div></div></div><br><nav class=pagination><span class=prev><a class="nav nav-prev link" href=/3.11/develop/http-api/indexes/persistent/><i class="fas fa-chevron-left fa-fw"></i><p>Persistent</p></a></span><span class=next><a class="nav nav-next link" href=/3.11/develop/http-api/indexes/ttl/><p>TTL</p><i class="fas fa-chevron-right fa-fw"></i></a></span></nav></article><div class=toc-container><a class=edit-page aria-label href=https://github.com/arangodb/docs-hugo/edit/main/site/content/3.11/develop/http-api/indexes/inverted.md target=_blank><i class="fab fa-fw fa-github edit-page-icon"></i></a></div></div></div></section></section></div><button class="back-to-top hidden" onclick=goToTop(event) href=#><i class="fa fa-arrow-up"></i></button><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3>
<script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3></script>
<script type=text/javascript>window.setupDocSearch=function(e){if(!window.docsearch)return;docsearch({appId:"OK3ZBQ5982",apiKey:"500c85ccecb335d507fe4449aed12e1d",indexName:"arangodbdocs",insights:!0,container:"#searchbox",debug:!1,maxResultsPerGroup:10,searchParameters:{facetFilters:[`version:${e}`]}})}</script></body></html>