<!doctype html><html lang=en><head><link href=//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css rel=stylesheet><link href=//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css rel=stylesheet><link href=/css/fontawesome-all.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fontawesome-all.min.css rel=stylesheet></noscript><link href=/css/featherlight.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/featherlight.min.css rel=stylesheet></noscript><link href=/css/nucleus.css rel=stylesheet><link href=/css/fonts.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fonts.css rel=stylesheet></noscript><link href=/css/theme.css rel=stylesheet><link href=/css/theme-relearn-light.css rel=stylesheet id=variant-style><link href=/css/print.css rel=stylesheet media=print><script src=/js/variant.js?1747031427></script>
<script>var root_url="/",baseUriFull,baseUri=root_url.replace(/\/$/,"");window.T_Copy_to_clipboard="",window.T_Copied_to_clipboard="",window.T_Copy_link_to_clipboard="",window.T_Link_copied_to_clipboard="",baseUriFull="http://localhost/",window.variants&&variants.init(["relearn-light"])</script><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.119.0"><meta itemprop=description property="description" content="The HTTP API for AQL queries lets you to execute, track, kill, explain, and validate queries written in ArangoDB&amp;rsquo;s query language"><meta property="og:url" content="http://localhost/3.11/develop/http-api/queries/aql-queries/"><meta property="og:title" content="HTTP interfaces for AQL queries"><meta property="og:type" content="website"><meta property="og:description" content="The HTTP API for AQL queries lets you to execute, track, kill, explain, and validate queries written in ArangoDB&amp;rsquo;s query language"><meta name=docsearch:version content="3.11"><title>HTTP interfaces for AQL queries | ArangoDB Documentation</title><link href=/images/favicon.png rel=icon type=image/png><script src=/js/jquery.min.js></script>
<script src=/js/clipboard.min.js?1747031427 defer></script>
<script src=/js/featherlight.min.js?1747031427 defer></script>
<script>var versions=[{alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"},{alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"},{alias:"3.11",deprecated:!1,name:"3.11",version:"3.11.13"},{alias:"3.10",deprecated:!0,name:"3.10",version:"3.10.14"}]</script><script>var develVersion={alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"}</script><script>var stableVersion={alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"}</script><script src=/js/codeblocks.js?1747031427 defer></script>
<script src=/js/theme.js?1747031427 defer></script></head><body><noscript>You need to enable JavaScript to use the ArangoDB documentation.</noscript><div id=page-wrapper class=page_content_splash style=height:auto;opacity:0><section id=page-main><section class=page-container id=page-container><header id=header style="transition:.5s padding ease-out,.15s" class="zn_header_white header-splash-new nav-down header-splash-wrap header1"><div class=header-block-left><div class=mobile-menu-toggle><button id=sidebar-toggle-navigation onclick=showSidebarHandler()><svg width="1.33em" height="1.33em" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button></div><div class=version-logo-container><div class="logo-container hasinfocard_img arangodb-logo-large"><div class=logo><a href=https://www.arangodb.com/><img src=/images/logo_main.png alt=ArangoDB title></a></div></div><div class=arangodb-logo-small><a href=https://arangodb.com/><img alt="ArangoDB Logo" src=/images/ArangoDB_Logo_White_small.png></a></div></div></div><div class=container-right style=display:hidden></div><div class=search-and-version-container><a href=# class="home-link is-current" aria-label="Go to home page" onclick=goToHomepage(event)></a><div id=searchbox></div><script type=text/javascript>const SCRIPT_SRC="https://unpkg.com/@inkeep/widgets-embed@0.2.290/dist/embed.js";function loadAndInitializeInkeep(){if(document.querySelector(`script[src="${SCRIPT_SRC}]"`))return;const e=document.createElement("script");e.type="module",e.src=SCRIPT_SRC,e.onload=initializeInkeep,document.head.appendChild(e)}function initializeInkeep(){const e=Inkeep({integrationId:"clo4lx6jk0000s601cp21x2ok",apiKey:"13b4e56966a76e86c6ff359cd795ee6a0412f751d75d6383",organizationId:"org_HGBkkzGAa4KeGJGh",organizationDisplayName:"ArangoDB",primaryBrandColor:"#80a54d",stringReplacementRules:[{matchingRule:{ruleType:"Substring",string:"Arangograph"},replaceWith:"ArangoGraph"},{matchingRule:{ruleType:"Substring",string:"Aql"},replaceWith:"AQL"},{matchingRule:{ruleType:"Substring",string:"Arangodb"},replaceWith:"ArangoDB"}],customCardSettings:[{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arango.qubitpi.org"}},searchTabLabel:"Official Docs"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"developer.arangodb.com"}},searchTabLabel:"Developer Hub"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arangodb.com"}},searchTabLabel:"Home"}]}),t=e.embed({componentType:"ChatButton",properties:{stylesheetUrls:["/css/fonts.css"],fixedPositionXOffset:"52px",baseSettings:{theme:{primaryColors:{textColorOnPrimary:"white"},tokens:{fonts:{body:"'Inter'",heading:"'Inter'"},zIndex:{overlay:1e4,modal:11e3,popover:12e3,skipLink:13e3,toast:14e3,tooltip:15e3}}}},aiChatSettings:{botAvatarSrcUrl:"/images/ArangoDB_Logo_White_small.png",quickQuestions:["What can you do with AQL that is not feasible with SQL?","How do I search for objects within arrays?","Where can I deploy my ArangoDB instance?"],getHelpCallToActions:[{icon:{builtIn:"FaSlack"},name:"Slack",url:"https://arangodb-community.slack.com/"}]},searchSettings:{tabSettings:{isAllTabEnabled:!1,alwaysDisplayedTabs:["Official Docs","Developer Hub","Home"]}}}})}loadAndInitializeInkeep()</script><div class=version-selector><select id=arangodb-version onchange=changeVersion()><option value=3.13>3.13</option><option value=3.12>3.12</option><option value=3.11>3.11</option><option value=3.10>3.10</option><option value=3.9>3.9</option><option value=3.8>3.8</option></select></div></div></header><iframe src=/nav.html title=description id=menu-iframe class="menu-iframe active" style=opacity:0></iframe><div class=container-main><div class=row-main><nav id=breadcrumbs><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><meta itemprop=itemListOrder content="Descending"><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="3.11"><a itemprop=item class=link href=/3.11/><span itemprop=name class=breadcrumb-entry>3.11.13</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Develop"><a itemprop=item class=link href=/3.11/develop/><span itemprop=name class=breadcrumb-entry>Develop</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="HTTP API"><a itemprop=item class=link href=/3.11/develop/http-api/><span itemprop=name class=breadcrumb-entry>HTTP API</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Queries"><a itemprop=item class=link href=/3.11/develop/http-api/queries/><span itemprop=name class=breadcrumb-entry>Queries</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="AQL queries"><a itemprop=item class=link href=/3.11/develop/http-api/queries/aql-queries/><span itemprop=name class=breadcrumb-entry>AQL queries</span></a></li></ol></nav><article class=default><hgroup><h1>HTTP interfaces for AQL queries</h1><p class=lead>The HTTP API for AQL queries lets you to execute, track, kill, explain, and validate queries written in ArangoDB&rsquo;s query language</p></hgroup><h2 id=cursors>Cursors <a href=/3.11/develop/http-api/queries/aql-queries/#cursors class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>Results of AQL queries are returned as cursors in order to batch the communication
between server and client. Each batch contains a number of documents and an
indication if the current batch is the final batch. Depending on the query, the
total number of documents in the result set may or may not be known in advance.</p><p>If the number of documents doesn&rsquo;t exceed the batch size, the full query result
is returned to the client in a single round-trip. If there are more documents,
then the first batch is returned to the client and the client needs to use the
cursor to retrieve the other batches.</p><p>In order to free up server resources, the client should delete a cursor as soon
as it is no longer needed.</p><h3 id=single-roundtrip>Single roundtrip <a href=/3.11/develop/http-api/queries/aql-queries/#single-roundtrip class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>The server only transfers a certain number of result documents back to the
client in one roundtrip. This number is controllable by the client by setting
the <code>batchSize</code> attribute when issuing the query.</p><p>If the complete result can be transferred to the client in one go, the client
does not need to issue any further request. The client can check whether it has
retrieved the complete result set by checking the <code>hasMore</code> attribute of the
result set. If it is set to <code>false</code>, then the client has fetched the complete
result set from the server. In this case, no server-side cursor is created.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>&gt;</span> <span class=nx>curl</span> <span class=o>--</span><span class=nx>data</span> <span class=err>@</span><span class=o>-</span> <span class=o>-</span><span class=nx>X</span> <span class=nx>POST</span> <span class=o>--</span><span class=nx>dump</span> <span class=o>-</span> <span class=nx>http</span><span class=o>:</span><span class=c1>//localhost:8529/_api/cursor
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>{</span> <span class=s2>&#34;query&#34;</span> <span class=o>:</span> <span class=s2>&#34;FOR u IN users LIMIT 2 RETURN u&#34;</span><span class=p>,</span> <span class=s2>&#34;count&#34;</span> <span class=o>:</span> <span class=kc>true</span><span class=p>,</span> <span class=s2>&#34;batchSize&#34;</span> <span class=o>:</span> <span class=mi>2</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>HTTP</span><span class=o>/</span><span class=mf>1.1</span> <span class=mi>201</span> <span class=nx>Created</span>
</span></span><span class=line><span class=cl><span class=nx>Content</span><span class=o>-</span><span class=nx>type</span><span class=o>:</span> <span class=nx>application</span><span class=o>/</span><span class=nx>json</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;hasMore&#34;</span> <span class=o>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;error&#34;</span> <span class=o>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;result&#34;</span> <span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;name&#34;</span> <span class=o>:</span> <span class=s2>&#34;user1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;210304551&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;210304551&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;users/210304551&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;name&#34;</span> <span class=o>:</span> <span class=s2>&#34;user2&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;210304552&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;210304552&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;users/210304552&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;code&#34;</span> <span class=o>:</span> <span class=mi>201</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;count&#34;</span> <span class=o>:</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><h3 id=using-a-cursor>Using a cursor <a href=/3.11/develop/http-api/queries/aql-queries/#using-a-cursor class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>If the result set contains more documents than should be transferred in a single
roundtrip (i.e. as set via the <code>batchSize</code> attribute), the server returns
the first few documents and creates a temporary cursor. The cursor identifier
is also returned to the client. The server puts the cursor identifier
in the <code>id</code> attribute of the response object. Furthermore, the <code>hasMore</code>
attribute of the response object is set to <code>true</code>. This is an indication
for the client that there are additional results to fetch from the server.</p><p><strong>Examples</strong></p><p>Create and extract first batch:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>&gt;</span> <span class=nx>curl</span> <span class=o>--</span><span class=nx>data</span> <span class=err>@</span><span class=o>-</span> <span class=o>-</span><span class=nx>X</span> <span class=nx>POST</span> <span class=o>--</span><span class=nx>dump</span> <span class=o>-</span> <span class=nx>http</span><span class=o>:</span><span class=c1>//localhost:8529/_api/cursor
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>{</span> <span class=s2>&#34;query&#34;</span> <span class=o>:</span> <span class=s2>&#34;FOR u IN users LIMIT 5 RETURN u&#34;</span><span class=p>,</span> <span class=s2>&#34;count&#34;</span> <span class=o>:</span> <span class=kc>true</span><span class=p>,</span> <span class=s2>&#34;batchSize&#34;</span> <span class=o>:</span> <span class=mi>2</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>HTTP</span><span class=o>/</span><span class=mf>1.1</span> <span class=mi>201</span> <span class=nx>Created</span>
</span></span><span class=line><span class=cl><span class=nx>Content</span><span class=o>-</span><span class=nx>type</span><span class=o>:</span> <span class=nx>application</span><span class=o>/</span><span class=nx>json</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;hasMore&#34;</span> <span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;error&#34;</span> <span class=o>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;id&#34;</span> <span class=o>:</span> <span class=s2>&#34;26011191&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;result&#34;</span> <span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;name&#34;</span> <span class=o>:</span> <span class=s2>&#34;user1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;258801191&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;258801191&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;users/258801191&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;name&#34;</span> <span class=o>:</span> <span class=s2>&#34;user2&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;258801192&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;258801192&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;users/258801192&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;code&#34;</span> <span class=o>:</span> <span class=mi>201</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;count&#34;</span> <span class=o>:</span> <span class=mi>5</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>Extract next batch, still have more:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>&gt;</span> <span class=nx>curl</span> <span class=o>-</span><span class=nx>X</span> <span class=nx>POST</span> <span class=o>--</span><span class=nx>dump</span> <span class=o>-</span> <span class=nx>http</span><span class=o>:</span><span class=c1>//localhost:8529/_api/cursor/26011191
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=nx>HTTP</span><span class=o>/</span><span class=mf>1.1</span> <span class=mi>200</span> <span class=nx>OK</span>
</span></span><span class=line><span class=cl><span class=nx>Content</span><span class=o>-</span><span class=nx>type</span><span class=o>:</span> <span class=nx>application</span><span class=o>/</span><span class=nx>json</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;hasMore&#34;</span> <span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;error&#34;</span> <span class=o>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;id&#34;</span> <span class=o>:</span> <span class=s2>&#34;26011191&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;result&#34;</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;name&#34;</span> <span class=o>:</span> <span class=s2>&#34;user3&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;258801193&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;258801193&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;users/258801193&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;name&#34;</span> <span class=o>:</span> <span class=s2>&#34;user4&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;258801194&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;258801194&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;users/258801194&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;code&#34;</span> <span class=o>:</span> <span class=mi>200</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;count&#34;</span> <span class=o>:</span> <span class=mi>5</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>Extract next batch, done:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>&gt;</span> <span class=nx>curl</span> <span class=o>-</span><span class=nx>X</span> <span class=nx>POST</span> <span class=o>--</span><span class=nx>dump</span> <span class=o>-</span> <span class=nx>http</span><span class=o>:</span><span class=c1>//localhost:8529/_api/cursor/26011191
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=nx>HTTP</span><span class=o>/</span><span class=mf>1.1</span> <span class=mi>200</span> <span class=nx>OK</span>
</span></span><span class=line><span class=cl><span class=nx>Content</span><span class=o>-</span><span class=nx>type</span><span class=o>:</span> <span class=nx>application</span><span class=o>/</span><span class=nx>json</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;hasMore&#34;</span> <span class=o>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;error&#34;</span> <span class=o>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;result&#34;</span> <span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;name&#34;</span> <span class=o>:</span> <span class=s2>&#34;user5&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;258801195&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;258801195&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;users/258801195&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;code&#34;</span> <span class=o>:</span> <span class=mi>200</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;count&#34;</span> <span class=o>:</span> <span class=mi>5</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>Do not do this because <code>hasMore</code> now has a value of false:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>&gt;</span> <span class=nx>curl</span> <span class=o>-</span><span class=nx>X</span> <span class=nx>POST</span> <span class=o>--</span><span class=nx>dump</span> <span class=o>-</span> <span class=nx>http</span><span class=o>:</span><span class=c1>//localhost:8529/_api/cursor/26011191
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=nx>HTTP</span><span class=o>/</span><span class=mf>1.1</span> <span class=mi>404</span> <span class=nx>Not</span> <span class=nx>Found</span>
</span></span><span class=line><span class=cl><span class=nx>Content</span><span class=o>-</span><span class=nx>type</span><span class=o>:</span> <span class=nx>application</span><span class=o>/</span><span class=nx>json</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;errorNum&#34;</span><span class=o>:</span> <span class=mi>1600</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;errorMessage&#34;</span><span class=o>:</span> <span class=s2>&#34;cursor not found: disposed or unknown cursor&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;error&#34;</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;code&#34;</span><span class=o>:</span> <span class=mi>404</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>The response object contains a <code>nextBatchId</code> attribute, except for the last batch
(when <code>hasMore</code> is <code>false</code>). If the <code>allowRetry</code> query option is set to <code>true</code>
and if retrieving a result batch fails because of a connection issue, you
can ask for that batch again using the <code>POST /_api/cursor/&lt;cursor-id>/&lt;batch-id></code>
endpoint. The first batch has an ID of <code>1</code> and the value is incremented by 1
with every batch. Every result response except the last one also includes a
<code>nextBatchId</code> attribute, indicating the ID of the batch after the current.
You can remember and use this batch ID should retrieving the next batch fail.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>&gt;</span> <span class=nx>curl</span> <span class=o>--</span><span class=nx>data</span> <span class=err>@</span><span class=o>-</span> <span class=o>-</span><span class=nx>X</span> <span class=nx>POST</span> <span class=o>--</span><span class=nx>dump</span> <span class=o>-</span> <span class=nx>http</span><span class=o>:</span><span class=c1>//localhost:8529/_api/cursor
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>{</span> <span class=s2>&#34;query&#34;</span><span class=o>:</span> <span class=s2>&#34;FOR i IN 1..5 RETURN i&#34;</span><span class=p>,</span> <span class=s2>&#34;batchSize&#34;</span><span class=o>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>&#34;options&#34;</span><span class=o>:</span> <span class=p>{</span> <span class=s2>&#34;allowRetry&#34;</span><span class=o>:</span> <span class=kc>true</span> <span class=p>}</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>HTTP</span><span class=o>/</span><span class=mf>1.1</span> <span class=mi>201</span> <span class=nx>Created</span>
</span></span><span class=line><span class=cl><span class=nx>Content</span><span class=o>-</span><span class=nx>type</span><span class=o>:</span> <span class=nx>application</span><span class=o>/</span><span class=nx>json</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;result&#34;</span><span class=o>:</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;hasMore&#34;</span><span class=o>:</span><span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;id&#34;</span><span class=o>:</span><span class=s2>&#34;3517&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;nextBatchId&#34;</span><span class=o>:</span><span class=mi>2</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;cached&#34;</span><span class=o>:</span><span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;error&#34;</span><span class=o>:</span><span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;code&#34;</span><span class=o>:</span><span class=mi>201</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>Fetching the second batch would look like this:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>&gt;</span> <span class=nx>curl</span> <span class=o>-</span><span class=nx>X</span> <span class=nx>POST</span> <span class=o>--</span><span class=nx>dump</span> <span class=o>-</span> <span class=nx>http</span><span class=o>:</span><span class=c1>//localhost:8529/_api/cursor/3517
</span></span></span></code></pre></div><p>Assuming the above request fails because of a connection issue but advances the
cursor nonetheless, you can retry fetching the batch using the <code>nextBatchId</code> of
the first request (<code>2</code>):</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>curl</span> <span class=o>-</span><span class=nx>X</span> <span class=nx>POST</span> <span class=o>--</span><span class=nx>dump</span> <span class=nx>http</span><span class=o>:</span><span class=c1>//localhost:8529/_api/cursor/3517/2
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;result&#34;</span><span class=o>:</span><span class=p>[</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;hasMore&#34;</span><span class=o>:</span><span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;id&#34;</span><span class=o>:</span><span class=s2>&#34;3517&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;nextBatchId&#34;</span><span class=o>:</span><span class=mi>3</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;cached&#34;</span><span class=o>:</span><span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;error&#34;</span><span class=o>:</span><span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;code&#34;</span><span class=o>:</span><span class=mi>200</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>To allow refetching of the last batch of the query, the server cannot
automatically delete the cursor. After the first attempt of fetching the last
batch, the server would normally delete the cursor to free up resources. As you
might need to reattempt the fetch, it needs to keep the final batch when the
<code>allowRetry</code> option is enabled. Once you successfully received the last batch,
you should call the <code>DELETE /_api/cursor/&lt;cursor-id></code> endpoint so that the
server doesn&rsquo;t unnecessarily keep the batch until the cursor times out
(<code>ttl</code> query option).</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>curl</span> <span class=o>-</span><span class=nx>X</span> <span class=nx>POST</span> <span class=o>--</span><span class=nx>dump</span> <span class=nx>http</span><span class=o>:</span><span class=c1>//localhost:8529/_api/cursor/3517/3
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;result&#34;</span><span class=o>:</span><span class=p>[</span><span class=mi>5</span><span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;hasMore&#34;</span><span class=o>:</span><span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;id&#34;</span><span class=o>:</span><span class=s2>&#34;3517&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;cached&#34;</span><span class=o>:</span><span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;error&#34;</span><span class=o>:</span><span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;code&#34;</span><span class=o>:</span><span class=mi>200</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>curl</span> <span class=o>-</span><span class=nx>X</span> <span class=nx>DELETE</span> <span class=o>--</span><span class=nx>dump</span> <span class=nx>http</span><span class=o>:</span><span class=c1>//localhost:8529/_api/cursor/3517
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;id&#34;</span><span class=o>:</span><span class=s2>&#34;3517&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;error&#34;</span><span class=o>:</span><span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;code&#34;</span><span class=o>:</span><span class=mi>202</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>If you are no longer interested in the results of a query, you can call the
<code>DELETE /_api/cursor/&lt;cursor-id></code> endpoint as long as a cursor exists to discard
the cursor, even before you requested the last batch.</p><h2 id=execute-aql-queries>Execute AQL queries <a href=/3.11/develop/http-api/queries/aql-queries/#execute-aql-queries class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><h3 id=create-a-cursor>Create a cursor <a href=/3.11/develop/http-api/queries/aql-queries/#create-a-cursor class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><div class=openapi><div class=endpoint><span class="endpoint-method regular-font bold-text method-post">POST</span>
<span class=endpoint-path>/_db/{database-name}/_api/cursor</span></div><div class="openapi-description regular-font"><p>Submits an AQL query for execution in the current database. The server returns
a result batch and may indicate that further batches need to be fetched using
a cursor identifier.</p><p>The query details include the query string plus optional query options and
bind parameters. These values need to be passed in a JSON representation in
the body of the POST request.</p></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Path Parameters</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=create-a-cursor_path_database-name><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">database-name*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#create-a-cursor_path_database-name><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The name of the database.</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Query Parameters</div><div><ul class=openapi-table></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>HTTP Headers</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=create-a-cursor_header_x-arango-allow-dirty-read><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">x-arango-allow-dirty-read</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#create-a-cursor_header_x-arango-allow-dirty-read><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>Set this header to <code>true</code> to allow the Coordinator to ask any shard replica for
the data, not only the shard leader. This may result in &ldquo;dirty reads&rdquo;.</p><p>The header is ignored if this operation is part of a Stream Transaction
(<code>x-arango-trx-id</code> header). The header set when creating the transaction decides
about dirty reads for the entire transaction, not the individual read operations.</p></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_header_x-arango-trx-id><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">x-arango-trx-id</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#create-a-cursor_header_x-arango-trx-id><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>To make this operation a part of a Stream Transaction, set this header to the
transaction ID returned by the <code>POST /_api/transaction/begin</code> call.</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Request Body <span class=openapi-content-type>application/json</span> <span class=openapi-property-type>object</span></div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=create-a-cursor_body_batchSize><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">batchSize</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-a-cursor_body_batchSize><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>maximum number of result documents to be transferred from
the server to the client in one roundtrip. If this attribute is
not set, a server-controlled default value will be used. A <code>batchSize</code> value of
<code>0</code> is disallowed.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_body_bindVars><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">bindVars</span>
<span class=openapi-property-type><span class=bold-text>object</span></span>
<a href=#create-a-cursor_body_bindVars><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>An object with key/value pairs representing the bind parameters.
For a bind variable <code>@var</code> in the query, specify the value using an attribute
with the name <code>var</code>. For a collection bind variable <code>@@coll</code>, use <code>@coll</code> as the
attribute name. For example: <code>"bindVars": { "var": 42, "@coll": "products" }</code>.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_body_count><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">count</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#create-a-cursor_body_count><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>indicates whether the number of documents in the result set should be returned in
the &ldquo;count&rdquo; attribute of the result.
Calculating the &ldquo;count&rdquo; attribute might have a performance impact for some queries
in the future so this option is turned off by default, and &ldquo;count&rdquo;
is only returned when requested.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_body_memoryLimit><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">memoryLimit</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-a-cursor_body_memoryLimit><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>the maximum number of memory (measured in bytes) that the query is allowed to
use. If set, then the query will fail with error &ldquo;resource limit exceeded&rdquo; in
case it allocates too much memory. A value of <code>0</code> indicates that there is no
memory limit.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_body_options><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">options</span>
<span class=openapi-property-type><span class=bold-text>object</span></span>
<a href=#create-a-cursor_body_options><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>key/value object with extra options for the query.</p><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=create-a-cursor_body_options_allowDirtyReads><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">allowDirtyReads</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#create-a-cursor_body_options_allowDirtyReads><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>If you set this option to <code>true</code> and execute the query against a cluster
deployment, then the Coordinator is allowed to read from any shard replica and
not only from the leader.</p><p>You may observe data inconsistencies (dirty reads) when reading from followers,
namely obsolete revisions of documents because changes have not yet been
replicated to the follower, as well as changes to documents before they are
officially committed on the leader.</p><p>This feature is only available in the Enterprise Edition.</p></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_body_options_allowRetry><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">allowRetry</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#create-a-cursor_body_options_allowRetry><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>Set this option to <code>true</code> to make it possible to retry
fetching the latest batch from a cursor. The default is <code>false</code>.</p><p>If retrieving a result batch fails because of a connection issue, you can ask
for that batch again using the <code>POST /_api/cursor/&lt;cursor-id>/&lt;batch-id></code>
endpoint. The first batch has an ID of <code>1</code> and the value is incremented by 1
with every batch. Every result response except the last one also includes a
<code>nextBatchId</code> attribute, indicating the ID of the batch after the current.
You can remember and use this batch ID should retrieving the next batch fail.</p><p>You can only request the latest batch again (or the next batch).
Earlier batches are not kept on the server-side.
Requesting a batch again does not advance the cursor.</p><p>You can also call this endpoint with the next batch identifier, i.e. the value
returned in the <code>nextBatchId</code> attribute of a previous request. This advances the
cursor and returns the results of the next batch. This is only supported if there
are more results in the cursor (i.e. <code>hasMore</code> is <code>true</code> in the latest batch).</p><p>From v3.11.1 onward, you may use the <code>POST /_api/cursor/&lt;cursor-id>/&lt;batch-id></code>
endpoint even if the <code>allowRetry</code> attribute is <code>false</code> to fetch the next batch,
but you cannot request a batch again unless you set it to <code>true</code>.</p><p>To allow refetching of the very last batch of the query, the server cannot
automatically delete the cursor. After the first attempt of fetching the last
batch, the server would normally delete the cursor to free up resources. As you
might need to reattempt the fetch, it needs to keep the final batch when the
<code>allowRetry</code> option is enabled. Once you successfully received the last batch,
you should call the <code>DELETE /_api/cursor/&lt;cursor-id></code> endpoint so that the
server doesn&rsquo;t unnecessarily keep the batch until the cursor times out
(<code>ttl</code> query option).</p></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_body_options_cache><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">cache</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#create-a-cursor_body_options_cache><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>Whether the <a href=/3.11/aql/execution-and-performance/caching-query-results/ class=link>AQL query results cache</a>
shall be used for adding as well as for retrieving results.</p><p>If the query cache mode is set to <code>demand</code> and you set the <code>cache</code> query option
to <code>true</code> for a query, then its query result is cached if it&rsquo;s eligible for
caching. If the query cache mode is set to <code>on</code>, query results are automatically
cached if they are eligible for caching unless you set the <code>cache</code> option to <code>false</code>.</p><p>If you set the <code>cache</code> option to <code>false</code>, then any query cache lookup is skipped
for the query. If you set it to <code>true</code>, the query cache is checked for a cached result
<strong>if</strong> the query cache mode is either set to <code>on</code> or <code>demand</code>.</p></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_body_options_failOnWarning><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">failOnWarning</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#create-a-cursor_body_options_failOnWarning><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>When set to <code>true</code>, the query will throw an exception and abort instead of producing
a warning. This option should be used during development to catch potential issues
early. When the attribute is set to <code>false</code>, warnings will not be propagated to
exceptions and will be returned with the query result.
There is also a server configuration option <code>--query.fail-on-warning</code> for setting the
default value for <code>failOnWarning</code> so it does not need to be set on a per-query level.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_body_options_fillBlockCache><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">fillBlockCache</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#create-a-cursor_body_options_fillBlockCache><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>if set to <code>true</code> or not specified, this will make the query store the data it
reads via the RocksDB storage engine in the RocksDB block cache. This is usually
the desired behavior. The option can be set to <code>false</code> for queries that are
known to either read a lot of data which would thrash the block cache, or for queries
that read data which are known to be outside of the hot set. By setting the option
to <code>false</code>, data read by the query will not make it into the RocksDB block cache if
not already in there, thus leaving more room for the actual hot set.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_body_options_fullCount><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">fullCount</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#create-a-cursor_body_options_fullCount><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>if set to <code>true</code> and the query contains a <code>LIMIT</code> clause, then the
result will have an <code>extra</code> attribute with the sub-attributes <code>stats</code>
and <code>fullCount</code>, <code>{ ... , "extra": { "stats": { "fullCount": 123 } } }</code>.
The <code>fullCount</code> attribute will contain the number of documents in the result before the
last top-level LIMIT in the query was applied. It can be used to count the number of
documents that match certain filter criteria, but only return a subset of them, in one go.
It is thus similar to MySQL&rsquo;s <em>SQL_CALC_FOUND_ROWS</em> hint. Note that setting the option
will disable a few LIMIT optimizations and may lead to more documents being processed,
and thus make queries run longer. Note that the <code>fullCount</code> attribute may only
be present in the result if the query has a top-level LIMIT clause and the LIMIT
clause is actually used in the query.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_body_options_intermediateCommitCount><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">intermediateCommitCount</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-a-cursor_body_options_intermediateCommitCount><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The maximum number of operations after which an intermediate commit is performed
automatically.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_body_options_intermediateCommitSize><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">intermediateCommitSize</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-a-cursor_body_options_intermediateCommitSize><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The maximum total size of operations after which an intermediate commit is performed
automatically.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_body_options_maxDNFConditionMembers><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">maxDNFConditionMembers</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-a-cursor_body_options_maxDNFConditionMembers><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>A threshold for the maximum number of <code>OR</code> sub-nodes in the internal
representation of an AQL <code>FILTER</code> condition.</p><p>Yon can use this option to limit the computation time and memory usage when
converting complex AQL <code>FILTER</code> conditions into the internal DNF
(disjunctive normal form) format. <code>FILTER</code> conditions with a lot of logical
branches (<code>AND</code>, <code>OR</code>, <code>NOT</code>) can take a large amount of processing time and
memory. This query option limits the computation time and memory usage for
such conditions.</p><p>Once the threshold value is reached during the DNF conversion of a <code>FILTER</code>
condition, the conversion is aborted, and the query continues with a simplified
internal representation of the condition, which <strong>cannot be used for index lookups</strong>.</p><p>You can set the threshold globally instead of per query with the
<code>--query.max-dnf-condition-members</code> startup option.</p></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_body_options_maxNodesPerCallstack><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">maxNodesPerCallstack</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-a-cursor_body_options_maxNodesPerCallstack><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>The number of execution nodes in the query plan after that stack splitting is
performed to avoid a potential stack overflow. Defaults to the configured value
of the startup option <code>--query.max-nodes-per-callstack</code>.</p><p>This option is only useful for testing and debugging and normally does not need
any adjustment.</p></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_body_options_maxNumberOfPlans><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">maxNumberOfPlans</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-a-cursor_body_options_maxNumberOfPlans><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>Limits the maximum number of plans that are created by the AQL query optimizer.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_body_options_maxRuntime><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">maxRuntime</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#create-a-cursor_body_options_maxRuntime><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The query has to be executed within the given runtime or it is killed.
The value is specified in seconds. The default value is <code>0.0</code> (no timeout).</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_body_options_maxTransactionSize><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">maxTransactionSize</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-a-cursor_body_options_maxTransactionSize><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The transaction size limit in bytes.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_body_options_maxWarningCount><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">maxWarningCount</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-a-cursor_body_options_maxWarningCount><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>Limits the maximum number of warnings a query will return. The number of warnings
a query will return is limited to 10 by default, but that number can be increased
or decreased by setting this attribute.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_body_options_optimizer><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">optimizer</span>
<span class=openapi-property-type><span class=bold-text>object</span></span>
<a href=#create-a-cursor_body_options_optimizer><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>Options related to the query optimizer.</p><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=create-a-cursor_body_options_optimizer_rules><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">rules</span>
<span class=openapi-property-type><span class=bold-text>array of strings</span></span>
<a href=#create-a-cursor_body_options_optimizer_rules><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>A list of to-be-included or to-be-excluded optimizer rules can be put into this
attribute, telling the optimizer to include or exclude specific rules. To disable
a rule, prefix its name with a <code>-</code>, to enable a rule, prefix it with a <code>+</code>. There is
also a pseudo-rule <code>all</code>, which matches all optimizer rules. <code>-all</code> disables all rules.</p></div></details></li></ul></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_body_options_profile><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">profile</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-a-cursor_body_options_profile><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>If set to <code>true</code> or <code>1</code>, then the additional query profiling information is returned
in the <code>profile</code> sub-attribute of the <code>extra</code> return attribute, unless the query result
is served from the query results cache. If set to <code>2</code>, the query includes execution stats
per query plan node in <code>stats.nodes</code> sub-attribute of the <code>extra</code> return attribute.
Additionally, the query plan is returned in the <code>extra.plan</code> sub-attribute.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_body_options_satelliteSyncWait><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">satelliteSyncWait</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#create-a-cursor_body_options_satelliteSyncWait><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>This <em>Enterprise Edition</em> parameter allows to configure how long a DB-Server has time
to bring the SatelliteCollections involved in the query into sync.
The default value is <code>60.0</code> seconds. When the maximal time is reached, the query
is stopped.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_body_options_skipInaccessibleCollections><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">skipInaccessibleCollections</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#create-a-cursor_body_options_skipInaccessibleCollections><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>Let AQL queries (especially graph traversals) treat collections to which a user
has no access rights for as if these collections are empty. Instead of returning a
forbidden access error, your queries execute normally. This is intended to help
with certain use-cases: A graph contains several collections and different users
execute AQL queries on that graph. You can naturally limit the accessible
results by changing the access rights of users on collections.</p><p>This feature is only available in the Enterprise Edition.</p></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_body_options_spillOverThresholdMemoryUsage><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">spillOverThresholdMemoryUsage</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-a-cursor_body_options_spillOverThresholdMemoryUsage><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>This option allows queries to store intermediate and final results temporarily
on disk if the amount of memory used (in bytes) exceeds the specified value.
This is used for decreasing the memory usage during the query execution.</p><p>This option only has an effect on queries that use the <code>SORT</code> operation but
without a <code>LIMIT</code>, and if you enable the spillover feature by setting a path
for the directory to store the temporary data in with the
<code>--temp.intermediate-results-path</code> startup option.</p><p>Default value: 128MB.</p><div class="box notices cstyle info"><div class=box-content-container><div class=box-content><i class="fas fa-info-circle"></i><div class=box-text>Spilling data from RAM onto disk is an experimental feature and is turned off
by default. The query results are still built up entirely in RAM on Coordinators
and single servers for non-streaming queries. To avoid the buildup of
the entire query result in RAM, use a streaming query (see the <code>stream</code> option).</div></div></div></div></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_body_options_spillOverThresholdNumRows><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">spillOverThresholdNumRows</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-a-cursor_body_options_spillOverThresholdNumRows><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>This option allows queries to store intermediate and final results temporarily
on disk if the number of rows produced by the query exceeds the specified value.
This is used for decreasing the memory usage during the query execution. In a
query that iterates over a collection that contains documents, each row is a
document, and in a query that iterates over temporary values
(i.e. <code>FOR i IN 1..100</code>), each row is one of such temporary values.</p><p>This option only has an effect on queries that use the <code>SORT</code> operation but
without a <code>LIMIT</code>, and if you enable the spillover feature by setting a path
for the directory to store the temporary data in with the
<code>--temp.intermediate-results-path</code> startup option.</p><p>Default value: <code>5000000</code> rows.</p><div class="box notices cstyle info"><div class=box-content-container><div class=box-content><i class="fas fa-info-circle"></i><div class=box-text>Spilling data from RAM onto disk is an experimental feature and is turned off
by default. The query results are still built up entirely in RAM on Coordinators
and single servers for non-streaming queries. To avoid the buildup of
the entire query result in RAM, use a streaming query (see the <code>stream</code> option).</div></div></div></div></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_body_options_stream><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">stream</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#create-a-cursor_body_options_stream><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>Can be enabled to execute the query lazily. If set to <code>true</code>, then the query is
executed as long as necessary to produce up to <code>batchSize</code> results. These
results are returned immediately and the query is suspended until the client
asks for the next batch (if there are more results). Depending on the query
this can mean that the first results will be available much faster and that
less memory is needed because the server only needs to store a subset of
results at a time. Read-only queries can benefit the most, unless <code>SORT</code>
without index or <code>COLLECT</code> are involved that make it necessary to process all
documents before a partial result can be returned. It is advisable to only use
this option for queries without exclusive locks.</p><p>Remarks:</p><ul><li>The query will hold resources until it ends (such as RocksDB snapshots, which
prevents compaction to some degree). Writes will be in memory until the query
is committed.</li><li>If existing documents are modified, then write locks are held on these
documents and other queries trying to modify the same documents will fail
because of this conflict.</li><li>A streaming query may fail late because of a conflict or for other reasons
after some batches were already returned successfully, possibly rendering the
results up to that point meaningless.</li><li>The query options <code>cache</code>, <code>count</code> and <code>fullCount</code> are not supported for
streaming queries.</li><li>Query statistics, profiling data and warnings are delivered as part of the
last batch.</li></ul><p>If the <code>stream</code> option is <code>false</code> (default), then the complete result of the
query is calculated before any of it is returned to the client. The server
stores the full result in memory (on the contacted Coordinator if in a cluster).
All other resources are freed immediately (locks, RocksDB snapshots). The query
will fail before it returns results in case of a conflict.</p></p></div></details></li></ul></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_body_query><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">query*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#create-a-cursor_body_query><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>contains the query string to be executed</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_body_ttl><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">ttl</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-a-cursor_body_ttl><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The time-to-live for the cursor (in seconds). If the result set is small enough
(less than or equal to <code>batchSize</code>) then results are returned right away.
Otherwise they are stored in memory and will be accessible via the cursor with
respect to the <code>ttl</code>. The cursor will be removed on the server automatically
after the specified amount of time. This is useful to ensure garbage collection
of cursors that are not fully fetched by clients. If not set, a server-defined
value will be used (default: 30 seconds).</p></div></details></li></ul></div></div><div class="responses regular-font"><div class=openapi-table-title>Responses</div><div class=openapi-responses><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">201</span>
<span class="openapi-property-type bold-text">Created</span>
<a href=#create-a-cursor_res_201><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned if the result set can be created by the server.</p><ul class=openapi-table><div class=openapi-table-title>Response Body <span class=openapi-content-type>application/json</span> <span class=openapi-property-type>object</span></div><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_cached><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">cached*</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#create-a-cursor_res_201_cached><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>A boolean flag indicating whether the query result was served
from the query results cache or not. If the query result is served from the query
cache, the <code>extra</code> attribute in the response does not contain the <code>stats</code>
and <code>profile</code> sub-attributes.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_code><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">code*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-a-cursor_res_201_code><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The HTTP status code.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_count><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">count</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-a-cursor_res_201_count><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The total number of result documents available (only
available if the query was executed with the <code>count</code> attribute set).</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_error><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">error*</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#create-a-cursor_res_201_error><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>A flag to indicate that an error occurred (<code>false</code> in this case).</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_extra><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">extra</span>
<span class=openapi-property-type><span class=bold-text>object</span></span>
<a href=#create-a-cursor_res_201_extra><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>An optional JSON object with extra information about the query result.</p><p>Only delivered as part of the first batch, or the last batch in case of a cursor
with the <code>stream</code> option enabled.</p></p><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_extra_plan><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">plan</span>
<span class=openapi-property-type><span class=bold-text>object</span></span>
<a href=#create-a-cursor_res_201_extra_plan><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The execution plan.</p><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_extra_plan_collections><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">collections*</span>
<span class=openapi-property-type><span class=bold-text>array of objects</span></span>
<a href=#create-a-cursor_res_201_extra_plan_collections><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>A list of the collections involved in the query. The list only includes the
collections that can statically be determined at query compile time.</p><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_extra_plan_collections_name><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">name*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#create-a-cursor_res_201_extra_plan_collections_name><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The collection name.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_extra_plan_collections_type><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">type*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#create-a-cursor_res_201_extra_plan_collections_type><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>How the collection is used.</p><p class=regular-font>Possible values: <code>"read"</code>, <code>"write"</code>, <code>"exclusive"</code></p></div></details></li></ul></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_extra_plan_estimatedCost><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">estimatedCost*</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#create-a-cursor_res_201_extra_plan_estimatedCost><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The estimated cost of the query.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_extra_plan_estimatedNrItems><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">estimatedNrItems*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-a-cursor_res_201_extra_plan_estimatedNrItems><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The estimated number of results.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_extra_plan_isModificationQuery><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">isModificationQuery*</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#create-a-cursor_res_201_extra_plan_isModificationQuery><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>Whether the query contains write operations.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_extra_plan_nodes><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">nodes*</span>
<span class=openapi-property-type><span class=bold-text>array of objects</span></span>
<a href=#create-a-cursor_res_201_extra_plan_nodes><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>A nested list of the execution plan nodes.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_extra_plan_rules><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">rules*</span>
<span class=openapi-property-type><span class=bold-text>array of strings</span></span>
<a href=#create-a-cursor_res_201_extra_plan_rules><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>A list with the names of the applied optimizer rules.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_extra_plan_variables><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">variables*</span>
<span class=openapi-property-type><span class=bold-text>array of objects</span></span>
<a href=#create-a-cursor_res_201_extra_plan_variables><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>All of the query variables, including user-created and internal ones.</p></div></details></li></ul></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_extra_profile><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">profile</span>
<span class=openapi-property-type><span class=bold-text>object</span></span>
<a href=#create-a-cursor_res_201_extra_profile><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The duration of the different query execution phases in seconds.</p><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_extra_profile_executing><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">executing*</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#create-a-cursor_res_201_extra_profile_executing><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_extra_profile_finalizing><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">finalizing*</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#create-a-cursor_res_201_extra_profile_finalizing><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_extra_profile_initializing><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">initializing*</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#create-a-cursor_res_201_extra_profile_initializing><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font></p></div></details></li><li class="openapi-table-row regular-font"><details id="create-a-cursor_res_201_extra_profile_instantiating executors"><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">instantiating executors*</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#create-a-cursor_res_201_extra_profile_instantiating%20executors><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font></p></div></details></li><li class="openapi-table-row regular-font"><details id="create-a-cursor_res_201_extra_profile_instantiating plan"><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">instantiating plan*</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#create-a-cursor_res_201_extra_profile_instantiating%20plan><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font></p></div></details></li><li class="openapi-table-row regular-font"><details id="create-a-cursor_res_201_extra_profile_loading collections"><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">loading collections*</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#create-a-cursor_res_201_extra_profile_loading%20collections><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font></p></div></details></li><li class="openapi-table-row regular-font"><details id="create-a-cursor_res_201_extra_profile_optimizing ast"><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">optimizing ast*</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#create-a-cursor_res_201_extra_profile_optimizing%20ast><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font></p></div></details></li><li class="openapi-table-row regular-font"><details id="create-a-cursor_res_201_extra_profile_optimizing plan"><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">optimizing plan*</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#create-a-cursor_res_201_extra_profile_optimizing%20plan><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_extra_profile_parsing><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">parsing*</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#create-a-cursor_res_201_extra_profile_parsing><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font></p></div></details></li></ul></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_extra_stats><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">stats*</span>
<span class=openapi-property-type><span class=bold-text>object</span></span>
<a href=#create-a-cursor_res_201_extra_stats><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>An object with query statistics.</p><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_extra_stats_cacheHits><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">cacheHits*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-a-cursor_res_201_extra_stats_cacheHits><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The total number of index entries read from in-memory caches for indexes
of type edge or persistent. This value is only non-zero when reading from indexes
that have an in-memory cache enabled, and when the query allows using the in-memory
cache (i.e. using equality lookups on all index attributes).</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_extra_stats_cacheMisses><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">cacheMisses*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-a-cursor_res_201_extra_stats_cacheMisses><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The total number of cache read attempts for index entries that could not
be served from in-memory caches for indexes of type edge or persistent. This value
is only non-zero when reading from indexes that have an in-memory cache enabled, the
query allows using the in-memory cache (i.e. using equality lookups on all index attributes)
and the looked up values are not present in the cache.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_extra_stats_cursorsCreated><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">cursorsCreated*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-a-cursor_res_201_extra_stats_cursorsCreated><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The total number of cursor objects created during query execution. Cursor
objects are created for index lookups.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_extra_stats_cursorsRearmed><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">cursorsRearmed*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-a-cursor_res_201_extra_stats_cursorsRearmed><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The total number of times an existing cursor object was repurposed.
Repurposing an existing cursor object is normally more efficient compared to destroying an
existing cursor object and creating a new one from scratch.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_extra_stats_executionTime><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">executionTime*</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#create-a-cursor_res_201_extra_stats_executionTime><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The query execution time (wall-clock time) in seconds.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_extra_stats_filtered><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">filtered*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-a-cursor_res_201_extra_stats_filtered><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The total number of documents removed after executing a filter condition
in a <code>FilterNode</code> or another node that post-filters data. Note that nodes of the
<code>IndexNode</code> type can also filter documents by selecting only the required index range
from a collection, and the <code>filtered</code> value only indicates how much filtering was done by a
post filter in the <code>IndexNode</code> itself or following <code>FilterNode</code> nodes.
Nodes of the <code>EnumerateCollectionNode</code> and <code>TraversalNode</code> types can also apply
filter conditions and can report the number of filtered documents.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_extra_stats_fullCount><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">fullCount</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-a-cursor_res_201_extra_stats_fullCount><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The total number of documents that matched the search condition if the query&rsquo;s
final top-level <code>LIMIT</code> operation were not present.
This attribute may only be returned if the <code>fullCount</code> option was set when starting the
query and only contains a sensible value if the query contains a <code>LIMIT</code> operation on
the top level.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_extra_stats_httpRequests><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">httpRequests*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-a-cursor_res_201_extra_stats_httpRequests><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The total number of cluster-internal HTTP requests performed.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_extra_stats_intermediateCommits><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">intermediateCommits*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-a-cursor_res_201_extra_stats_intermediateCommits><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The number of intermediate commits performed by the query. This is only non-zero
for write queries, and only for queries that reached either the <code>intermediateCommitSize</code>
or <code>intermediateCommitCount</code> thresholds. Note: in a cluster, intermediate commits can happen
on each participating DB-Server.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_extra_stats_nodes><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">nodes</span>
<span class=openapi-property-type><span class=bold-text>array of objects</span></span>
<a href=#create-a-cursor_res_201_extra_stats_nodes><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>When the query is executed with the <code>profile</code> option set to at least <code>2</code>,
then this attribute contains runtime statistics per query execution node.
For a human readable output, you can execute
<code>db._profileQuery(&lt;query>, &lt;bind-vars>)</code> in arangosh.</p><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_extra_stats_nodes_calls><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">calls*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-a-cursor_res_201_extra_stats_nodes_calls><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The number of calls to this node.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_extra_stats_nodes_id><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">id*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-a-cursor_res_201_extra_stats_nodes_id><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The execution node ID to correlate the statistics with the <code>plan</code> returned in
the <code>extra</code> attribute.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_extra_stats_nodes_items><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">items*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-a-cursor_res_201_extra_stats_nodes_items><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The number of items returned by this node. Items are the temporary results
returned at this stage.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_extra_stats_nodes_runtime><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">runtime*</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#create-a-cursor_res_201_extra_stats_nodes_runtime><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The execution time of this node in seconds.</p></div></details></li></ul></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_extra_stats_peakMemoryUsage><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">peakMemoryUsage*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-a-cursor_res_201_extra_stats_peakMemoryUsage><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The maximum memory usage of the query while it was running. In a cluster,
the memory accounting is done per shard, and the memory usage reported is the peak
memory usage value from the individual shards.
Note that to keep things lightweight, the per-query memory usage is tracked on a relatively
high level, not including any memory allocator overhead nor any memory used for temporary
results calculations (e.g. memory allocated/deallocated inside AQL expressions and function
calls).</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_extra_stats_scannedFull><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">scannedFull*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-a-cursor_res_201_extra_stats_scannedFull><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The total number of documents iterated over when scanning a collection
without an index. Documents scanned by subqueries are included in the result, but
operations triggered by built-in or user-defined AQL functions are not.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_extra_stats_scannedIndex><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">scannedIndex*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-a-cursor_res_201_extra_stats_scannedIndex><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The total number of documents iterated over when scanning a collection using
an index. Documents scanned by subqueries are included in the result, but operations
triggered by built-in or user-defined AQL functions are not.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_extra_stats_writesExecuted><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">writesExecuted*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-a-cursor_res_201_extra_stats_writesExecuted><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The total number of data-modification operations successfully executed.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_extra_stats_writesIgnored><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">writesIgnored*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-a-cursor_res_201_extra_stats_writesIgnored><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The total number of data-modification operations that were unsuccessful,
but have been ignored because of the <code>ignoreErrors</code> query option.</p></div></details></li></ul></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_extra_warnings><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">warnings*</span>
<span class=openapi-property-type><span class=bold-text>array of objects</span></span>
<a href=#create-a-cursor_res_201_extra_warnings><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>A list of query warnings.</p><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_extra_warnings_code><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">code*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-a-cursor_res_201_extra_warnings_code><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>An error code.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_extra_warnings_message><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">message*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#create-a-cursor_res_201_extra_warnings_message><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>A description of the problem.</p></div></details></li></ul></div></details></li></ul></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_hasMore><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">hasMore*</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#create-a-cursor_res_201_hasMore><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>A boolean indicator whether there are more results
available for the cursor on the server.</p><p>Note that even if <code>hasMore</code> returns <code>true</code>, the next call might still return no
documents. Once <code>hasMore</code> is <code>false</code>, the cursor is exhausted and the client
can stop asking for more results.</p></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_id><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">id</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#create-a-cursor_res_201_id><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The ID of the cursor for fetching more result batches.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_nextBatchId><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">nextBatchId</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#create-a-cursor_res_201_nextBatchId><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>Only set if the <code>allowRetry</code> query option is enabled in v3.11.0.
From v3.11.1 onward, this attribute is always set, except in the last batch.</p><p>The ID of the batch after the current one. The first batch has an ID of <code>1</code> and
the value is incremented by 1 with every batch. You can remember and use this
batch ID should retrieving the next batch fail. Use the
<code>POST /_api/cursor/&lt;cursor-id>/&lt;batch-id></code> endpoint to ask for the batch again.
You can also request the next batch.</p></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_201_result><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">result</span>
<span class=openapi-property-type><span class=bold-text>array</span></span>
<a href=#create-a-cursor_res_201_result><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>An array of result documents for the current batch
(might be empty if the query has no results).</p></div></details></li></ul></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_400><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">400</span>
<span class="openapi-property-type bold-text">Bad Request</span>
<a href=#create-a-cursor_res_400><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>The JSON representation is malformed, the query specification is
missing from the request, or the query is invalid.</p><p>The body of the response contains a JSON object with additional error
details.</p></p><ul class=openapi-table><div class=openapi-table-title>Response Body <span class=openapi-content-type>application/json</span> <span class=openapi-property-type>object</span></div><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_400_code><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">code*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-a-cursor_res_400_code><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>the HTTP status code</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_400_error><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">error*</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#create-a-cursor_res_400_error><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>boolean flag to indicate that an error occurred (<code>true</code> in this case)</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_400_errorMessage><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">errorMessage*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#create-a-cursor_res_400_errorMessage><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>A descriptive error message.</p><p>If the query specification is complete, the server will process the query. If an
error occurs during query processing, the server will respond with <em>HTTP 400</em>.
Again, the body of the response will contain details about the error.</p></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_400_errorNum><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">errorNum*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-a-cursor_res_400_errorNum><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>the server error number</p></div></details></li></ul></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_404><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">404</span>
<span class="openapi-property-type bold-text">Not Found</span>
<a href=#create-a-cursor_res_404><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>A non-existing collection is accessed in the query.</p><p>This error also occurs if you try to run this operation as part of a
Stream Transaction but the transaction ID specified in the
<code>x-arango-trx-id</code> header is unknown to the server.</p></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_405><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">405</span>
<span class="openapi-property-type bold-text">Method Not Allowed</span>
<a href=#create-a-cursor_res_405><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>An unsupported HTTP method is used.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_410><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">410</span>
<span class="openapi-property-type bold-text">Gone</span>
<a href=#create-a-cursor_res_410><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>A server which processes the query or the leader of a shard which is used
in the query stops responding, but the connection has not been closed.</p><p>This error also occurs if you try to run this operation as part of a
Stream Transaction that has just been canceled or timed out.</p></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-cursor_res_503><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">503</span>
<span class="openapi-property-type bold-text">Service Unavailable</span>
<a href=#create-a-cursor_res_503><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>A server which processes the query or the leader of a shard which is used
in the query is down, either for going through a restart, a failure, or
connectivity issues.</p></div></details></li></ul></div></div></div><p><strong>Examples</strong></p><p>Execute a query and extract the result in a single go</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -X POST --header <span class=s1>&#39;accept: application/json&#39;</span> --data-binary @- --dump - <span class=s1>&#39;http://localhost:8529/_api/cursor&#39;</span> <span class=s>&lt;&lt;&#39;EOF&#39;
</span></span></span><span class=line><span class=cl><span class=s>{
</span></span></span><span class=line><span class=cl><span class=s>  &#34;query&#34;: &#34;FOR p IN products LIMIT 2 RETURN p&#34;,
</span></span></span><span class=line><span class=cl><span class=s>  &#34;count&#34;: true,
</span></span></span><span class=line><span class=cl><span class=s>  &#34;batchSize&#34;: 2
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>HTTP/1.1 <span class=m>201</span> Created
</span></span><span class=line><span class=cl>content-type: application/json
</span></span><span class=line><span class=cl>cache-control: no-cache, no-store, must-revalidate, pre-check<span class=o>=</span>0, post-check<span class=o>=</span>0, max-age<span class=o>=</span>0, s-maxage<span class=o>=</span><span class=m>0</span>
</span></span><span class=line><span class=cl>connection: Keep-Alive
</span></span><span class=line><span class=cl>content-length: <span class=m>520</span>
</span></span><span class=line><span class=cl>content-security-policy: frame-ancestors <span class=s1>&#39;self&#39;</span><span class=p>;</span> form-action <span class=s1>&#39;self&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>expires: <span class=m>0</span>
</span></span><span class=line><span class=cl>pragma: no-cache
</span></span><span class=line><span class=cl>server: ArangoDB
</span></span><span class=line><span class=cl>strict-transport-security: max-age<span class=o>=</span><span class=m>31536000</span> <span class=p>;</span> includeSubDomains
</span></span><span class=line><span class=cl>x-arango-queue-time-seconds: 0.000000
</span></span><span class=line><span class=cl>x-content-type-options: nosniff
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;result&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>    <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_key&#34;</span> : <span class=s2>&#34;71772&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_id&#34;</span> : <span class=s2>&#34;products/71772&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_rev&#34;</span> : <span class=s2>&#34;_jOk3IEa---&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hello1&#34;</span> : <span class=s2>&#34;world1&#34;</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span>, 
</span></span><span class=line><span class=cl>    <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_key&#34;</span> : <span class=s2>&#34;71774&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_id&#34;</span> : <span class=s2>&#34;products/71774&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_rev&#34;</span> : <span class=s2>&#34;_jOk3IEa--_&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hello2&#34;</span> : <span class=s2>&#34;world1&#34;</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>]</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;hasMore&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;count&#34;</span> : 2, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;cached&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;extra&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;warnings&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;stats&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;writesExecuted&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;writesIgnored&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;scannedFull&#34;</span> : 2, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;scannedIndex&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cursorsCreated&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cursorsRearmed&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cacheHits&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cacheMisses&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;filtered&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;httpRequests&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;executionTime&#34;</span> : 0.00015155299996649774, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;peakMemoryUsage&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;intermediateCommits&#34;</span> : <span class=m>0</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;error&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;code&#34;</span> : <span class=m>201</span> 
</span></span><span class=line><span class=cl><span class=o>}</span></span></span></code></pre></div></div></div><br><p>Execute a query and extract a part of the result</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -X POST --header <span class=s1>&#39;accept: application/json&#39;</span> --data-binary @- --dump - <span class=s1>&#39;http://localhost:8529/_api/cursor&#39;</span> <span class=s>&lt;&lt;&#39;EOF&#39;
</span></span></span><span class=line><span class=cl><span class=s>{
</span></span></span><span class=line><span class=cl><span class=s>  &#34;query&#34;: &#34;FOR p IN products LIMIT 5 RETURN p&#34;,
</span></span></span><span class=line><span class=cl><span class=s>  &#34;count&#34;: true,
</span></span></span><span class=line><span class=cl><span class=s>  &#34;batchSize&#34;: 2
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>HTTP/1.1 <span class=m>201</span> Created
</span></span><span class=line><span class=cl>content-type: application/json
</span></span><span class=line><span class=cl>cache-control: no-cache, no-store, must-revalidate, pre-check<span class=o>=</span>0, post-check<span class=o>=</span>0, max-age<span class=o>=</span>0, s-maxage<span class=o>=</span><span class=m>0</span>
</span></span><span class=line><span class=cl>connection: Keep-Alive
</span></span><span class=line><span class=cl>content-length: <span class=m>550</span>
</span></span><span class=line><span class=cl>content-security-policy: frame-ancestors <span class=s1>&#39;self&#39;</span><span class=p>;</span> form-action <span class=s1>&#39;self&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>expires: <span class=m>0</span>
</span></span><span class=line><span class=cl>pragma: no-cache
</span></span><span class=line><span class=cl>server: ArangoDB
</span></span><span class=line><span class=cl>strict-transport-security: max-age<span class=o>=</span><span class=m>31536000</span> <span class=p>;</span> includeSubDomains
</span></span><span class=line><span class=cl>x-arango-queue-time-seconds: 0.000000
</span></span><span class=line><span class=cl>x-content-type-options: nosniff
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;result&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>    <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_key&#34;</span> : <span class=s2>&#34;71784&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_id&#34;</span> : <span class=s2>&#34;products/71784&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_rev&#34;</span> : <span class=s2>&#34;_jOk3IEy--_&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hello1&#34;</span> : <span class=s2>&#34;world1&#34;</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span>, 
</span></span><span class=line><span class=cl>    <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_key&#34;</span> : <span class=s2>&#34;71786&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_id&#34;</span> : <span class=s2>&#34;products/71786&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_rev&#34;</span> : <span class=s2>&#34;_jOk3IEy--A&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hello2&#34;</span> : <span class=s2>&#34;world1&#34;</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>]</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;hasMore&#34;</span> : true, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;id&#34;</span> : <span class=s2>&#34;71795&#34;</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;count&#34;</span> : 5, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;extra&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;warnings&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;stats&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;writesExecuted&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;writesIgnored&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;scannedFull&#34;</span> : 5, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;scannedIndex&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cursorsCreated&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cursorsRearmed&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cacheHits&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cacheMisses&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;filtered&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;httpRequests&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;executionTime&#34;</span> : 0.00018267400002969225, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;peakMemoryUsage&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;intermediateCommits&#34;</span> : <span class=m>0</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;cached&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;nextBatchId&#34;</span> : <span class=s2>&#34;2&#34;</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;error&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;code&#34;</span> : <span class=m>201</span> 
</span></span><span class=line><span class=cl><span class=o>}</span></span></span></code></pre></div></div></div><br><p>Using the query option &ldquo;fullCount&rdquo;</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -X POST --header <span class=s1>&#39;accept: application/json&#39;</span> --data-binary @- --dump - <span class=s1>&#39;http://localhost:8529/_api/cursor&#39;</span> <span class=s>&lt;&lt;&#39;EOF&#39;
</span></span></span><span class=line><span class=cl><span class=s>{
</span></span></span><span class=line><span class=cl><span class=s>  &#34;query&#34;: &#34;FOR i IN 1..1000 FILTER i &gt; 500 LIMIT 10 RETURN i&#34;,
</span></span></span><span class=line><span class=cl><span class=s>  &#34;count&#34;: true,
</span></span></span><span class=line><span class=cl><span class=s>  &#34;options&#34;: {
</span></span></span><span class=line><span class=cl><span class=s>    &#34;fullCount&#34;: true
</span></span></span><span class=line><span class=cl><span class=s>  }
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>HTTP/1.1 <span class=m>201</span> Created
</span></span><span class=line><span class=cl>content-type: application/json
</span></span><span class=line><span class=cl>cache-control: no-cache, no-store, must-revalidate, pre-check<span class=o>=</span>0, post-check<span class=o>=</span>0, max-age<span class=o>=</span>0, s-maxage<span class=o>=</span><span class=m>0</span>
</span></span><span class=line><span class=cl>connection: Keep-Alive
</span></span><span class=line><span class=cl>content-length: <span class=m>425</span>
</span></span><span class=line><span class=cl>content-security-policy: frame-ancestors <span class=s1>&#39;self&#39;</span><span class=p>;</span> form-action <span class=s1>&#39;self&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>expires: <span class=m>0</span>
</span></span><span class=line><span class=cl>pragma: no-cache
</span></span><span class=line><span class=cl>server: ArangoDB
</span></span><span class=line><span class=cl>strict-transport-security: max-age<span class=o>=</span><span class=m>31536000</span> <span class=p>;</span> includeSubDomains
</span></span><span class=line><span class=cl>x-arango-queue-time-seconds: 0.000000
</span></span><span class=line><span class=cl>x-content-type-options: nosniff
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;result&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>    501, 
</span></span><span class=line><span class=cl>    502, 
</span></span><span class=line><span class=cl>    503, 
</span></span><span class=line><span class=cl>    504, 
</span></span><span class=line><span class=cl>    505, 
</span></span><span class=line><span class=cl>    506, 
</span></span><span class=line><span class=cl>    507, 
</span></span><span class=line><span class=cl>    508, 
</span></span><span class=line><span class=cl>    509, 
</span></span><span class=line><span class=cl>    <span class=m>510</span> 
</span></span><span class=line><span class=cl>  <span class=o>]</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;hasMore&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;count&#34;</span> : 10, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;cached&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;extra&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;warnings&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;stats&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;writesExecuted&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;writesIgnored&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;scannedFull&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;scannedIndex&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cursorsCreated&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cursorsRearmed&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cacheHits&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cacheMisses&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;filtered&#34;</span> : 500, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;httpRequests&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;fullCount&#34;</span> : 500, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;executionTime&#34;</span> : 0.00047499499999048567, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;peakMemoryUsage&#34;</span> : 32768, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;intermediateCommits&#34;</span> : <span class=m>0</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;error&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;code&#34;</span> : <span class=m>201</span> 
</span></span><span class=line><span class=cl><span class=o>}</span></span></span></code></pre></div></div></div><br><p>Enabling and disabling optimizer rules</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -X POST --header <span class=s1>&#39;accept: application/json&#39;</span> --data-binary @- --dump - <span class=s1>&#39;http://localhost:8529/_api/cursor&#39;</span> <span class=s>&lt;&lt;&#39;EOF&#39;
</span></span></span><span class=line><span class=cl><span class=s>{
</span></span></span><span class=line><span class=cl><span class=s>  &#34;query&#34;: &#34;FOR i IN 1..10 LET a = 1 LET b = 2 FILTER a + b == 3 RETURN i&#34;,
</span></span></span><span class=line><span class=cl><span class=s>  &#34;count&#34;: true,
</span></span></span><span class=line><span class=cl><span class=s>  &#34;options&#34;: {
</span></span></span><span class=line><span class=cl><span class=s>    &#34;maxPlans&#34;: 1,
</span></span></span><span class=line><span class=cl><span class=s>    &#34;optimizer&#34;: {
</span></span></span><span class=line><span class=cl><span class=s>      &#34;rules&#34;: [
</span></span></span><span class=line><span class=cl><span class=s>        &#34;-all&#34;,
</span></span></span><span class=line><span class=cl><span class=s>        &#34;+remove-unnecessary-filters&#34;
</span></span></span><span class=line><span class=cl><span class=s>      ]
</span></span></span><span class=line><span class=cl><span class=s>    }
</span></span></span><span class=line><span class=cl><span class=s>  }
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>HTTP/1.1 <span class=m>201</span> Created
</span></span><span class=line><span class=cl>content-type: application/json
</span></span><span class=line><span class=cl>cache-control: no-cache, no-store, must-revalidate, pre-check<span class=o>=</span>0, post-check<span class=o>=</span>0, max-age<span class=o>=</span>0, s-maxage<span class=o>=</span><span class=m>0</span>
</span></span><span class=line><span class=cl>connection: Keep-Alive
</span></span><span class=line><span class=cl>content-length: <span class=m>383</span>
</span></span><span class=line><span class=cl>content-security-policy: frame-ancestors <span class=s1>&#39;self&#39;</span><span class=p>;</span> form-action <span class=s1>&#39;self&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>expires: <span class=m>0</span>
</span></span><span class=line><span class=cl>pragma: no-cache
</span></span><span class=line><span class=cl>server: ArangoDB
</span></span><span class=line><span class=cl>strict-transport-security: max-age<span class=o>=</span><span class=m>31536000</span> <span class=p>;</span> includeSubDomains
</span></span><span class=line><span class=cl>x-arango-queue-time-seconds: 0.000000
</span></span><span class=line><span class=cl>x-content-type-options: nosniff
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;result&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>    1, 
</span></span><span class=line><span class=cl>    2, 
</span></span><span class=line><span class=cl>    3, 
</span></span><span class=line><span class=cl>    4, 
</span></span><span class=line><span class=cl>    5, 
</span></span><span class=line><span class=cl>    6, 
</span></span><span class=line><span class=cl>    7, 
</span></span><span class=line><span class=cl>    8, 
</span></span><span class=line><span class=cl>    9, 
</span></span><span class=line><span class=cl>    <span class=m>10</span> 
</span></span><span class=line><span class=cl>  <span class=o>]</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;hasMore&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;count&#34;</span> : 10, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;cached&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;extra&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;warnings&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;stats&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;writesExecuted&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;writesIgnored&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;scannedFull&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;scannedIndex&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cursorsCreated&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cursorsRearmed&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cacheHits&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cacheMisses&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;filtered&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;httpRequests&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;executionTime&#34;</span> : 0.0001436580000131471, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;peakMemoryUsage&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;intermediateCommits&#34;</span> : <span class=m>0</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;error&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;code&#34;</span> : <span class=m>201</span> 
</span></span><span class=line><span class=cl><span class=o>}</span></span></span></code></pre></div></div></div><br><p>Execute instrumented query and return result together with
execution plan and profiling information</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -X POST --header <span class=s1>&#39;accept: application/json&#39;</span> --data-binary @- --dump - <span class=s1>&#39;http://localhost:8529/_api/cursor&#39;</span> <span class=s>&lt;&lt;&#39;EOF&#39;
</span></span></span><span class=line><span class=cl><span class=s>{
</span></span></span><span class=line><span class=cl><span class=s>  &#34;query&#34;: &#34;LET s = SLEEP(0.25) LET t = SLEEP(0.5) RETURN 1&#34;,
</span></span></span><span class=line><span class=cl><span class=s>  &#34;count&#34;: true,
</span></span></span><span class=line><span class=cl><span class=s>  &#34;options&#34;: {
</span></span></span><span class=line><span class=cl><span class=s>    &#34;profile&#34;: 2
</span></span></span><span class=line><span class=cl><span class=s>  }
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>HTTP/1.1 <span class=m>201</span> Created
</span></span><span class=line><span class=cl>content-type: application/json
</span></span><span class=line><span class=cl>cache-control: no-cache, no-store, must-revalidate, pre-check<span class=o>=</span>0, post-check<span class=o>=</span>0, max-age<span class=o>=</span>0, s-maxage<span class=o>=</span><span class=m>0</span>
</span></span><span class=line><span class=cl>connection: Keep-Alive
</span></span><span class=line><span class=cl>content-length: <span class=m>2604</span>
</span></span><span class=line><span class=cl>content-security-policy: frame-ancestors <span class=s1>&#39;self&#39;</span><span class=p>;</span> form-action <span class=s1>&#39;self&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>expires: <span class=m>0</span>
</span></span><span class=line><span class=cl>pragma: no-cache
</span></span><span class=line><span class=cl>server: ArangoDB
</span></span><span class=line><span class=cl>strict-transport-security: max-age<span class=o>=</span><span class=m>31536000</span> <span class=p>;</span> includeSubDomains
</span></span><span class=line><span class=cl>x-arango-queue-time-seconds: 0.000000
</span></span><span class=line><span class=cl>x-content-type-options: nosniff
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;result&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>    <span class=m>1</span> 
</span></span><span class=line><span class=cl>  <span class=o>]</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;hasMore&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;count&#34;</span> : 1, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;cached&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;extra&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;warnings&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;stats&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;writesExecuted&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;writesIgnored&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;scannedFull&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;scannedIndex&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cursorsCreated&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cursorsRearmed&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cacheHits&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cacheMisses&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;filtered&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;httpRequests&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;executionTime&#34;</span> : 0.7550429739999913, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;peakMemoryUsage&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;intermediateCommits&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;nodes&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>        <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 1, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;calls&#34;</span> : 1, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;items&#34;</span> : 1, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;filtered&#34;</span> : 0, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;runtime&#34;</span> : 0.000003883000033511053 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 2, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;calls&#34;</span> : 1, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;items&#34;</span> : 1, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;filtered&#34;</span> : 0, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;runtime&#34;</span> : 0.2516512909999733 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 3, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;calls&#34;</span> : 1, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;items&#34;</span> : 1, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;filtered&#34;</span> : 0, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;runtime&#34;</span> : 0.7548624120000227 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 4, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;calls&#34;</span> : 1, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;items&#34;</span> : 1, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;filtered&#34;</span> : 0, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;runtime&#34;</span> : 0.0000056769999901007395 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 5, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;calls&#34;</span> : 1, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;items&#34;</span> : 1, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;filtered&#34;</span> : 0, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;runtime&#34;</span> : 0.7548705430000382 
</span></span><span class=line><span class=cl>        <span class=o>}</span> 
</span></span><span class=line><span class=cl>      <span class=o>]</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;plan&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;nodes&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>        <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;SingletonNode&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;dependencies&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 1, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;estimatedCost&#34;</span> : 1, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;estimatedNrItems&#34;</span> : <span class=m>1</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;CalculationNode&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;dependencies&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>            <span class=m>1</span> 
</span></span><span class=line><span class=cl>          <span class=o>]</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 4, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;estimatedCost&#34;</span> : 2, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;estimatedNrItems&#34;</span> : 1, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;expression&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;value&#34;</span>, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;typeID&#34;</span> : 40, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;value&#34;</span> : 1, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;vTypeID&#34;</span> : <span class=m>2</span> 
</span></span><span class=line><span class=cl>          <span class=o>}</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;outVariable&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;id&#34;</span> : 3, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;2&#34;</span>, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>          <span class=o>}</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;canThrow&#34;</span> : false, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;expressionType&#34;</span> : <span class=s2>&#34;json&#34;</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;CalculationNode&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;dependencies&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>            <span class=m>4</span> 
</span></span><span class=line><span class=cl>          <span class=o>]</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 2, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;estimatedCost&#34;</span> : 3, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;estimatedNrItems&#34;</span> : 1, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;expression&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;function call&#34;</span>, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;typeID&#34;</span> : 47, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;SLEEP&#34;</span>, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;subNodes&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>              <span class=o>{</span> 
</span></span><span class=line><span class=cl>                <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;array&#34;</span>, 
</span></span><span class=line><span class=cl>                <span class=s2>&#34;typeID&#34;</span> : 41, 
</span></span><span class=line><span class=cl>                <span class=s2>&#34;raw&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>                  0.25 
</span></span><span class=line><span class=cl>                <span class=o>]</span> 
</span></span><span class=line><span class=cl>              <span class=o>}</span> 
</span></span><span class=line><span class=cl>            <span class=o>]</span> 
</span></span><span class=line><span class=cl>          <span class=o>}</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;outVariable&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;id&#34;</span> : 0, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;s&#34;</span>, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>          <span class=o>}</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;canThrow&#34;</span> : false, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;expressionType&#34;</span> : <span class=s2>&#34;simple&#34;</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;CalculationNode&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;dependencies&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>            <span class=m>2</span> 
</span></span><span class=line><span class=cl>          <span class=o>]</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 3, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;estimatedCost&#34;</span> : 4, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;estimatedNrItems&#34;</span> : 1, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;expression&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;function call&#34;</span>, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;typeID&#34;</span> : 47, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;SLEEP&#34;</span>, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;subNodes&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>              <span class=o>{</span> 
</span></span><span class=line><span class=cl>                <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;array&#34;</span>, 
</span></span><span class=line><span class=cl>                <span class=s2>&#34;typeID&#34;</span> : 41, 
</span></span><span class=line><span class=cl>                <span class=s2>&#34;raw&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>                  0.5 
</span></span><span class=line><span class=cl>                <span class=o>]</span> 
</span></span><span class=line><span class=cl>              <span class=o>}</span> 
</span></span><span class=line><span class=cl>            <span class=o>]</span> 
</span></span><span class=line><span class=cl>          <span class=o>}</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;outVariable&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;id&#34;</span> : 1, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;t&#34;</span>, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>          <span class=o>}</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;canThrow&#34;</span> : false, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;expressionType&#34;</span> : <span class=s2>&#34;simple&#34;</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;ReturnNode&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;dependencies&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>            <span class=m>3</span> 
</span></span><span class=line><span class=cl>          <span class=o>]</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 5, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;estimatedCost&#34;</span> : 5, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;estimatedNrItems&#34;</span> : 1, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;inVariable&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;id&#34;</span> : 3, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;2&#34;</span>, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>          <span class=o>}</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;count&#34;</span> : <span class=nb>true</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span> 
</span></span><span class=line><span class=cl>      <span class=o>]</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;rules&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;move-calculations-up&#34;</span> 
</span></span><span class=line><span class=cl>      <span class=o>]</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;collections&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;variables&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>        <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 3, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;2&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : false, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;constantValue&#34;</span> : <span class=m>1</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 1, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;t&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 0, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;s&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span> 
</span></span><span class=line><span class=cl>      <span class=o>]</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;estimatedCost&#34;</span> : 5, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;estimatedNrItems&#34;</span> : 1, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;isModificationQuery&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;profile&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;initializing&#34;</span> : 0.000002980000033403485, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;parsing&#34;</span> : 0.000028178999968986318, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;optimizing ast&#34;</span> : 0.000003625000033480319, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;loading collections&#34;</span> : 0.000008691999994425714, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;instantiating plan&#34;</span> : 0.000014659999976629479, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;optimizing plan&#34;</span> : 0.000058453000008285017, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;instantiating executors&#34;</span> : 0.00002850800001397147, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;executing&#34;</span> : 0.7548807160000024, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;finalizing&#34;</span> : 0.00003943999996636194 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;error&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;code&#34;</span> : <span class=m>201</span> 
</span></span><span class=line><span class=cl><span class=o>}</span></span></span></code></pre></div></div></div><br><p>Execute a data-modification query and retrieve the number of
modified documents</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -X POST --header <span class=s1>&#39;accept: application/json&#39;</span> --data-binary @- --dump - <span class=s1>&#39;http://localhost:8529/_api/cursor&#39;</span> <span class=s>&lt;&lt;&#39;EOF&#39;
</span></span></span><span class=line><span class=cl><span class=s>{
</span></span></span><span class=line><span class=cl><span class=s>  &#34;query&#34;: &#34;FOR p IN products REMOVE p IN products&#34;
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>HTTP/1.1 <span class=m>201</span> Created
</span></span><span class=line><span class=cl>content-type: application/json
</span></span><span class=line><span class=cl>cache-control: no-cache, no-store, must-revalidate, pre-check<span class=o>=</span>0, post-check<span class=o>=</span>0, max-age<span class=o>=</span>0, s-maxage<span class=o>=</span><span class=m>0</span>
</span></span><span class=line><span class=cl>connection: Keep-Alive
</span></span><span class=line><span class=cl>content-length: <span class=m>353</span>
</span></span><span class=line><span class=cl>content-security-policy: frame-ancestors <span class=s1>&#39;self&#39;</span><span class=p>;</span> form-action <span class=s1>&#39;self&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>expires: <span class=m>0</span>
</span></span><span class=line><span class=cl>pragma: no-cache
</span></span><span class=line><span class=cl>server: ArangoDB
</span></span><span class=line><span class=cl>strict-transport-security: max-age<span class=o>=</span><span class=m>31536000</span> <span class=p>;</span> includeSubDomains
</span></span><span class=line><span class=cl>x-arango-queue-time-seconds: 0.000000
</span></span><span class=line><span class=cl>x-content-type-options: nosniff
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;result&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;hasMore&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;cached&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;extra&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;warnings&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;stats&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;writesExecuted&#34;</span> : 2, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;writesIgnored&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;scannedFull&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;scannedIndex&#34;</span> : 2, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cursorsCreated&#34;</span> : 1, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cursorsRearmed&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cacheHits&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cacheMisses&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;filtered&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;httpRequests&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;executionTime&#34;</span> : 0.00023282900002641327, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;peakMemoryUsage&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;intermediateCommits&#34;</span> : <span class=m>0</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;error&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;code&#34;</span> : <span class=m>201</span> 
</span></span><span class=line><span class=cl><span class=o>}</span></span></span></code></pre></div></div></div><br><p>Execute a data-modification query with option <code>ignoreErrors</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -X POST --header <span class=s1>&#39;accept: application/json&#39;</span> --data-binary @- --dump - <span class=s1>&#39;http://localhost:8529/_api/cursor&#39;</span> <span class=s>&lt;&lt;&#39;EOF&#39;
</span></span></span><span class=line><span class=cl><span class=s>{
</span></span></span><span class=line><span class=cl><span class=s>  &#34;query&#34;: &#34;REMOVE &#39;bar&#39; IN products OPTIONS { ignoreErrors: true }&#34;
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>HTTP/1.1 <span class=m>201</span> Created
</span></span><span class=line><span class=cl>content-type: application/json
</span></span><span class=line><span class=cl>cache-control: no-cache, no-store, must-revalidate, pre-check<span class=o>=</span>0, post-check<span class=o>=</span>0, max-age<span class=o>=</span>0, s-maxage<span class=o>=</span><span class=m>0</span>
</span></span><span class=line><span class=cl>connection: Keep-Alive
</span></span><span class=line><span class=cl>content-length: <span class=m>353</span>
</span></span><span class=line><span class=cl>content-security-policy: frame-ancestors <span class=s1>&#39;self&#39;</span><span class=p>;</span> form-action <span class=s1>&#39;self&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>expires: <span class=m>0</span>
</span></span><span class=line><span class=cl>pragma: no-cache
</span></span><span class=line><span class=cl>server: ArangoDB
</span></span><span class=line><span class=cl>strict-transport-security: max-age<span class=o>=</span><span class=m>31536000</span> <span class=p>;</span> includeSubDomains
</span></span><span class=line><span class=cl>x-arango-queue-time-seconds: 0.000000
</span></span><span class=line><span class=cl>x-content-type-options: nosniff
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;result&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;hasMore&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;cached&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;extra&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;warnings&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;stats&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;writesExecuted&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;writesIgnored&#34;</span> : 1, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;scannedFull&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;scannedIndex&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cursorsCreated&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cursorsRearmed&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cacheHits&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cacheMisses&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;filtered&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;httpRequests&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;executionTime&#34;</span> : 0.00015029999997295818, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;peakMemoryUsage&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;intermediateCommits&#34;</span> : <span class=m>0</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;error&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;code&#34;</span> : <span class=m>201</span> 
</span></span><span class=line><span class=cl><span class=o>}</span></span></span></code></pre></div></div></div><br><p>The following example appends a value to the array <code>arr</code> of the document
with key <code>test</code> in the collection <code>documents</code>. The normal update behavior of the
<code>UPDATE</code> operation is to replace the array attribute completely, but using the
<code>PUSH()</code> function allows you to append to the array:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -X POST --header <span class=s1>&#39;accept: application/json&#39;</span> --data-binary @- --dump - <span class=s1>&#39;http://localhost:8529/_api/cursor&#39;</span> <span class=s>&lt;&lt;&#39;EOF&#39;
</span></span></span><span class=line><span class=cl><span class=s>{
</span></span></span><span class=line><span class=cl><span class=s>  &#34;query&#34;: &#34;FOR doc IN documents FILTER doc._key == @myKey UPDATE doc._key WITH { arr: PUSH(doc.arr, @value) } IN documents RETURN NEW&#34;,
</span></span></span><span class=line><span class=cl><span class=s>  &#34;bindVars&#34;: {
</span></span></span><span class=line><span class=cl><span class=s>    &#34;myKey&#34;: &#34;test&#34;,
</span></span></span><span class=line><span class=cl><span class=s>    &#34;value&#34;: 42
</span></span></span><span class=line><span class=cl><span class=s>  }
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>HTTP/1.1 <span class=m>201</span> Created
</span></span><span class=line><span class=cl>content-type: application/json
</span></span><span class=line><span class=cl>cache-control: no-cache, no-store, must-revalidate, pre-check<span class=o>=</span>0, post-check<span class=o>=</span>0, max-age<span class=o>=</span>0, s-maxage<span class=o>=</span><span class=m>0</span>
</span></span><span class=line><span class=cl>connection: Keep-Alive
</span></span><span class=line><span class=cl>content-length: <span class=m>433</span>
</span></span><span class=line><span class=cl>content-security-policy: frame-ancestors <span class=s1>&#39;self&#39;</span><span class=p>;</span> form-action <span class=s1>&#39;self&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>expires: <span class=m>0</span>
</span></span><span class=line><span class=cl>pragma: no-cache
</span></span><span class=line><span class=cl>server: ArangoDB
</span></span><span class=line><span class=cl>strict-transport-security: max-age<span class=o>=</span><span class=m>31536000</span> <span class=p>;</span> includeSubDomains
</span></span><span class=line><span class=cl>x-arango-queue-time-seconds: 0.000000
</span></span><span class=line><span class=cl>x-content-type-options: nosniff
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;result&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>    <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_key&#34;</span> : <span class=s2>&#34;test&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_id&#34;</span> : <span class=s2>&#34;documents/test&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_rev&#34;</span> : <span class=s2>&#34;_jOk3I7C--_&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;arr&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>        1, 
</span></span><span class=line><span class=cl>        2, 
</span></span><span class=line><span class=cl>        3, 
</span></span><span class=line><span class=cl>        <span class=m>42</span> 
</span></span><span class=line><span class=cl>      <span class=o>]</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>]</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;hasMore&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;cached&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;extra&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;warnings&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;stats&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;writesExecuted&#34;</span> : 1, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;writesIgnored&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;scannedFull&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;scannedIndex&#34;</span> : 1, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cursorsCreated&#34;</span> : 1, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cursorsRearmed&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cacheHits&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cacheMisses&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;filtered&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;httpRequests&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;executionTime&#34;</span> : 0.00034926699999004995, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;peakMemoryUsage&#34;</span> : 32768, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;intermediateCommits&#34;</span> : <span class=m>0</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;error&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;code&#34;</span> : <span class=m>201</span> 
</span></span><span class=line><span class=cl><span class=o>}</span></span></span></code></pre></div></div></div><br><p>To set a memory limit for the query, the <code>memoryLimit</code> option can be passed to
the server.</p><p>The memory limit specifies the maximum number of bytes that the query is
allowed to use. When a single AQL query reaches the specified limit value,
the query is aborted with a <em>resource limit exceeded</em> exception. In a
cluster, the memory accounting is done per server, so the limit value is
effectively a memory limit per query per server.</p><p>If no memory limit is specified, then the server default value (controlled by
startup option <code>--query.memory-limit</code>) is used for restricting the maximum amount
of memory the query can use. A memory limit value of <code>0</code> means that the maximum
amount of memory for the query is not restricted.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -X POST --header <span class=s1>&#39;accept: application/json&#39;</span> --data-binary @- --dump - <span class=s1>&#39;http://localhost:8529/_api/cursor&#39;</span> <span class=s>&lt;&lt;&#39;EOF&#39;
</span></span></span><span class=line><span class=cl><span class=s>{
</span></span></span><span class=line><span class=cl><span class=s>  &#34;query&#34;: &#34;FOR i IN 1..100000 SORT i RETURN i&#34;,
</span></span></span><span class=line><span class=cl><span class=s>  &#34;memoryLimit&#34;: 100000
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>HTTP/1.1 <span class=m>500</span> Internal Server Error
</span></span><span class=line><span class=cl>content-type: application/json
</span></span><span class=line><span class=cl>cache-control: no-cache, no-store, must-revalidate, pre-check<span class=o>=</span>0, post-check<span class=o>=</span>0, max-age<span class=o>=</span>0, s-maxage<span class=o>=</span><span class=m>0</span>
</span></span><span class=line><span class=cl>connection: Keep-Alive
</span></span><span class=line><span class=cl>content-length: <span class=m>120</span>
</span></span><span class=line><span class=cl>content-security-policy: frame-ancestors <span class=s1>&#39;self&#39;</span><span class=p>;</span> form-action <span class=s1>&#39;self&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>expires: <span class=m>0</span>
</span></span><span class=line><span class=cl>pragma: no-cache
</span></span><span class=line><span class=cl>server: ArangoDB
</span></span><span class=line><span class=cl>strict-transport-security: max-age<span class=o>=</span><span class=m>31536000</span> <span class=p>;</span> includeSubDomains
</span></span><span class=line><span class=cl>x-arango-queue-time-seconds: 0.000000
</span></span><span class=line><span class=cl>x-content-type-options: nosniff
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;code&#34;</span> : 500, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;error&#34;</span> : true, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;errorMessage&#34;</span> : <span class=s2>&#34;AQL: query would use more memory than allowed (while executing)&#34;</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;errorNum&#34;</span> : <span class=m>32</span> 
</span></span><span class=line><span class=cl><span class=o>}</span></span></span></code></pre></div></div></div><br><p>Bad query - Missing body</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -X POST --header <span class=s1>&#39;accept: application/json&#39;</span> --dump - <span class=s1>&#39;http://localhost:8529/_api/cursor&#39;</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>HTTP/1.1 <span class=m>400</span> Bad Request
</span></span><span class=line><span class=cl>content-type: application/json
</span></span><span class=line><span class=cl>cache-control: no-cache, no-store, must-revalidate, pre-check<span class=o>=</span>0, post-check<span class=o>=</span>0, max-age<span class=o>=</span>0, s-maxage<span class=o>=</span><span class=m>0</span>
</span></span><span class=line><span class=cl>connection: Keep-Alive
</span></span><span class=line><span class=cl>content-length: <span class=m>73</span>
</span></span><span class=line><span class=cl>content-security-policy: frame-ancestors <span class=s1>&#39;self&#39;</span><span class=p>;</span> form-action <span class=s1>&#39;self&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>expires: <span class=m>0</span>
</span></span><span class=line><span class=cl>pragma: no-cache
</span></span><span class=line><span class=cl>server: ArangoDB
</span></span><span class=line><span class=cl>strict-transport-security: max-age<span class=o>=</span><span class=m>31536000</span> <span class=p>;</span> includeSubDomains
</span></span><span class=line><span class=cl>x-arango-queue-time-seconds: 0.000000
</span></span><span class=line><span class=cl>x-content-type-options: nosniff
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;code&#34;</span> : 400, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;error&#34;</span> : true, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;errorMessage&#34;</span> : <span class=s2>&#34;query is empty&#34;</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;errorNum&#34;</span> : <span class=m>1502</span> 
</span></span><span class=line><span class=cl><span class=o>}</span></span></span></code></pre></div></div></div><br><p>Bad query - Unknown collection</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -X POST --header <span class=s1>&#39;accept: application/json&#39;</span> --data-binary @- --dump - <span class=s1>&#39;http://localhost:8529/_api/cursor&#39;</span> <span class=s>&lt;&lt;&#39;EOF&#39;
</span></span></span><span class=line><span class=cl><span class=s>{
</span></span></span><span class=line><span class=cl><span class=s>  &#34;query&#34;: &#34;FOR u IN unknowncoll LIMIT 2 RETURN u&#34;,
</span></span></span><span class=line><span class=cl><span class=s>  &#34;count&#34;: true,
</span></span></span><span class=line><span class=cl><span class=s>  &#34;batchSize&#34;: 2
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>HTTP/1.1 <span class=m>404</span> Not Found
</span></span><span class=line><span class=cl>content-type: application/json
</span></span><span class=line><span class=cl>cache-control: no-cache, no-store, must-revalidate, pre-check<span class=o>=</span>0, post-check<span class=o>=</span>0, max-age<span class=o>=</span>0, s-maxage<span class=o>=</span><span class=m>0</span>
</span></span><span class=line><span class=cl>connection: Keep-Alive
</span></span><span class=line><span class=cl>content-length: <span class=m>121</span>
</span></span><span class=line><span class=cl>content-security-policy: frame-ancestors <span class=s1>&#39;self&#39;</span><span class=p>;</span> form-action <span class=s1>&#39;self&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>expires: <span class=m>0</span>
</span></span><span class=line><span class=cl>pragma: no-cache
</span></span><span class=line><span class=cl>server: ArangoDB
</span></span><span class=line><span class=cl>strict-transport-security: max-age<span class=o>=</span><span class=m>31536000</span> <span class=p>;</span> includeSubDomains
</span></span><span class=line><span class=cl>x-arango-queue-time-seconds: 0.000000
</span></span><span class=line><span class=cl>x-content-type-options: nosniff
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;code&#34;</span> : 404, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;error&#34;</span> : true, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;errorMessage&#34;</span> : <span class=s2>&#34;AQL: collection or view not found: unknowncoll (while parsing)&#34;</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;errorNum&#34;</span> : <span class=m>1203</span> 
</span></span><span class=line><span class=cl><span class=o>}</span></span></span></code></pre></div></div></div><br><p>Bad query - Execute a data-modification query that attempts to remove a non-existing
document</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -X POST --header <span class=s1>&#39;accept: application/json&#39;</span> --data-binary @- --dump - <span class=s1>&#39;http://localhost:8529/_api/cursor&#39;</span> <span class=s>&lt;&lt;&#39;EOF&#39;
</span></span></span><span class=line><span class=cl><span class=s>{
</span></span></span><span class=line><span class=cl><span class=s>  &#34;query&#34;: &#34;REMOVE &#39;foo&#39; IN products&#34;
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>HTTP/1.1 <span class=m>404</span> Not Found
</span></span><span class=line><span class=cl>content-type: application/json
</span></span><span class=line><span class=cl>cache-control: no-cache, no-store, must-revalidate, pre-check<span class=o>=</span>0, post-check<span class=o>=</span>0, max-age<span class=o>=</span>0, s-maxage<span class=o>=</span><span class=m>0</span>
</span></span><span class=line><span class=cl>connection: Keep-Alive
</span></span><span class=line><span class=cl>content-length: <span class=m>100</span>
</span></span><span class=line><span class=cl>content-security-policy: frame-ancestors <span class=s1>&#39;self&#39;</span><span class=p>;</span> form-action <span class=s1>&#39;self&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>expires: <span class=m>0</span>
</span></span><span class=line><span class=cl>pragma: no-cache
</span></span><span class=line><span class=cl>server: ArangoDB
</span></span><span class=line><span class=cl>strict-transport-security: max-age<span class=o>=</span><span class=m>31536000</span> <span class=p>;</span> includeSubDomains
</span></span><span class=line><span class=cl>x-arango-queue-time-seconds: 0.000000
</span></span><span class=line><span class=cl>x-content-type-options: nosniff
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;code&#34;</span> : 404, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;error&#34;</span> : true, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;errorMessage&#34;</span> : <span class=s2>&#34;AQL: document not found (while executing)&#34;</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;errorNum&#34;</span> : <span class=m>1202</span> 
</span></span><span class=line><span class=cl><span class=o>}</span></span></span></code></pre></div></div></div><br><h3 id=read-the-next-batch-from-a-cursor>Read the next batch from a cursor <a href=/3.11/develop/http-api/queries/aql-queries/#read-the-next-batch-from-a-cursor class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><div class=openapi><div class=endpoint><span class="endpoint-method regular-font bold-text method-post">POST</span>
<span class=endpoint-path>/_db/{database-name}/_api/cursor/{cursor-identifier}</span></div><div class="openapi-description regular-font">If the cursor is still alive, returns an object with the next query result batch.</div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Path Parameters</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_path_database-name><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">database-name*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#read-the-next-batch-from-a-cursor_path_database-name><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The name of the database.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_path_cursor-identifier><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">cursor-identifier*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#read-the-next-batch-from-a-cursor_path_cursor-identifier><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The name of the cursor</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Query Parameters</div><div><ul class=openapi-table></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>HTTP Headers</div><div><ul class=openapi-table></ul></div></div><div class="responses regular-font"><div class=openapi-table-title>Responses</div><div class=openapi-responses><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">200</span>
<span class="openapi-property-type bold-text">OK</span>
<a href=#read-the-next-batch-from-a-cursor_res_200><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>Successfully fetched the batch.</p><ul class=openapi-table><div class=openapi-table-title>Response Body <span class=openapi-content-type>application/json</span> <span class=openapi-property-type>object</span></div><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_cached><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">cached*</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_cached><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>A boolean flag indicating whether the query result was served
from the query results cache or not. If the query result is served from the query
cache, the <code>extra</code> attribute in the response does not contain the <code>stats</code>
and <code>profile</code> sub-attributes.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_code><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">code*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_code><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The HTTP status code.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_count><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">count</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_count><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The total number of result documents available (only
available if the query was executed with the <code>count</code> attribute set).</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_error><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">error*</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_error><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>A flag to indicate that an error occurred (<code>false</code> in this case).</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_extra><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">extra</span>
<span class=openapi-property-type><span class=bold-text>object</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>An optional JSON object with extra information about the query result.</p><p>Only delivered as part of the first batch, or the last batch in case of a cursor
with the <code>stream</code> option enabled.</p></p><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_extra_plan><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">plan</span>
<span class=openapi-property-type><span class=bold-text>object</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_plan><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The execution plan.</p><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_extra_plan_collections><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">collections*</span>
<span class=openapi-property-type><span class=bold-text>array of objects</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_plan_collections><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>A list of the collections involved in the query. The list only includes the
collections that can statically be determined at query compile time.</p><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_extra_plan_collections_name><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">name*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_plan_collections_name><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The collection name.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_extra_plan_collections_type><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">type*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_plan_collections_type><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>How the collection is used.</p><p class=regular-font>Possible values: <code>"read"</code>, <code>"write"</code>, <code>"exclusive"</code></p></div></details></li></ul></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_extra_plan_estimatedCost><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">estimatedCost*</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_plan_estimatedCost><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The estimated cost of the query.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_extra_plan_estimatedNrItems><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">estimatedNrItems*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_plan_estimatedNrItems><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The estimated number of results.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_extra_plan_isModificationQuery><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">isModificationQuery*</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_plan_isModificationQuery><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>Whether the query contains write operations.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_extra_plan_nodes><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">nodes*</span>
<span class=openapi-property-type><span class=bold-text>array of objects</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_plan_nodes><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>A nested list of the execution plan nodes.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_extra_plan_rules><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">rules*</span>
<span class=openapi-property-type><span class=bold-text>array of strings</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_plan_rules><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>A list with the names of the applied optimizer rules.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_extra_plan_variables><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">variables*</span>
<span class=openapi-property-type><span class=bold-text>array of objects</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_plan_variables><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>All of the query variables, including user-created and internal ones.</p></div></details></li></ul></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_extra_profile><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">profile</span>
<span class=openapi-property-type><span class=bold-text>object</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_profile><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The duration of the different query execution phases in seconds.</p><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_extra_profile_executing><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">executing*</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_profile_executing><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font></p></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_extra_profile_finalizing><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">finalizing*</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_profile_finalizing><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font></p></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_extra_profile_initializing><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">initializing*</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_profile_initializing><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font></p></div></details></li><li class="openapi-table-row regular-font"><details id="read-the-next-batch-from-a-cursor_res_200_extra_profile_instantiating executors"><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">instantiating executors*</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_profile_instantiating%20executors><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font></p></div></details></li><li class="openapi-table-row regular-font"><details id="read-the-next-batch-from-a-cursor_res_200_extra_profile_instantiating plan"><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">instantiating plan*</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_profile_instantiating%20plan><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font></p></div></details></li><li class="openapi-table-row regular-font"><details id="read-the-next-batch-from-a-cursor_res_200_extra_profile_loading collections"><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">loading collections*</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_profile_loading%20collections><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font></p></div></details></li><li class="openapi-table-row regular-font"><details id="read-the-next-batch-from-a-cursor_res_200_extra_profile_optimizing ast"><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">optimizing ast*</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_profile_optimizing%20ast><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font></p></div></details></li><li class="openapi-table-row regular-font"><details id="read-the-next-batch-from-a-cursor_res_200_extra_profile_optimizing plan"><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">optimizing plan*</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_profile_optimizing%20plan><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font></p></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_extra_profile_parsing><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">parsing*</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_profile_parsing><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font></p></div></details></li></ul></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_extra_stats><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">stats*</span>
<span class=openapi-property-type><span class=bold-text>object</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_stats><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>An object with query statistics.</p><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_extra_stats_cacheHits><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">cacheHits*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_stats_cacheHits><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The total number of index entries read from in-memory caches for indexes
of type edge or persistent. This value is only non-zero when reading from indexes
that have an in-memory cache enabled, and when the query allows using the in-memory
cache (i.e. using equality lookups on all index attributes).</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_extra_stats_cacheMisses><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">cacheMisses*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_stats_cacheMisses><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The total number of cache read attempts for index entries that could not
be served from in-memory caches for indexes of type edge or persistent. This value
is only non-zero when reading from indexes that have an in-memory cache enabled, the
query allows using the in-memory cache (i.e. using equality lookups on all index attributes)
and the looked up values are not present in the cache.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_extra_stats_cursorsCreated><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">cursorsCreated*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_stats_cursorsCreated><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The total number of cursor objects created during query execution. Cursor
objects are created for index lookups.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_extra_stats_cursorsRearmed><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">cursorsRearmed*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_stats_cursorsRearmed><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The total number of times an existing cursor object was repurposed.
Repurposing an existing cursor object is normally more efficient compared to destroying an
existing cursor object and creating a new one from scratch.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_extra_stats_executionTime><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">executionTime*</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_stats_executionTime><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The query execution time (wall-clock time) in seconds.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_extra_stats_filtered><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">filtered*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_stats_filtered><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The total number of documents removed after executing a filter condition
in a <code>FilterNode</code> or another node that post-filters data. Note that nodes of the
<code>IndexNode</code> type can also filter documents by selecting only the required index range
from a collection, and the <code>filtered</code> value only indicates how much filtering was done by a
post filter in the <code>IndexNode</code> itself or following <code>FilterNode</code> nodes.
Nodes of the <code>EnumerateCollectionNode</code> and <code>TraversalNode</code> types can also apply
filter conditions and can report the number of filtered documents.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_extra_stats_fullCount><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">fullCount</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_stats_fullCount><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The total number of documents that matched the search condition if the query&rsquo;s
final top-level <code>LIMIT</code> operation were not present.
This attribute may only be returned if the <code>fullCount</code> option was set when starting the
query and only contains a sensible value if the query contains a <code>LIMIT</code> operation on
the top level.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_extra_stats_httpRequests><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">httpRequests*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_stats_httpRequests><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The total number of cluster-internal HTTP requests performed.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_extra_stats_intermediateCommits><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">intermediateCommits*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_stats_intermediateCommits><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The number of intermediate commits performed by the query. This is only non-zero
for write queries, and only for queries that reached either the <code>intermediateCommitSize</code>
or <code>intermediateCommitCount</code> thresholds. Note: in a cluster, intermediate commits can happen
on each participating DB-Server.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_extra_stats_nodes><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">nodes</span>
<span class=openapi-property-type><span class=bold-text>array of objects</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_stats_nodes><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>When the query is executed with the <code>profile</code> option set to at least <code>2</code>,
then this attribute contains runtime statistics per query execution node.
For a human readable output, you can execute
<code>db._profileQuery(&lt;query>, &lt;bind-vars>)</code> in arangosh.</p><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_extra_stats_nodes_calls><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">calls*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_stats_nodes_calls><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The number of calls to this node.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_extra_stats_nodes_id><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">id*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_stats_nodes_id><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The execution node ID to correlate the statistics with the <code>plan</code> returned in
the <code>extra</code> attribute.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_extra_stats_nodes_items><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">items*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_stats_nodes_items><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The number of items returned by this node. Items are the temporary results
returned at this stage.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_extra_stats_nodes_runtime><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">runtime*</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_stats_nodes_runtime><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The execution time of this node in seconds.</p></div></details></li></ul></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_extra_stats_peakMemoryUsage><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">peakMemoryUsage*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_stats_peakMemoryUsage><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The maximum memory usage of the query while it was running. In a cluster,
the memory accounting is done per shard, and the memory usage reported is the peak
memory usage value from the individual shards.
Note that to keep things lightweight, the per-query memory usage is tracked on a relatively
high level, not including any memory allocator overhead nor any memory used for temporary
results calculations (e.g. memory allocated/deallocated inside AQL expressions and function
calls).</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_extra_stats_scannedFull><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">scannedFull*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_stats_scannedFull><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The total number of documents iterated over when scanning a collection
without an index. Documents scanned by subqueries are included in the result, but
operations triggered by built-in or user-defined AQL functions are not.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_extra_stats_scannedIndex><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">scannedIndex*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_stats_scannedIndex><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The total number of documents iterated over when scanning a collection using
an index. Documents scanned by subqueries are included in the result, but operations
triggered by built-in or user-defined AQL functions are not.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_extra_stats_writesExecuted><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">writesExecuted*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_stats_writesExecuted><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The total number of data-modification operations successfully executed.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_extra_stats_writesIgnored><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">writesIgnored*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_stats_writesIgnored><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The total number of data-modification operations that were unsuccessful,
but have been ignored because of the <code>ignoreErrors</code> query option.</p></div></details></li></ul></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_extra_warnings><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">warnings*</span>
<span class=openapi-property-type><span class=bold-text>array of objects</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_warnings><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>A list of query warnings.</p><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_extra_warnings_code><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">code*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_warnings_code><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>An error code.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_extra_warnings_message><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">message*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_extra_warnings_message><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>A description of the problem.</p></div></details></li></ul></div></details></li></ul></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_hasMore><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">hasMore*</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_hasMore><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>A boolean indicator whether there are more results
available for the cursor on the server.</p><p>Note that even if <code>hasMore</code> returns <code>true</code>, the next call might still return no
documents. Once <code>hasMore</code> is <code>false</code>, the cursor is exhausted and the client
can stop asking for more results.</p></p></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_id><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">id</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_id><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The ID of the cursor for fetching more result batches.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_nextBatchId><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">nextBatchId</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_nextBatchId><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>Only set if the <code>allowRetry</code> query option is enabled in v3.11.0.
From v3.11.1 onward, this attribute is always set, except in the last batch.</p><p>The ID of the batch after the current one. The first batch has an ID of <code>1</code> and
the value is incremented by 1 with every batch. You can remember and use this
batch ID should retrieving the next batch fail. Use the
<code>POST /_api/cursor/&lt;cursor-id>/&lt;batch-id></code> endpoint to ask for the batch again.
You can also request the next batch.</p></p></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_200_result><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">result</span>
<span class=openapi-property-type><span class=bold-text>array</span></span>
<a href=#read-the-next-batch-from-a-cursor_res_200_result><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>An array of result documents for the current batch
(might be empty if the query has no results).</p></div></details></li></ul></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_400><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">400</span>
<span class="openapi-property-type bold-text">Bad Request</span>
<a href=#read-the-next-batch-from-a-cursor_res_400><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The cursor identifier is missing.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_404><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">404</span>
<span class="openapi-property-type bold-text">Not Found</span>
<a href=#read-the-next-batch-from-a-cursor_res_404><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>A cursor with the specified identifier cannot found.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_410><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">410</span>
<span class="openapi-property-type bold-text">Gone</span>
<a href=#read-the-next-batch-from-a-cursor_res_410><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>A server which processes the query or the leader of a shard which is
used in the query stops responding, but the connection has not been closed.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor_res_503><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">503</span>
<span class="openapi-property-type bold-text">Service Unavailable</span>
<a href=#read-the-next-batch-from-a-cursor_res_503><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>A server which processes the query or the leader of a shard which is used
in the query is down, either for going through a restart, a failure,
or connectivity issues.</p></div></details></li></ul></div></div></div><p><strong>Examples</strong></p><p>Valid request for next batch</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -X POST --header <span class=s1>&#39;accept: application/json&#39;</span> --data-binary @- --dump - <span class=s1>&#39;http://localhost:8529/_api/cursor&#39;</span> <span class=s>&lt;&lt;&#39;EOF&#39;
</span></span></span><span class=line><span class=cl><span class=s>{
</span></span></span><span class=line><span class=cl><span class=s>  &#34;query&#34;: &#34;FOR p IN products LIMIT 5 RETURN p&#34;,
</span></span></span><span class=line><span class=cl><span class=s>  &#34;count&#34;: true,
</span></span></span><span class=line><span class=cl><span class=s>  &#34;batchSize&#34;: 2
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>curl -X POST --header <span class=s1>&#39;accept: application/json&#39;</span> --dump - <span class=s1>&#39;http://localhost:8529/_api/cursor/71863&#39;</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>HTTP/1.1 <span class=m>200</span> OK
</span></span><span class=line><span class=cl>content-type: application/json
</span></span><span class=line><span class=cl>cache-control: no-cache, no-store, must-revalidate, pre-check<span class=o>=</span>0, post-check<span class=o>=</span>0, max-age<span class=o>=</span>0, s-maxage<span class=o>=</span><span class=m>0</span>
</span></span><span class=line><span class=cl>connection: Keep-Alive
</span></span><span class=line><span class=cl>content-length: <span class=m>549</span>
</span></span><span class=line><span class=cl>content-security-policy: frame-ancestors <span class=s1>&#39;self&#39;</span><span class=p>;</span> form-action <span class=s1>&#39;self&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>expires: <span class=m>0</span>
</span></span><span class=line><span class=cl>pragma: no-cache
</span></span><span class=line><span class=cl>server: ArangoDB
</span></span><span class=line><span class=cl>strict-transport-security: max-age<span class=o>=</span><span class=m>31536000</span> <span class=p>;</span> includeSubDomains
</span></span><span class=line><span class=cl>x-arango-queue-time-seconds: 0.000000
</span></span><span class=line><span class=cl>x-content-type-options: nosniff
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;result&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>    <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_key&#34;</span> : <span class=s2>&#34;71856&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_id&#34;</span> : <span class=s2>&#34;products/71856&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_rev&#34;</span> : <span class=s2>&#34;_jOk3JBe--_&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hello3&#34;</span> : <span class=s2>&#34;world1&#34;</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span>, 
</span></span><span class=line><span class=cl>    <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_key&#34;</span> : <span class=s2>&#34;71858&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_id&#34;</span> : <span class=s2>&#34;products/71858&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_rev&#34;</span> : <span class=s2>&#34;_jOk3JCC---&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hello4&#34;</span> : <span class=s2>&#34;world1&#34;</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>]</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;hasMore&#34;</span> : true, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;id&#34;</span> : <span class=s2>&#34;71863&#34;</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;count&#34;</span> : 5, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;extra&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;warnings&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;stats&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;writesExecuted&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;writesIgnored&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;scannedFull&#34;</span> : 5, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;scannedIndex&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cursorsCreated&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cursorsRearmed&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cacheHits&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cacheMisses&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;filtered&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;httpRequests&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;executionTime&#34;</span> : 0.0002257040000017696, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;peakMemoryUsage&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;intermediateCommits&#34;</span> : <span class=m>0</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;cached&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;nextBatchId&#34;</span> : <span class=s2>&#34;3&#34;</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;error&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;code&#34;</span> : <span class=m>200</span> 
</span></span><span class=line><span class=cl><span class=o>}</span></span></span></code></pre></div></div></div><br><p>Missing identifier</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -X POST --header <span class=s1>&#39;accept: application/json&#39;</span> --dump - <span class=s1>&#39;http://localhost:8529/_api/cursor&#39;</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>HTTP/1.1 <span class=m>400</span> Bad Request
</span></span><span class=line><span class=cl>content-type: application/json
</span></span><span class=line><span class=cl>cache-control: no-cache, no-store, must-revalidate, pre-check<span class=o>=</span>0, post-check<span class=o>=</span>0, max-age<span class=o>=</span>0, s-maxage<span class=o>=</span><span class=m>0</span>
</span></span><span class=line><span class=cl>connection: Keep-Alive
</span></span><span class=line><span class=cl>content-length: <span class=m>73</span>
</span></span><span class=line><span class=cl>content-security-policy: frame-ancestors <span class=s1>&#39;self&#39;</span><span class=p>;</span> form-action <span class=s1>&#39;self&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>expires: <span class=m>0</span>
</span></span><span class=line><span class=cl>pragma: no-cache
</span></span><span class=line><span class=cl>server: ArangoDB
</span></span><span class=line><span class=cl>strict-transport-security: max-age<span class=o>=</span><span class=m>31536000</span> <span class=p>;</span> includeSubDomains
</span></span><span class=line><span class=cl>x-arango-queue-time-seconds: 0.000000
</span></span><span class=line><span class=cl>x-content-type-options: nosniff
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;code&#34;</span> : 400, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;error&#34;</span> : true, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;errorMessage&#34;</span> : <span class=s2>&#34;query is empty&#34;</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;errorNum&#34;</span> : <span class=m>1502</span> 
</span></span><span class=line><span class=cl><span class=o>}</span></span></span></code></pre></div></div></div><br><p>Unknown identifier</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -X POST --header <span class=s1>&#39;accept: application/json&#39;</span> --dump - <span class=s1>&#39;http://localhost:8529/_api/cursor/123123&#39;</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>HTTP/1.1 <span class=m>404</span> Not Found
</span></span><span class=line><span class=cl>content-type: application/json
</span></span><span class=line><span class=cl>cache-control: no-cache, no-store, must-revalidate, pre-check<span class=o>=</span>0, post-check<span class=o>=</span>0, max-age<span class=o>=</span>0, s-maxage<span class=o>=</span><span class=m>0</span>
</span></span><span class=line><span class=cl>connection: Keep-Alive
</span></span><span class=line><span class=cl>content-length: <span class=m>75</span>
</span></span><span class=line><span class=cl>content-security-policy: frame-ancestors <span class=s1>&#39;self&#39;</span><span class=p>;</span> form-action <span class=s1>&#39;self&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>expires: <span class=m>0</span>
</span></span><span class=line><span class=cl>pragma: no-cache
</span></span><span class=line><span class=cl>server: ArangoDB
</span></span><span class=line><span class=cl>strict-transport-security: max-age<span class=o>=</span><span class=m>31536000</span> <span class=p>;</span> includeSubDomains
</span></span><span class=line><span class=cl>x-arango-queue-time-seconds: 0.000000
</span></span><span class=line><span class=cl>x-content-type-options: nosniff
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;code&#34;</span> : 404, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;error&#34;</span> : true, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;errorMessage&#34;</span> : <span class=s2>&#34;cursor not found&#34;</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;errorNum&#34;</span> : <span class=m>1600</span> 
</span></span><span class=line><span class=cl><span class=o>}</span></span></span></code></pre></div></div></div><br><h3 id=read-the-next-batch-from-a-cursor-deprecated>Read the next batch from a cursor (deprecated) <a href=/3.11/develop/http-api/queries/aql-queries/#read-the-next-batch-from-a-cursor-deprecated class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><div class=openapi><div class=endpoint><span class="endpoint-method regular-font bold-text method-put">PUT</span>
<span class=endpoint-path>/_db/{database-name}/_api/cursor/{cursor-identifier}</span></div><div class="openapi-description regular-font"><div class="box notices cstyle warning"><div class=box-content-container><div class=box-content><i class="fas fa-exclamation-triangle"></i><div class=box-text>This endpoint is deprecated in favor its functionally equivalent POST counterpart.</div></div></div></div><p>If the cursor is still alive, returns an object with the following
attributes:</p><ul><li><code>id</code>: a <code>cursor-identifier</code></li><li><code>result</code>: a list of documents for the current batch</li><li><code>hasMore</code>: <code>false</code> if this was the last batch</li><li><code>count</code>: if present the total number of elements</li><li><code>code</code>: an HTTP status code</li><li><code>error</code>: a boolean flag to indicate whether an error occurred</li><li><code>errorNum</code>: a server error number (if <code>error</code> is <code>true</code>)</li><li><code>errorMessage</code>: a descriptive error message (if <code>error</code> is <code>true</code>)</li><li><code>extra</code>: an object with additional information about the query result, with
the nested objects <code>stats</code> and <code>warnings</code>. Only delivered as part of the last
batch in case of a cursor with the <code>stream</code> option enabled.</li></ul><p>Note that even if <code>hasMore</code> returns <code>true</code>, the next call might
still return no documents. If, however, <code>hasMore</code> is <code>false</code>, then
the cursor is exhausted. Once the <code>hasMore</code> attribute has a value of
<code>false</code>, the client can stop.</p></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Path Parameters</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor-deprecated_path_database-name><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">database-name*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#read-the-next-batch-from-a-cursor-deprecated_path_database-name><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The name of the database.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor-deprecated_path_cursor-identifier><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">cursor-identifier*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#read-the-next-batch-from-a-cursor-deprecated_path_cursor-identifier><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The name of the cursor</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Query Parameters</div><div><ul class=openapi-table></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>HTTP Headers</div><div><ul class=openapi-table></ul></div></div><div class="responses regular-font"><div class=openapi-table-title>Responses</div><div class=openapi-responses><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor-deprecated_res_200><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">200</span>
<span class="openapi-property-type bold-text">OK</span>
<a href=#read-the-next-batch-from-a-cursor-deprecated_res_200><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>Successfully fetched the batch.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor-deprecated_res_400><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">400</span>
<span class="openapi-property-type bold-text">Bad Request</span>
<a href=#read-the-next-batch-from-a-cursor-deprecated_res_400><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The cursor identifier is missing.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor-deprecated_res_404><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">404</span>
<span class="openapi-property-type bold-text">Not Found</span>
<a href=#read-the-next-batch-from-a-cursor-deprecated_res_404><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>A cursor with the specified identifier cannot be found.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor-deprecated_res_410><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">410</span>
<span class="openapi-property-type bold-text">Gone</span>
<a href=#read-the-next-batch-from-a-cursor-deprecated_res_410><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>A server which processes the query or the leader of a shard which is
used in the query stops responding, but the connection has not been closed.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-the-next-batch-from-a-cursor-deprecated_res_503><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">503</span>
<span class="openapi-property-type bold-text">Service Unavailable</span>
<a href=#read-the-next-batch-from-a-cursor-deprecated_res_503><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>A server which processes the query or the leader of a shard which is used
in the query is down, either for going through a restart, a failure,
or connectivity issues.</p></div></details></li></ul></div></div></div><p><strong>Examples</strong></p><p>Valid request for next batch</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -X POST --header <span class=s1>&#39;accept: application/json&#39;</span> --data-binary @- --dump - <span class=s1>&#39;http://localhost:8529/_api/cursor&#39;</span> <span class=s>&lt;&lt;&#39;EOF&#39;
</span></span></span><span class=line><span class=cl><span class=s>{
</span></span></span><span class=line><span class=cl><span class=s>  &#34;query&#34;: &#34;FOR p IN products LIMIT 5 RETURN p&#34;,
</span></span></span><span class=line><span class=cl><span class=s>  &#34;count&#34;: true,
</span></span></span><span class=line><span class=cl><span class=s>  &#34;batchSize&#34;: 2
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>curl -X PUT --header <span class=s1>&#39;accept: application/json&#39;</span> --dump - <span class=s1>&#39;http://localhost:8529/_api/cursor/71882&#39;</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>HTTP/1.1 <span class=m>200</span> OK
</span></span><span class=line><span class=cl>content-type: application/json
</span></span><span class=line><span class=cl>cache-control: no-cache, no-store, must-revalidate, pre-check<span class=o>=</span>0, post-check<span class=o>=</span>0, max-age<span class=o>=</span>0, s-maxage<span class=o>=</span><span class=m>0</span>
</span></span><span class=line><span class=cl>connection: Keep-Alive
</span></span><span class=line><span class=cl>content-length: <span class=m>549</span>
</span></span><span class=line><span class=cl>content-security-policy: frame-ancestors <span class=s1>&#39;self&#39;</span><span class=p>;</span> form-action <span class=s1>&#39;self&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>expires: <span class=m>0</span>
</span></span><span class=line><span class=cl>pragma: no-cache
</span></span><span class=line><span class=cl>server: ArangoDB
</span></span><span class=line><span class=cl>strict-transport-security: max-age<span class=o>=</span><span class=m>31536000</span> <span class=p>;</span> includeSubDomains
</span></span><span class=line><span class=cl>x-arango-queue-time-seconds: 0.000000
</span></span><span class=line><span class=cl>x-content-type-options: nosniff
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;result&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>    <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_key&#34;</span> : <span class=s2>&#34;71875&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_id&#34;</span> : <span class=s2>&#34;products/71875&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_rev&#34;</span> : <span class=s2>&#34;_jOk3JFK--A&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hello3&#34;</span> : <span class=s2>&#34;world1&#34;</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span>, 
</span></span><span class=line><span class=cl>    <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_key&#34;</span> : <span class=s2>&#34;71877&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_id&#34;</span> : <span class=s2>&#34;products/71877&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_rev&#34;</span> : <span class=s2>&#34;_jOk3JFO---&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hello4&#34;</span> : <span class=s2>&#34;world1&#34;</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>]</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;hasMore&#34;</span> : true, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;id&#34;</span> : <span class=s2>&#34;71882&#34;</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;count&#34;</span> : 5, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;extra&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;warnings&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;stats&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;writesExecuted&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;writesIgnored&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;scannedFull&#34;</span> : 5, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;scannedIndex&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cursorsCreated&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cursorsRearmed&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cacheHits&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cacheMisses&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;filtered&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;httpRequests&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;executionTime&#34;</span> : 0.0001561070000093423, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;peakMemoryUsage&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;intermediateCommits&#34;</span> : <span class=m>0</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;cached&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;nextBatchId&#34;</span> : <span class=s2>&#34;3&#34;</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;error&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;code&#34;</span> : <span class=m>200</span> 
</span></span><span class=line><span class=cl><span class=o>}</span></span></span></code></pre></div></div></div><br><p>Missing identifier</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -X PUT --header <span class=s1>&#39;accept: application/json&#39;</span> --dump - <span class=s1>&#39;http://localhost:8529/_api/cursor&#39;</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>HTTP/1.1 <span class=m>400</span> Bad Request
</span></span><span class=line><span class=cl>content-type: application/json
</span></span><span class=line><span class=cl>cache-control: no-cache, no-store, must-revalidate, pre-check<span class=o>=</span>0, post-check<span class=o>=</span>0, max-age<span class=o>=</span>0, s-maxage<span class=o>=</span><span class=m>0</span>
</span></span><span class=line><span class=cl>connection: Keep-Alive
</span></span><span class=line><span class=cl>content-length: <span class=m>97</span>
</span></span><span class=line><span class=cl>content-security-policy: frame-ancestors <span class=s1>&#39;self&#39;</span><span class=p>;</span> form-action <span class=s1>&#39;self&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>expires: <span class=m>0</span>
</span></span><span class=line><span class=cl>pragma: no-cache
</span></span><span class=line><span class=cl>server: ArangoDB
</span></span><span class=line><span class=cl>strict-transport-security: max-age<span class=o>=</span><span class=m>31536000</span> <span class=p>;</span> includeSubDomains
</span></span><span class=line><span class=cl>x-arango-queue-time-seconds: 0.000000
</span></span><span class=line><span class=cl>x-content-type-options: nosniff
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;code&#34;</span> : 400, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;error&#34;</span> : true, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;errorMessage&#34;</span> : <span class=s2>&#34;expecting POST /_api/cursor/&lt;cursor-id&gt;&#34;</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;errorNum&#34;</span> : <span class=m>400</span> 
</span></span><span class=line><span class=cl><span class=o>}</span></span></span></code></pre></div></div></div><br><p>Unknown identifier</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -X PUT --header <span class=s1>&#39;accept: application/json&#39;</span> --dump - <span class=s1>&#39;http://localhost:8529/_api/cursor/123123&#39;</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>HTTP/1.1 <span class=m>404</span> Not Found
</span></span><span class=line><span class=cl>content-type: application/json
</span></span><span class=line><span class=cl>cache-control: no-cache, no-store, must-revalidate, pre-check<span class=o>=</span>0, post-check<span class=o>=</span>0, max-age<span class=o>=</span>0, s-maxage<span class=o>=</span><span class=m>0</span>
</span></span><span class=line><span class=cl>connection: Keep-Alive
</span></span><span class=line><span class=cl>content-length: <span class=m>75</span>
</span></span><span class=line><span class=cl>content-security-policy: frame-ancestors <span class=s1>&#39;self&#39;</span><span class=p>;</span> form-action <span class=s1>&#39;self&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>expires: <span class=m>0</span>
</span></span><span class=line><span class=cl>pragma: no-cache
</span></span><span class=line><span class=cl>server: ArangoDB
</span></span><span class=line><span class=cl>strict-transport-security: max-age<span class=o>=</span><span class=m>31536000</span> <span class=p>;</span> includeSubDomains
</span></span><span class=line><span class=cl>x-arango-queue-time-seconds: 0.000000
</span></span><span class=line><span class=cl>x-content-type-options: nosniff
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;code&#34;</span> : 404, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;error&#34;</span> : true, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;errorMessage&#34;</span> : <span class=s2>&#34;cursor not found&#34;</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;errorNum&#34;</span> : <span class=m>1600</span> 
</span></span><span class=line><span class=cl><span class=o>}</span></span></span></code></pre></div></div></div><br><h3 id=read-a-batch-from-the-cursor-again>Read a batch from the cursor again <a href=/3.11/develop/http-api/queries/aql-queries/#read-a-batch-from-the-cursor-again class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><div class=openapi><div class=endpoint><span class="endpoint-method regular-font bold-text method-post">POST</span>
<span class=endpoint-path>/_db/{database-name}/_api/cursor/{cursor-identifier}/{batch-identifier}</span></div><div class="openapi-description regular-font"><p>You can use this endpoint to retry fetching the latest batch from a cursor.
The endpoint requires the <code>allowRetry</code> query option to be enabled for the cursor.</p><p>Calling this endpoint with the last returned batch identifier returns the
query results for that same batch again. This does not advance the cursor.
Client applications can use this to re-transfer a batch once more in case of
transfer errors.</p><p>You can also call this endpoint with the next batch identifier, i.e. the value
returned in the <code>nextBatchId</code> attribute of a previous request. This advances the
cursor and returns the results of the next batch.</p><p>From v3.11.1 onward, you may use this endpoint even if the <code>allowRetry</code>
attribute is <code>false</code> to fetch the next batch, but you cannot request a batch
again unless you set it to <code>true</code>.</p><p>Note that it is only supported to query the last returned batch identifier or
the directly following batch identifier. The latter is only supported if there
are more results in the cursor (i.e. <code>hasMore</code> is <code>true</code> in the latest batch).</p><p>Note that when the last batch has been consumed successfully by a client
application, it should explicitly delete the cursor to inform the server that it
successfully received and processed the batch so that the server can free up
resources.</p></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Path Parameters</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_path_database-name><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">database-name*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#read-a-batch-from-the-cursor-again_path_database-name><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The name of the database.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_path_cursor-identifier><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">cursor-identifier*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#read-a-batch-from-the-cursor-again_path_cursor-identifier><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The ID of the cursor.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_path_batch-identifier><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">batch-identifier*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#read-a-batch-from-the-cursor-again_path_batch-identifier><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The ID of the batch. The first batch has an ID of <code>1</code> and the value is
incremented by 1 with every batch. You can only request the latest batch again
(or the next batch). Earlier batches are not kept on the server-side.</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Query Parameters</div><div><ul class=openapi-table></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>HTTP Headers</div><div><ul class=openapi-table></ul></div></div><div class="responses regular-font"><div class=openapi-table-title>Responses</div><div class=openapi-responses><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">200</span>
<span class="openapi-property-type bold-text">OK</span>
<a href=#read-a-batch-from-the-cursor-again_res_200><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The server responds with <em>HTTP 200</em> in case of success.</p><ul class=openapi-table><div class=openapi-table-title>Response Body <span class=openapi-content-type>application/json</span> <span class=openapi-property-type>object</span></div><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_cached><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">cached*</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_cached><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>A boolean flag indicating whether the query result was served
from the query results cache or not. If the query result is served from the query
cache, the <code>extra</code> attribute in the response does not contain the <code>stats</code>
and <code>profile</code> sub-attributes.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_code><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">code*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_code><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The HTTP status code.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_count><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">count</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_count><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The total number of result documents available (only
available if the query was executed with the <code>count</code> attribute set).</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_error><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">error*</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_error><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>A flag to indicate that an error occurred (<code>false</code> in this case).</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_extra><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">extra</span>
<span class=openapi-property-type><span class=bold-text>object</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>An optional JSON object with extra information about the query result.</p><p>Only delivered as part of the first batch, or the last batch in case of a cursor
with the <code>stream</code> option enabled.</p></p><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_extra_plan><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">plan</span>
<span class=openapi-property-type><span class=bold-text>object</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_plan><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The execution plan.</p><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_extra_plan_collections><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">collections*</span>
<span class=openapi-property-type><span class=bold-text>array of objects</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_plan_collections><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>A list of the collections involved in the query. The list only includes the
collections that can statically be determined at query compile time.</p><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_extra_plan_collections_name><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">name*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_plan_collections_name><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The collection name.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_extra_plan_collections_type><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">type*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_plan_collections_type><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>How the collection is used.</p><p class=regular-font>Possible values: <code>"read"</code>, <code>"write"</code>, <code>"exclusive"</code></p></div></details></li></ul></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_extra_plan_estimatedCost><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">estimatedCost*</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_plan_estimatedCost><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The estimated cost of the query.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_extra_plan_estimatedNrItems><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">estimatedNrItems*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_plan_estimatedNrItems><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The estimated number of results.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_extra_plan_isModificationQuery><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">isModificationQuery*</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_plan_isModificationQuery><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>Whether the query contains write operations.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_extra_plan_nodes><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">nodes*</span>
<span class=openapi-property-type><span class=bold-text>array of objects</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_plan_nodes><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>A nested list of the execution plan nodes.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_extra_plan_rules><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">rules*</span>
<span class=openapi-property-type><span class=bold-text>array of strings</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_plan_rules><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>A list with the names of the applied optimizer rules.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_extra_plan_variables><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">variables*</span>
<span class=openapi-property-type><span class=bold-text>array of objects</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_plan_variables><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>All of the query variables, including user-created and internal ones.</p></div></details></li></ul></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_extra_profile><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">profile</span>
<span class=openapi-property-type><span class=bold-text>object</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_profile><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The duration of the different query execution phases in seconds.</p><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_extra_profile_executing><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">executing*</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_profile_executing><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font></p></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_extra_profile_finalizing><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">finalizing*</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_profile_finalizing><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font></p></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_extra_profile_initializing><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">initializing*</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_profile_initializing><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font></p></div></details></li><li class="openapi-table-row regular-font"><details id="read-a-batch-from-the-cursor-again_res_200_extra_profile_instantiating executors"><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">instantiating executors*</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_profile_instantiating%20executors><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font></p></div></details></li><li class="openapi-table-row regular-font"><details id="read-a-batch-from-the-cursor-again_res_200_extra_profile_instantiating plan"><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">instantiating plan*</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_profile_instantiating%20plan><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font></p></div></details></li><li class="openapi-table-row regular-font"><details id="read-a-batch-from-the-cursor-again_res_200_extra_profile_loading collections"><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">loading collections*</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_profile_loading%20collections><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font></p></div></details></li><li class="openapi-table-row regular-font"><details id="read-a-batch-from-the-cursor-again_res_200_extra_profile_optimizing ast"><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">optimizing ast*</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_profile_optimizing%20ast><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font></p></div></details></li><li class="openapi-table-row regular-font"><details id="read-a-batch-from-the-cursor-again_res_200_extra_profile_optimizing plan"><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">optimizing plan*</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_profile_optimizing%20plan><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font></p></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_extra_profile_parsing><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">parsing*</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_profile_parsing><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font></p></div></details></li></ul></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_extra_stats><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">stats*</span>
<span class=openapi-property-type><span class=bold-text>object</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_stats><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>An object with query statistics.</p><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_extra_stats_cacheHits><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">cacheHits*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_stats_cacheHits><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The total number of index entries read from in-memory caches for indexes
of type edge or persistent. This value is only non-zero when reading from indexes
that have an in-memory cache enabled, and when the query allows using the in-memory
cache (i.e. using equality lookups on all index attributes).</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_extra_stats_cacheMisses><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">cacheMisses*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_stats_cacheMisses><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The total number of cache read attempts for index entries that could not
be served from in-memory caches for indexes of type edge or persistent. This value
is only non-zero when reading from indexes that have an in-memory cache enabled, the
query allows using the in-memory cache (i.e. using equality lookups on all index attributes)
and the looked up values are not present in the cache.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_extra_stats_cursorsCreated><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">cursorsCreated*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_stats_cursorsCreated><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The total number of cursor objects created during query execution. Cursor
objects are created for index lookups.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_extra_stats_cursorsRearmed><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">cursorsRearmed*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_stats_cursorsRearmed><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The total number of times an existing cursor object was repurposed.
Repurposing an existing cursor object is normally more efficient compared to destroying an
existing cursor object and creating a new one from scratch.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_extra_stats_executionTime><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">executionTime*</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_stats_executionTime><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The query execution time (wall-clock time) in seconds.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_extra_stats_filtered><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">filtered*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_stats_filtered><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The total number of documents removed after executing a filter condition
in a <code>FilterNode</code> or another node that post-filters data. Note that nodes of the
<code>IndexNode</code> type can also filter documents by selecting only the required index range
from a collection, and the <code>filtered</code> value only indicates how much filtering was done by a
post filter in the <code>IndexNode</code> itself or following <code>FilterNode</code> nodes.
Nodes of the <code>EnumerateCollectionNode</code> and <code>TraversalNode</code> types can also apply
filter conditions and can report the number of filtered documents.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_extra_stats_fullCount><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">fullCount</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_stats_fullCount><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The total number of documents that matched the search condition if the query&rsquo;s
final top-level <code>LIMIT</code> operation were not present.
This attribute may only be returned if the <code>fullCount</code> option was set when starting the
query and only contains a sensible value if the query contains a <code>LIMIT</code> operation on
the top level.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_extra_stats_httpRequests><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">httpRequests*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_stats_httpRequests><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The total number of cluster-internal HTTP requests performed.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_extra_stats_intermediateCommits><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">intermediateCommits*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_stats_intermediateCommits><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The number of intermediate commits performed by the query. This is only non-zero
for write queries, and only for queries that reached either the <code>intermediateCommitSize</code>
or <code>intermediateCommitCount</code> thresholds. Note: in a cluster, intermediate commits can happen
on each participating DB-Server.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_extra_stats_nodes><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">nodes</span>
<span class=openapi-property-type><span class=bold-text>array of objects</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_stats_nodes><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>When the query is executed with the <code>profile</code> option set to at least <code>2</code>,
then this attribute contains runtime statistics per query execution node.
For a human readable output, you can execute
<code>db._profileQuery(&lt;query>, &lt;bind-vars>)</code> in arangosh.</p><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_extra_stats_nodes_calls><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">calls*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_stats_nodes_calls><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The number of calls to this node.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_extra_stats_nodes_id><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">id*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_stats_nodes_id><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The execution node ID to correlate the statistics with the <code>plan</code> returned in
the <code>extra</code> attribute.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_extra_stats_nodes_items><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">items*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_stats_nodes_items><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The number of items returned by this node. Items are the temporary results
returned at this stage.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_extra_stats_nodes_runtime><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">runtime*</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_stats_nodes_runtime><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The execution time of this node in seconds.</p></div></details></li></ul></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_extra_stats_peakMemoryUsage><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">peakMemoryUsage*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_stats_peakMemoryUsage><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The maximum memory usage of the query while it was running. In a cluster,
the memory accounting is done per shard, and the memory usage reported is the peak
memory usage value from the individual shards.
Note that to keep things lightweight, the per-query memory usage is tracked on a relatively
high level, not including any memory allocator overhead nor any memory used for temporary
results calculations (e.g. memory allocated/deallocated inside AQL expressions and function
calls).</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_extra_stats_scannedFull><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">scannedFull*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_stats_scannedFull><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The total number of documents iterated over when scanning a collection
without an index. Documents scanned by subqueries are included in the result, but
operations triggered by built-in or user-defined AQL functions are not.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_extra_stats_scannedIndex><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">scannedIndex*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_stats_scannedIndex><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The total number of documents iterated over when scanning a collection using
an index. Documents scanned by subqueries are included in the result, but operations
triggered by built-in or user-defined AQL functions are not.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_extra_stats_writesExecuted><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">writesExecuted*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_stats_writesExecuted><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The total number of data-modification operations successfully executed.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_extra_stats_writesIgnored><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">writesIgnored*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_stats_writesIgnored><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The total number of data-modification operations that were unsuccessful,
but have been ignored because of the <code>ignoreErrors</code> query option.</p></div></details></li></ul></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_extra_warnings><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">warnings*</span>
<span class=openapi-property-type><span class=bold-text>array of objects</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_warnings><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>A list of query warnings.</p><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_extra_warnings_code><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">code*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_warnings_code><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>An error code.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_extra_warnings_message><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">message*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_extra_warnings_message><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>A description of the problem.</p></div></details></li></ul></div></details></li></ul></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_hasMore><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">hasMore*</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_hasMore><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>A boolean indicator whether there are more results
available for the cursor on the server.</p><p>Note that even if <code>hasMore</code> returns <code>true</code>, the next call might still return no
documents. Once <code>hasMore</code> is <code>false</code>, the cursor is exhausted and the client
can stop asking for more results.</p></p></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_id><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">id</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_id><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The ID of the cursor for fetching more result batches.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_nextBatchId><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">nextBatchId</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_nextBatchId><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>Only set if the <code>allowRetry</code> query option is enabled in v3.11.0.
From v3.11.1 onward, this attribute is always set, except in the last batch.</p><p>The ID of the batch after the current one. The first batch has an ID of <code>1</code> and
the value is incremented by 1 with every batch. You can remember and use this
batch ID should retrieving the next batch fail. Use the
<code>POST /_api/cursor/&lt;cursor-id>/&lt;batch-id></code> endpoint to ask for the batch again.
You can also request the next batch.</p></p></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_200_result><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">result</span>
<span class=openapi-property-type><span class=bold-text>array</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_200_result><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>An array of result documents for the current batch
(might be empty if the query has no results).</p></div></details></li></ul></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_400><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">400</span>
<span class="openapi-property-type bold-text">Bad Request</span>
<a href=#read-a-batch-from-the-cursor-again_res_400><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The cursor and the batch identifier are missing.</p><ul class=openapi-table><div class=openapi-table-title>Response Body <span class=openapi-content-type>application/json</span> <span class=openapi-property-type>object</span></div><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_400_code><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">code*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_400_code><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The HTTP status code.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_400_error><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">error*</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_400_error><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>A flag to indicate that an error occurred (<code>false</code> in this case).</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_400_errorMessage><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">errorMessage*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_400_errorMessage><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>A descriptive error message (if <code>error</code> is <code>true</code>).</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_400_errorNum><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">errorNum*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#read-a-batch-from-the-cursor-again_res_400_errorNum><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>A server error number (if <code>error</code> is <code>true</code>).</p></div></details></li></ul></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_404><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">404</span>
<span class="openapi-property-type bold-text">Not Found</span>
<a href=#read-a-batch-from-the-cursor-again_res_404><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>A cursor with the specified identifier cannot be found, or the requested
batch isn&rsquo;t available.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_410><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">410</span>
<span class="openapi-property-type bold-text">Gone</span>
<a href=#read-a-batch-from-the-cursor-again_res_410><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The server responds with <em>HTTP 410</em> if a server which processes the query
or is the leader for a shard which is used in the query stops responding, but
the connection has not been closed.</p></div></details></li><li class="openapi-table-row regular-font"><details id=read-a-batch-from-the-cursor-again_res_503><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">503</span>
<span class="openapi-property-type bold-text">Service Unavailable</span>
<a href=#read-a-batch-from-the-cursor-again_res_503><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The server responds with <em>HTTP 503</em> if a server which processes the query
or is the leader for a shard which is used in the query is down, either for
going through a restart, a failure or connectivity issues.</p></div></details></li></ul></div></div></div><p><strong>Examples</strong></p><p>Request the second batch (again):</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -X POST --header <span class=s1>&#39;accept: application/json&#39;</span> --data-binary @- --dump - <span class=s1>&#39;http://localhost:8529/_api/cursor&#39;</span> <span class=s>&lt;&lt;&#39;EOF&#39;
</span></span></span><span class=line><span class=cl><span class=s>{
</span></span></span><span class=line><span class=cl><span class=s>  &#34;query&#34;: &#34;FOR i IN 1..5 RETURN i&#34;,
</span></span></span><span class=line><span class=cl><span class=s>  &#34;count&#34;: true,
</span></span></span><span class=line><span class=cl><span class=s>  &#34;batchSize&#34;: 2,
</span></span></span><span class=line><span class=cl><span class=s>  &#34;options&#34;: {
</span></span></span><span class=line><span class=cl><span class=s>    &#34;allowRetry&#34;: true
</span></span></span><span class=line><span class=cl><span class=s>  }
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>curl -X POST --header <span class=s1>&#39;accept: application/json&#39;</span> --dump - <span class=s1>&#39;http://localhost:8529/_api/cursor/71886&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>curl -X POST --header <span class=s1>&#39;accept: application/json&#39;</span> --dump - <span class=s1>&#39;http://localhost:8529/_api/cursor/71886/2&#39;</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>HTTP/1.1 <span class=m>201</span> Created
</span></span><span class=line><span class=cl>content-type: application/json
</span></span><span class=line><span class=cl>cache-control: no-cache, no-store, must-revalidate, pre-check<span class=o>=</span>0, post-check<span class=o>=</span>0, max-age<span class=o>=</span>0, s-maxage<span class=o>=</span><span class=m>0</span>
</span></span><span class=line><span class=cl>connection: Keep-Alive
</span></span><span class=line><span class=cl>content-length: <span class=m>395</span>
</span></span><span class=line><span class=cl>content-security-policy: frame-ancestors <span class=s1>&#39;self&#39;</span><span class=p>;</span> form-action <span class=s1>&#39;self&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>expires: <span class=m>0</span>
</span></span><span class=line><span class=cl>pragma: no-cache
</span></span><span class=line><span class=cl>server: ArangoDB
</span></span><span class=line><span class=cl>strict-transport-security: max-age<span class=o>=</span><span class=m>31536000</span> <span class=p>;</span> includeSubDomains
</span></span><span class=line><span class=cl>x-arango-queue-time-seconds: 0.000000
</span></span><span class=line><span class=cl>x-content-type-options: nosniff
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;result&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>    1, 
</span></span><span class=line><span class=cl>    <span class=m>2</span> 
</span></span><span class=line><span class=cl>  <span class=o>]</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;hasMore&#34;</span> : true, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;id&#34;</span> : <span class=s2>&#34;71886&#34;</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;count&#34;</span> : 5, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;extra&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;warnings&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;stats&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;writesExecuted&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;writesIgnored&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;scannedFull&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;scannedIndex&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cursorsCreated&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cursorsRearmed&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cacheHits&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cacheMisses&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;filtered&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;httpRequests&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;executionTime&#34;</span> : 0.0001437649999616042, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;peakMemoryUsage&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;intermediateCommits&#34;</span> : <span class=m>0</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;cached&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;nextBatchId&#34;</span> : <span class=s2>&#34;2&#34;</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;error&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;code&#34;</span> : <span class=m>201</span> 
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>HTTP/1.1 <span class=m>200</span> OK
</span></span><span class=line><span class=cl>content-type: application/json
</span></span><span class=line><span class=cl>cache-control: no-cache, no-store, must-revalidate, pre-check<span class=o>=</span>0, post-check<span class=o>=</span>0, max-age<span class=o>=</span>0, s-maxage<span class=o>=</span><span class=m>0</span>
</span></span><span class=line><span class=cl>connection: Keep-Alive
</span></span><span class=line><span class=cl>content-length: <span class=m>395</span>
</span></span><span class=line><span class=cl>content-security-policy: frame-ancestors <span class=s1>&#39;self&#39;</span><span class=p>;</span> form-action <span class=s1>&#39;self&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>expires: <span class=m>0</span>
</span></span><span class=line><span class=cl>pragma: no-cache
</span></span><span class=line><span class=cl>server: ArangoDB
</span></span><span class=line><span class=cl>strict-transport-security: max-age<span class=o>=</span><span class=m>31536000</span> <span class=p>;</span> includeSubDomains
</span></span><span class=line><span class=cl>x-arango-queue-time-seconds: 0.000000
</span></span><span class=line><span class=cl>x-content-type-options: nosniff
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;result&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>    3, 
</span></span><span class=line><span class=cl>    <span class=m>4</span> 
</span></span><span class=line><span class=cl>  <span class=o>]</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;hasMore&#34;</span> : true, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;id&#34;</span> : <span class=s2>&#34;71886&#34;</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;count&#34;</span> : 5, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;extra&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;warnings&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;stats&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;writesExecuted&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;writesIgnored&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;scannedFull&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;scannedIndex&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cursorsCreated&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cursorsRearmed&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cacheHits&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cacheMisses&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;filtered&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;httpRequests&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;executionTime&#34;</span> : 0.0001437649999616042, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;peakMemoryUsage&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;intermediateCommits&#34;</span> : <span class=m>0</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;cached&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;nextBatchId&#34;</span> : <span class=s2>&#34;3&#34;</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;error&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;code&#34;</span> : <span class=m>200</span> 
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>HTTP/1.1 <span class=m>200</span> OK
</span></span><span class=line><span class=cl>content-type: application/json
</span></span><span class=line><span class=cl>cache-control: no-cache, no-store, must-revalidate, pre-check<span class=o>=</span>0, post-check<span class=o>=</span>0, max-age<span class=o>=</span>0, s-maxage<span class=o>=</span><span class=m>0</span>
</span></span><span class=line><span class=cl>connection: Keep-Alive
</span></span><span class=line><span class=cl>content-length: <span class=m>395</span>
</span></span><span class=line><span class=cl>content-security-policy: frame-ancestors <span class=s1>&#39;self&#39;</span><span class=p>;</span> form-action <span class=s1>&#39;self&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>expires: <span class=m>0</span>
</span></span><span class=line><span class=cl>pragma: no-cache
</span></span><span class=line><span class=cl>server: ArangoDB
</span></span><span class=line><span class=cl>strict-transport-security: max-age<span class=o>=</span><span class=m>31536000</span> <span class=p>;</span> includeSubDomains
</span></span><span class=line><span class=cl>x-arango-queue-time-seconds: 0.000000
</span></span><span class=line><span class=cl>x-content-type-options: nosniff
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;result&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>    3, 
</span></span><span class=line><span class=cl>    <span class=m>4</span> 
</span></span><span class=line><span class=cl>  <span class=o>]</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;hasMore&#34;</span> : true, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;id&#34;</span> : <span class=s2>&#34;71886&#34;</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;count&#34;</span> : 5, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;extra&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;warnings&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;stats&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;writesExecuted&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;writesIgnored&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;scannedFull&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;scannedIndex&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cursorsCreated&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cursorsRearmed&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cacheHits&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cacheMisses&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;filtered&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;httpRequests&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;executionTime&#34;</span> : 0.0001437649999616042, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;peakMemoryUsage&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;intermediateCommits&#34;</span> : <span class=m>0</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;cached&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;nextBatchId&#34;</span> : <span class=s2>&#34;3&#34;</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;error&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;code&#34;</span> : <span class=m>200</span> 
</span></span><span class=line><span class=cl><span class=o>}</span></span></span></code></pre></div></div></div><br><h3 id=delete-a-cursor>Delete a cursor <a href=/3.11/develop/http-api/queries/aql-queries/#delete-a-cursor class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><div class=openapi><div class=endpoint><span class="endpoint-method regular-font bold-text method-delete">DELETE</span>
<span class=endpoint-path>/_db/{database-name}/_api/cursor/{cursor-identifier}</span></div><div class="openapi-description regular-font"><p>Deletes the cursor and frees the resources associated with it.</p><p>The cursor will automatically be destroyed on the server when the client has
retrieved all documents from it. The client can also explicitly destroy the
cursor at any earlier time using an HTTP DELETE request. The cursor identifier must
be included as part of the URL.</p><p>Note: the server will also destroy abandoned cursors automatically after a
certain server-controlled timeout to avoid resource leakage.</p></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Path Parameters</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=delete-a-cursor_path_database-name><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">database-name*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#delete-a-cursor_path_database-name><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The name of the database.</p></div></details></li><li class="openapi-table-row regular-font"><details id=delete-a-cursor_path_cursor-identifier><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">cursor-identifier*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#delete-a-cursor_path_cursor-identifier><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The identifier of the cursor</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Query Parameters</div><div><ul class=openapi-table></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>HTTP Headers</div><div><ul class=openapi-table></ul></div></div><div class="responses regular-font"><div class=openapi-table-title>Responses</div><div class=openapi-responses><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=delete-a-cursor_res_202><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">202</span>
<span class="openapi-property-type bold-text">Accepted</span>
<a href=#delete-a-cursor_res_202><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The server is aware of the cursor.</p></div></details></li><li class="openapi-table-row regular-font"><details id=delete-a-cursor_res_404><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">404</span>
<span class="openapi-property-type bold-text">Not Found</span>
<a href=#delete-a-cursor_res_404><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The server is not aware of the cursor. This is also
returned if a cursor is used after it has been destroyed.</p></div></details></li></ul></div></div></div><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -X POST --header <span class=s1>&#39;accept: application/json&#39;</span> --data-binary @- --dump - <span class=s1>&#39;http://localhost:8529/_api/cursor&#39;</span> <span class=s>&lt;&lt;&#39;EOF&#39;
</span></span></span><span class=line><span class=cl><span class=s>{
</span></span></span><span class=line><span class=cl><span class=s>  &#34;query&#34;: &#34;FOR p IN products LIMIT 5 RETURN p&#34;,
</span></span></span><span class=line><span class=cl><span class=s>  &#34;count&#34;: true,
</span></span></span><span class=line><span class=cl><span class=s>  &#34;batchSize&#34;: 2
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>curl -X DELETE --header <span class=s1>&#39;accept: application/json&#39;</span> --dump - <span class=s1>&#39;http://localhost:8529/_api/cursor/71904&#39;</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>HTTP/1.1 <span class=m>201</span> Created
</span></span><span class=line><span class=cl>content-type: application/json
</span></span><span class=line><span class=cl>cache-control: no-cache, no-store, must-revalidate, pre-check<span class=o>=</span>0, post-check<span class=o>=</span>0, max-age<span class=o>=</span>0, s-maxage<span class=o>=</span><span class=m>0</span>
</span></span><span class=line><span class=cl>connection: Keep-Alive
</span></span><span class=line><span class=cl>content-length: <span class=m>550</span>
</span></span><span class=line><span class=cl>content-security-policy: frame-ancestors <span class=s1>&#39;self&#39;</span><span class=p>;</span> form-action <span class=s1>&#39;self&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>expires: <span class=m>0</span>
</span></span><span class=line><span class=cl>pragma: no-cache
</span></span><span class=line><span class=cl>server: ArangoDB
</span></span><span class=line><span class=cl>strict-transport-security: max-age<span class=o>=</span><span class=m>31536000</span> <span class=p>;</span> includeSubDomains
</span></span><span class=line><span class=cl>x-arango-queue-time-seconds: 0.000000
</span></span><span class=line><span class=cl>x-content-type-options: nosniff
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;result&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>    <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_key&#34;</span> : <span class=s2>&#34;71893&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_id&#34;</span> : <span class=s2>&#34;products/71893&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_rev&#34;</span> : <span class=s2>&#34;_jOk3JKq--_&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hello1&#34;</span> : <span class=s2>&#34;world1&#34;</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span>, 
</span></span><span class=line><span class=cl>    <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_key&#34;</span> : <span class=s2>&#34;71895&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_id&#34;</span> : <span class=s2>&#34;products/71895&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_rev&#34;</span> : <span class=s2>&#34;_jOk3JKq--A&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hello2&#34;</span> : <span class=s2>&#34;world1&#34;</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>]</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;hasMore&#34;</span> : true, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;id&#34;</span> : <span class=s2>&#34;71904&#34;</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;count&#34;</span> : 5, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;extra&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;warnings&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;stats&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;writesExecuted&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;writesIgnored&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;scannedFull&#34;</span> : 5, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;scannedIndex&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cursorsCreated&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cursorsRearmed&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cacheHits&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;cacheMisses&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;filtered&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;httpRequests&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;executionTime&#34;</span> : 0.00015622600000142484, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;peakMemoryUsage&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;intermediateCommits&#34;</span> : <span class=m>0</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;cached&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;nextBatchId&#34;</span> : <span class=s2>&#34;2&#34;</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;error&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;code&#34;</span> : <span class=m>201</span> 
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>HTTP/1.1 <span class=m>202</span> Accepted
</span></span><span class=line><span class=cl>content-type: application/json
</span></span><span class=line><span class=cl>cache-control: no-cache, no-store, must-revalidate, pre-check<span class=o>=</span>0, post-check<span class=o>=</span>0, max-age<span class=o>=</span>0, s-maxage<span class=o>=</span><span class=m>0</span>
</span></span><span class=line><span class=cl>connection: Keep-Alive
</span></span><span class=line><span class=cl>content-length: <span class=m>39</span>
</span></span><span class=line><span class=cl>content-security-policy: frame-ancestors <span class=s1>&#39;self&#39;</span><span class=p>;</span> form-action <span class=s1>&#39;self&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>expires: <span class=m>0</span>
</span></span><span class=line><span class=cl>pragma: no-cache
</span></span><span class=line><span class=cl>server: ArangoDB
</span></span><span class=line><span class=cl>strict-transport-security: max-age<span class=o>=</span><span class=m>31536000</span> <span class=p>;</span> includeSubDomains
</span></span><span class=line><span class=cl>x-arango-queue-time-seconds: 0.000000
</span></span><span class=line><span class=cl>x-content-type-options: nosniff
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;id&#34;</span> : <span class=s2>&#34;71904&#34;</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;error&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;code&#34;</span> : <span class=m>202</span> 
</span></span><span class=line><span class=cl><span class=o>}</span></span></span></code></pre></div></div></div><br><h2 id=track-queries>Track queries <a href=/3.11/develop/http-api/queries/aql-queries/#track-queries class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>You can track AQL queries by enabling query tracking. This allows you to list
all currently executing queries. You can also list slow queries and clear this
list.</p><h3 id=get-the-aql-query-tracking-configuration>Get the AQL query tracking configuration <a href=/3.11/develop/http-api/queries/aql-queries/#get-the-aql-query-tracking-configuration class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><div class=openapi><div class=endpoint><span class="endpoint-method regular-font bold-text method-get">GET</span>
<span class=endpoint-path>/_db/{database-name}/_api/query/properties</span></div><div class="openapi-description regular-font"><p>Returns the current query tracking configuration. The configuration is a
JSON object with the following properties:</p><ul><li><p><code>enabled</code>: if set to <code>true</code>, then queries will be tracked. If set to
<code>false</code>, neither queries nor slow queries will be tracked.</p></li><li><p><code>trackSlowQueries</code>: if set to <code>true</code>, then slow queries will be tracked
in the list of slow queries if their runtime exceeds the value set in
<code>slowQueryThreshold</code>. In order for slow queries to be tracked, the <code>enabled</code>
property must also be set to <code>true</code>.</p></li><li><p><code>trackBindVars</code>: if set to <code>true</code>, then bind variables used in queries will
be tracked.</p></li><li><p><code>maxSlowQueries</code>: the maximum number of slow queries to keep in the list
of slow queries. If the list of slow queries is full, the oldest entry in
it will be discarded when additional slow queries occur.</p></li><li><p><code>slowQueryThreshold</code>: the threshold value for treating a query as slow. A
query with a runtime greater or equal to this threshold value will be
put into the list of slow queries when slow query tracking is enabled.
The value for <code>slowQueryThreshold</code> is specified in seconds.</p></li><li><p><code>maxQueryStringLength</code>: the maximum query string length to keep in the
list of queries. Query strings can have arbitrary lengths, and this property
can be used to save memory in case very long query strings are used. The
value is specified in bytes.</p></li></ul></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Path Parameters</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=get-the-aql-query-tracking-configuration_path_database-name><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">database-name*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#get-the-aql-query-tracking-configuration_path_database-name><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The name of the database.</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Query Parameters</div><div><ul class=openapi-table></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>HTTP Headers</div><div><ul class=openapi-table></ul></div></div><div class="responses regular-font"><div class=openapi-table-title>Responses</div><div class=openapi-responses><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=get-the-aql-query-tracking-configuration_res_200><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">200</span>
<span class="openapi-property-type bold-text">OK</span>
<a href=#get-the-aql-query-tracking-configuration_res_200><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>Is returned if properties were retrieved successfully.</p></div></details></li><li class="openapi-table-row regular-font"><details id=get-the-aql-query-tracking-configuration_res_400><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">400</span>
<span class="openapi-property-type bold-text">Bad Request</span>
<a href=#get-the-aql-query-tracking-configuration_res_400><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The request is malformed.</p></div></details></li></ul></div></div></div><h3 id=update-the-aql-query-tracking-configuration>Update the AQL query tracking configuration <a href=/3.11/develop/http-api/queries/aql-queries/#update-the-aql-query-tracking-configuration class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><div class=openapi><div class=endpoint><span class="endpoint-method regular-font bold-text method-put">PUT</span>
<span class=endpoint-path>/_db/{database-name}/_api/query/properties</span></div><div class="openapi-description regular-font"><p>The properties need to be passed in the attribute <code>properties</code> in the body
of the HTTP request. <code>properties</code> needs to be a JSON object.</p><p>After the properties have been changed, the current set of properties will
be returned in the HTTP response.</p></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Path Parameters</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=update-the-aql-query-tracking-configuration_path_database-name><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">database-name*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#update-the-aql-query-tracking-configuration_path_database-name><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The name of the database.</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Query Parameters</div><div><ul class=openapi-table></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>HTTP Headers</div><div><ul class=openapi-table></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Request Body <span class=openapi-content-type>application/json</span> <span class=openapi-property-type>object</span></div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=update-the-aql-query-tracking-configuration_body_enabled><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">enabled*</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#update-the-aql-query-tracking-configuration_body_enabled><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>If set to <code>true</code>, then queries will be tracked. If set to
<code>false</code>, neither queries nor slow queries will be tracked.</p></div></details></li><li class="openapi-table-row regular-font"><details id=update-the-aql-query-tracking-configuration_body_maxQueryStringLength><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">maxQueryStringLength*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#update-the-aql-query-tracking-configuration_body_maxQueryStringLength><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The maximum query string length to keep in the list of queries.
Query strings can have arbitrary lengths, and this property
can be used to save memory in case very long query strings are used. The
value is specified in bytes.</p></div></details></li><li class="openapi-table-row regular-font"><details id=update-the-aql-query-tracking-configuration_body_maxSlowQueries><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">maxSlowQueries*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#update-the-aql-query-tracking-configuration_body_maxSlowQueries><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The maximum number of slow queries to keep in the list
of slow queries. If the list of slow queries is full, the oldest entry in
it will be discarded when additional slow queries occur.</p></div></details></li><li class="openapi-table-row regular-font"><details id=update-the-aql-query-tracking-configuration_body_slowQueryThreshold><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">slowQueryThreshold*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#update-the-aql-query-tracking-configuration_body_slowQueryThreshold><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The threshold value for treating a query as slow. A
query with a runtime greater or equal to this threshold value will be
put into the list of slow queries when slow query tracking is enabled.
The value for <code>slowQueryThreshold</code> is specified in seconds.</p></div></details></li><li class="openapi-table-row regular-font"><details id=update-the-aql-query-tracking-configuration_body_trackBindVars><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">trackBindVars*</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#update-the-aql-query-tracking-configuration_body_trackBindVars><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>If set to <code>true</code>, then the bind variables used in queries will be tracked
along with queries.</p></div></details></li><li class="openapi-table-row regular-font"><details id=update-the-aql-query-tracking-configuration_body_trackSlowQueries><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">trackSlowQueries*</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#update-the-aql-query-tracking-configuration_body_trackSlowQueries><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>If set to <code>true</code>, then slow queries will be tracked
in the list of slow queries if their runtime exceeds the value set in
<code>slowQueryThreshold</code>. In order for slow queries to be tracked, the <code>enabled</code>
property must also be set to <code>true</code>.</p></div></details></li></ul></div></div><div class="responses regular-font"><div class=openapi-table-title>Responses</div><div class=openapi-responses><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=update-the-aql-query-tracking-configuration_res_200><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">200</span>
<span class="openapi-property-type bold-text">OK</span>
<a href=#update-the-aql-query-tracking-configuration_res_200><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>Is returned if the properties were changed successfully.</p></div></details></li><li class="openapi-table-row regular-font"><details id=update-the-aql-query-tracking-configuration_res_400><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">400</span>
<span class="openapi-property-type bold-text">Bad Request</span>
<a href=#update-the-aql-query-tracking-configuration_res_400><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The request is malformed.</p></div></details></li></ul></div></div></div><h3 id=list-the-running-aql-queries>List the running AQL queries <a href=/3.11/develop/http-api/queries/aql-queries/#list-the-running-aql-queries class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><div class=openapi><div class=endpoint><span class="endpoint-method regular-font bold-text method-get">GET</span>
<span class=endpoint-path>/_db/{database-name}/_api/query/current</span></div><div class="openapi-description regular-font"><p>Returns an array containing the AQL queries currently running in the selected
database. Each query is a JSON object with the following attributes:</p><ul><li><p><code>id</code>: the query&rsquo;s id</p></li><li><p><code>database</code>: the name of the database the query runs in</p></li><li><p><code>user</code>: the name of the user that started the query</p></li><li><p><code>query</code>: the query string (potentially truncated)</p></li><li><p><code>bindVars</code>: the bind parameter values used by the query</p></li><li><p><code>started</code>: the date and time when the query was started</p></li><li><p><code>runTime</code>: the query&rsquo;s run time up to the point the list of queries was
queried</p></li><li><p><code>peakMemoryUsage</code>: the query&rsquo;s peak memory usage in bytes (in increments of 32KB)</p></li><li><p><code>state</code>: the query&rsquo;s current execution state (as a string). One of:</p><ul><li><code>"initializing"</code></li><li><code>"parsing"</code></li><li><code>"optimizing ast"</code></li><li><code>"loading collections"</code></li><li><code>"instantiating plan"</code></li><li><code>"optimizing plan"</code></li><li><code>"instantiating executors"</code></li><li><code>"executing"</code></li><li><code>"finalizing"</code></li><li><code>"finished"</code></li><li><code>"killed"</code></li><li><code>"invalid"</code></li></ul></li><li><p><code>stream</code>: whether or not the query uses a streaming cursor</p></li></ul></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Path Parameters</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=list-the-running-aql-queries_path_database-name><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">database-name*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#list-the-running-aql-queries_path_database-name><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The name of the database.</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Query Parameters</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=list-the-running-aql-queries_query_all><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">all</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#list-the-running-aql-queries_query_all><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>If set to <code>true</code>, will return the currently running queries in all databases,
not just the selected one.
Using the parameter is only allowed in the <code>_system</code> database and with superuser
privileges.</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>HTTP Headers</div><div><ul class=openapi-table></ul></div></div><div class="responses regular-font"><div class=openapi-table-title>Responses</div><div class=openapi-responses><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=list-the-running-aql-queries_res_200><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">200</span>
<span class="openapi-property-type bold-text">OK</span>
<a href=#list-the-running-aql-queries_res_200><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>Is returned when the list of queries can be retrieved successfully.</p></div></details></li><li class="openapi-table-row regular-font"><details id=list-the-running-aql-queries_res_400><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">400</span>
<span class="openapi-property-type bold-text">Bad Request</span>
<a href=#list-the-running-aql-queries_res_400><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The request is malformed.</p></div></details></li><li class="openapi-table-row regular-font"><details id=list-the-running-aql-queries_res_403><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">403</span>
<span class="openapi-property-type bold-text">Forbidden</span>
<a href=#list-the-running-aql-queries_res_403><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>In case the <code>all</code> parameter is used but the request was made in a
different database than <code>_system</code>, or by a non-privileged user.</p></div></details></li></ul></div></div></div><h3 id=list-the-slow-aql-queries>List the slow AQL queries <a href=/3.11/develop/http-api/queries/aql-queries/#list-the-slow-aql-queries class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><div class=openapi><div class=endpoint><span class="endpoint-method regular-font bold-text method-get">GET</span>
<span class=endpoint-path>/_db/{database-name}/_api/query/slow</span></div><div class="openapi-description regular-font"><p>Returns an array containing the last AQL queries that are finished and
have exceeded the slow query threshold in the selected database.
The maximum amount of queries in the list can be controlled by setting
the query tracking property <code>maxSlowQueries</code>. The threshold for treating
a query as <em>slow</em> can be adjusted by setting the query tracking property
<code>slowQueryThreshold</code>.</p><p>Each query is a JSON object with the following attributes:</p><ul><li><p><code>id</code>: the query&rsquo;s id</p></li><li><p><code>database</code>: the name of the database the query runs in</p></li><li><p><code>user</code>: the name of the user that started the query</p></li><li><p><code>query</code>: the query string (potentially truncated)</p></li><li><p><code>bindVars</code>: the bind parameter values used by the query</p></li><li><p><code>started</code>: the date and time when the query was started</p></li><li><p><code>runTime</code>: the query&rsquo;s total run time</p></li><li><p><code>peakMemoryUsage</code>: the query&rsquo;s peak memory usage in bytes (in increments of 32KB)</p></li><li><p><code>state</code>: the query&rsquo;s current execution state (will always be &ldquo;finished&rdquo;
for the list of slow queries)</p></li><li><p><code>stream</code>: whether or not the query uses a streaming cursor</p></li></ul></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Path Parameters</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=list-the-slow-aql-queries_path_database-name><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">database-name*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#list-the-slow-aql-queries_path_database-name><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The name of the database.</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Query Parameters</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=list-the-slow-aql-queries_query_all><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">all</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#list-the-slow-aql-queries_query_all><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>If set to <code>true</code>, will return the slow queries from all databases, not just
the selected one.
Using the parameter is only allowed in the <code>_system</code> database and with superuser
privileges.</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>HTTP Headers</div><div><ul class=openapi-table></ul></div></div><div class="responses regular-font"><div class=openapi-table-title>Responses</div><div class=openapi-responses><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=list-the-slow-aql-queries_res_200><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">200</span>
<span class="openapi-property-type bold-text">OK</span>
<a href=#list-the-slow-aql-queries_res_200><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>Is returned when the list of queries can be retrieved successfully.</p></div></details></li><li class="openapi-table-row regular-font"><details id=list-the-slow-aql-queries_res_400><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">400</span>
<span class="openapi-property-type bold-text">Bad Request</span>
<a href=#list-the-slow-aql-queries_res_400><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The request is malformed.</p></div></details></li><li class="openapi-table-row regular-font"><details id=list-the-slow-aql-queries_res_403><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">403</span>
<span class="openapi-property-type bold-text">Forbidden</span>
<a href=#list-the-slow-aql-queries_res_403><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>In case the <code>all</code> parameter is used but the request was made in a
different database than <code>_system</code>, or by a non-privileged user.</p></div></details></li></ul></div></div></div><h3 id=clear-the-list-of-slow-aql-queries>Clear the list of slow AQL queries <a href=/3.11/develop/http-api/queries/aql-queries/#clear-the-list-of-slow-aql-queries class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><div class=openapi><div class=endpoint><span class="endpoint-method regular-font bold-text method-delete">DELETE</span>
<span class=endpoint-path>/_db/{database-name}/_api/query/slow</span></div><div class="openapi-description regular-font">Clears the list of slow AQL queries for the current database.</div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Path Parameters</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=clear-the-list-of-slow-aql-queries_path_database-name><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">database-name*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#clear-the-list-of-slow-aql-queries_path_database-name><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The name of the database.</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Query Parameters</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=clear-the-list-of-slow-aql-queries_query_all><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">all</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#clear-the-list-of-slow-aql-queries_query_all><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>If set to <code>true</code>, will clear the slow query history in all databases, not just
the selected one.
Using the parameter is only allowed in the <code>_system</code> database and with superuser
privileges.</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>HTTP Headers</div><div><ul class=openapi-table></ul></div></div><div class="responses regular-font"><div class=openapi-table-title>Responses</div><div class=openapi-responses><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=clear-the-list-of-slow-aql-queries_res_200><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">200</span>
<span class="openapi-property-type bold-text">OK</span>
<a href=#clear-the-list-of-slow-aql-queries_res_200><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The list of queries has been cleared successfully.</p></div></details></li><li class="openapi-table-row regular-font"><details id=clear-the-list-of-slow-aql-queries_res_400><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">400</span>
<span class="openapi-property-type bold-text">Bad Request</span>
<a href=#clear-the-list-of-slow-aql-queries_res_400><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The request is malformed.</p></div></details></li></ul></div></div></div><h2 id=kill-queries>Kill queries <a href=/3.11/develop/http-api/queries/aql-queries/#kill-queries class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>Running AQL queries can be killed on the server. To kill a running query, its ID
(as returned for the query in the list of currently running queries) must be
specified. The kill flag of the query is then set, and the query is aborted as
soon as it reaches a cancelation point.</p><h3 id=kill-a-running-aql-query>Kill a running AQL query <a href=/3.11/develop/http-api/queries/aql-queries/#kill-a-running-aql-query class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><div class=openapi><div class=endpoint><span class="endpoint-method regular-font bold-text method-delete">DELETE</span>
<span class=endpoint-path>/_db/{database-name}/_api/query/{query-id}</span></div><div class="openapi-description regular-font">Kills a running query in the currently selected database. The query will be
terminated at the next cancelation point.</div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Path Parameters</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=kill-a-running-aql-query_path_database-name><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">database-name*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#kill-a-running-aql-query_path_database-name><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The name of the database.</p></div></details></li><li class="openapi-table-row regular-font"><details id=kill-a-running-aql-query_path_query-id><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">query-id*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#kill-a-running-aql-query_path_query-id><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The identifier of the query.</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Query Parameters</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=kill-a-running-aql-query_query_all><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">all</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#kill-a-running-aql-query_query_all><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>If set to <code>true</code>, will attempt to kill the specified query in all databases,
not just the selected one.
Using the parameter is only allowed in the <code>_system</code> database and with superuser
privileges.</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>HTTP Headers</div><div><ul class=openapi-table></ul></div></div><div class="responses regular-font"><div class=openapi-table-title>Responses</div><div class=openapi-responses><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=kill-a-running-aql-query_res_200><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">200</span>
<span class="openapi-property-type bold-text">OK</span>
<a href=#kill-a-running-aql-query_res_200><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The query was still running when the kill request was executed and
the query&rsquo;s kill flag has been set.</p></div></details></li><li class="openapi-table-row regular-font"><details id=kill-a-running-aql-query_res_400><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">400</span>
<span class="openapi-property-type bold-text">Bad Request</span>
<a href=#kill-a-running-aql-query_res_400><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The request is malformed.</p></div></details></li><li class="openapi-table-row regular-font"><details id=kill-a-running-aql-query_res_403><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">403</span>
<span class="openapi-property-type bold-text">Forbidden</span>
<a href=#kill-a-running-aql-query_res_403><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>In case the <code>all</code> parameter is used but the request was made in a
different database than <code>_system</code>, or by a non-privileged user.</p></div></details></li><li class="openapi-table-row regular-font"><details id=kill-a-running-aql-query_res_404><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">404</span>
<span class="openapi-property-type bold-text">Not Found</span>
<a href=#kill-a-running-aql-query_res_404><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>A query with the specified identifier cannot be found.</p></div></details></li></ul></div></div></div><h2 id=explain-and-parse-aql-queries>Explain and parse AQL queries <a href=/3.11/develop/http-api/queries/aql-queries/#explain-and-parse-aql-queries class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>You can retrieve the execution plan for any valid AQL query, as well as
syntactically validate AQL queries. Both functionalities don&rsquo;t actually execute
the supplied AQL query, but only inspect it and return meta information about it.</p><p>You can also retrieve a list of all query optimizer rules and their properties.</p><h3 id=explain-an-aql-query>Explain an AQL query <a href=/3.11/develop/http-api/queries/aql-queries/#explain-an-aql-query class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><div class=openapi><div class=endpoint><span class="endpoint-method regular-font bold-text method-post">POST</span>
<span class=endpoint-path>/_db/{database-name}/_api/explain</span></div><div class="openapi-description regular-font"><p>To explain how an AQL query would be executed on the server, the query string
can be sent to the server via an HTTP POST request. The server will then validate
the query and create an execution plan for it. The execution plan will be
returned, but the query will not be executed.</p><p>The execution plan that is returned by the server can be used to estimate the
probable performance of the query. Though the actual performance will depend
on many different factors, the execution plan normally can provide some rough
estimates on the amount of work the server needs to do in order to actually run
the query.</p><p>By default, the explain operation will return the optimal plan as chosen by
the query optimizer The optimal plan is the plan with the lowest total estimated
cost. The plan will be returned in the attribute <code>plan</code> of the response object.
If the option <code>allPlans</code> is specified in the request, the result will contain
all plans created by the optimizer. The plans will then be returned in the
attribute <code>plans</code>.</p><p>The result will also contain an attribute <code>warnings</code>, which is an array of
warnings that occurred during optimization or execution plan creation. Additionally,
a <code>stats</code> attribute is contained in the result with some optimizer statistics.
If <code>allPlans</code> is set to <code>false</code>, the result will contain an attribute <code>cacheable</code>
that states whether the query results can be cached on the server if the query
result cache were used. The <code>cacheable</code> attribute is not present when <code>allPlans</code>
is set to <code>true</code>.</p><p>Each plan in the result is a JSON object with the following attributes:</p><ul><li><p><code>nodes</code>: the array of execution nodes of the plan.</p></li><li><p><code>estimatedCost</code>: the total estimated cost for the plan. If there are multiple
plans, the optimizer will choose the plan with the lowest total cost.</p></li><li><p><code>collections</code>: an array of collections used in the query</p></li><li><p><code>rules</code>: an array of rules the optimizer applied.</p></li><li><p><code>variables</code>: array of variables used in the query (note: this may contain
internal variables created by the optimizer)</p></li></ul></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Path Parameters</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=explain-an-aql-query_path_database-name><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">database-name*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#explain-an-aql-query_path_database-name><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The name of the database.</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Query Parameters</div><div><ul class=openapi-table></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>HTTP Headers</div><div><ul class=openapi-table></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Request Body <span class=openapi-content-type>application/json</span> <span class=openapi-property-type>object</span></div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=explain-an-aql-query_body_bindVars><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">bindVars</span>
<span class=openapi-property-type><span class=bold-text>object</span></span>
<a href=#explain-an-aql-query_body_bindVars><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>An object with key/value pairs representing the bind parameters.
For a bind variable <code>@var</code> in the query, specify the value using an attribute
with the name <code>var</code>. For a collection bind variable <code>@@coll</code>, use <code>@coll</code> as the
attribute name. For example: <code>"bindVars": { "var": 42, "@coll": "products" }</code>.</p></div></details></li><li class="openapi-table-row regular-font"><details id=explain-an-aql-query_body_options><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">options</span>
<span class=openapi-property-type><span class=bold-text>object</span></span>
<a href=#explain-an-aql-query_body_options><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>Options for the query</p><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=explain-an-aql-query_body_options_allPlans><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">allPlans</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#explain-an-aql-query_body_options_allPlans><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>if set to <code>true</code>, all possible execution plans will be returned.
The default is <code>false</code>, meaning only the optimal plan will be returned.</p></div></details></li><li class="openapi-table-row regular-font"><details id=explain-an-aql-query_body_options_failOnWarning><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">failOnWarning</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#explain-an-aql-query_body_options_failOnWarning><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>If set to <code>true</code>, the query throws an exception and aborts instead of producing
a warning. You should use this option during development to catch potential issues
early. When the attribute is set to <code>false</code>, warnings are not propagated to
exceptions and are returned with the query result.</p><p>You can use the <code>--query.fail-on-warning</code> startup option to adjust the
default value for <code>failOnWarning</code> so you don&rsquo;t need to set it on a per-query basis.</p></p></div></details></li><li class="openapi-table-row regular-font"><details id=explain-an-aql-query_body_options_fullCount><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">fullCount</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#explain-an-aql-query_body_options_fullCount><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>Whether to calculate the total number of documents matching the
filter conditions as if the query&rsquo;s final top-level <code>LIMIT</code> operation
were not applied. This option generally leads to different
execution plans.</p></div></details></li><li class="openapi-table-row regular-font"><details id=explain-an-aql-query_body_options_maxNodesPerCallstack><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">maxNodesPerCallstack</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#explain-an-aql-query_body_options_maxNodesPerCallstack><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>The number of execution nodes in the query plan after that stack splitting is
performed to avoid a potential stack overflow. Defaults to the configured value
of the startup option <code>--query.max-nodes-per-callstack</code>.</p><p>This option is only useful for testing and debugging and normally does not need
any adjustment.</p></p></div></details></li><li class="openapi-table-row regular-font"><details id=explain-an-aql-query_body_options_maxNumberOfPlans><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">maxNumberOfPlans</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#explain-an-aql-query_body_options_maxNumberOfPlans><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The maximum number of plans that the optimizer is allowed to
generate. Setting this attribute to a low value allows to put a
cap on the amount of work the optimizer does.</p></div></details></li><li class="openapi-table-row regular-font"><details id=explain-an-aql-query_body_options_maxWarningCount><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">maxWarningCount</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#explain-an-aql-query_body_options_maxWarningCount><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>Limits the number of warnings a query can return. The maximum number of warnings
is <code>10</code> by default but you can increase or decrease the limit.</p></div></details></li><li class="openapi-table-row regular-font"><details id=explain-an-aql-query_body_options_optimizer><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">optimizer</span>
<span class=openapi-property-type><span class=bold-text>object</span></span>
<a href=#explain-an-aql-query_body_options_optimizer><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>Options related to the query optimizer.</p><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=explain-an-aql-query_body_options_optimizer_rules><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">rules</span>
<span class=openapi-property-type><span class=bold-text>array of strings</span></span>
<a href=#explain-an-aql-query_body_options_optimizer_rules><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>A list of to-be-included or to-be-excluded optimizer rules can be put into this
attribute, telling the optimizer to include or exclude specific rules. To disable
a rule, prefix its name with a <code>-</code>, to enable a rule, prefix it with a <code>+</code>. There is
also a pseudo-rule <code>all</code>, which matches all optimizer rules. <code>-all</code> disables all rules.</p></div></details></li></ul></div></details></li><li class="openapi-table-row regular-font"><details id=explain-an-aql-query_body_options_profile><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">profile</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#explain-an-aql-query_body_options_profile><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>Whether to include additional query profiling information.
If set to <code>2</code>, the response includes the time it took to process
each optimizer rule under <code>stats.rules</code>.</p></div></details></li></ul></div></details></li><li class="openapi-table-row regular-font"><details id=explain-an-aql-query_body_query><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">query*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#explain-an-aql-query_body_query><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>the query which you want explained; If the query references any bind variables,
these must also be passed in the attribute <code>bindVars</code>. Additional
options for the query can be passed in the <code>options</code> attribute.</p></div></details></li></ul></div></div><div class="responses regular-font"><div class=openapi-table-title>Responses</div><div class=openapi-responses><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=explain-an-aql-query_res_200><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">200</span>
<span class="openapi-property-type bold-text">OK</span>
<a href=#explain-an-aql-query_res_200><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>If the query is valid, the server will respond with <em>HTTP 200</em> and
return the optimal execution plan in the <code>plan</code> attribute of the response.
If option <code>allPlans</code> was set in the request, an array of plans will be returned
in the <code>allPlans</code> attribute instead.</p></div></details></li><li class="openapi-table-row regular-font"><details id=explain-an-aql-query_res_400><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">400</span>
<span class="openapi-property-type bold-text">Bad Request</span>
<a href=#explain-an-aql-query_res_400><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The request is malformed or the query contains a parse error.
The body of the response contains the error details embedded in a JSON object.
Omitting bind variables if the query references any also results
an error.</p></div></details></li><li class="openapi-table-row regular-font"><details id=explain-an-aql-query_res_404><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">404</span>
<span class="openapi-property-type bold-text">Not Found</span>
<a href=#explain-an-aql-query_res_404><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>A non-existing collection is accessed in the query.</p></div></details></li></ul></div></div></div><p><strong>Examples</strong></p><p>Valid query</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -X POST --header <span class=s1>&#39;accept: application/json&#39;</span> --data-binary @- --dump - <span class=s1>&#39;http://localhost:8529/_api/explain&#39;</span> <span class=s>&lt;&lt;&#39;EOF&#39;
</span></span></span><span class=line><span class=cl><span class=s>{
</span></span></span><span class=line><span class=cl><span class=s>  &#34;query&#34;: &#34;FOR p IN products RETURN p&#34;
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>HTTP/1.1 <span class=m>200</span> OK
</span></span><span class=line><span class=cl>content-type: application/json
</span></span><span class=line><span class=cl>cache-control: no-cache, no-store, must-revalidate, pre-check<span class=o>=</span>0, post-check<span class=o>=</span>0, max-age<span class=o>=</span>0, s-maxage<span class=o>=</span><span class=m>0</span>
</span></span><span class=line><span class=cl>connection: Keep-Alive
</span></span><span class=line><span class=cl>content-length: <span class=m>1138</span>
</span></span><span class=line><span class=cl>content-security-policy: frame-ancestors <span class=s1>&#39;self&#39;</span><span class=p>;</span> form-action <span class=s1>&#39;self&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>expires: <span class=m>0</span>
</span></span><span class=line><span class=cl>pragma: no-cache
</span></span><span class=line><span class=cl>server: ArangoDB
</span></span><span class=line><span class=cl>strict-transport-security: max-age<span class=o>=</span><span class=m>31536000</span> <span class=p>;</span> includeSubDomains
</span></span><span class=line><span class=cl>x-arango-queue-time-seconds: 0.000000
</span></span><span class=line><span class=cl>x-content-type-options: nosniff
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;plan&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;nodes&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>      <span class=o>{</span> 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;SingletonNode&#34;</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;dependencies&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;id&#34;</span> : 1, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;estimatedCost&#34;</span> : 1, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;estimatedNrItems&#34;</span> : <span class=m>1</span> 
</span></span><span class=line><span class=cl>      <span class=o>}</span>, 
</span></span><span class=line><span class=cl>      <span class=o>{</span> 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;EnumerateCollectionNode&#34;</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;dependencies&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>          <span class=m>1</span> 
</span></span><span class=line><span class=cl>        <span class=o>]</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;id&#34;</span> : 2, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;estimatedCost&#34;</span> : 12, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;estimatedNrItems&#34;</span> : 10, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;random&#34;</span> : false, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;indexHint&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;forced&#34;</span> : false, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;lookahead&#34;</span> : 1, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;none&#34;</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;outVariable&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 0, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;p&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>true</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;projections&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;filterProjections&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;count&#34;</span> : false, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;producesResult&#34;</span> : true, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;readOwnWrites&#34;</span> : false, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;useCache&#34;</span> : true, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;maxProjections&#34;</span> : 5, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;database&#34;</span> : <span class=s2>&#34;_system&#34;</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;collection&#34;</span> : <span class=s2>&#34;products&#34;</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;satellite&#34;</span> : false, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;isSatellite&#34;</span> : false, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;isSatelliteOf&#34;</span> : null 
</span></span><span class=line><span class=cl>      <span class=o>}</span>, 
</span></span><span class=line><span class=cl>      <span class=o>{</span> 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;ReturnNode&#34;</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;dependencies&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>          <span class=m>2</span> 
</span></span><span class=line><span class=cl>        <span class=o>]</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;id&#34;</span> : 3, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;estimatedCost&#34;</span> : 22, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;estimatedNrItems&#34;</span> : 10, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;inVariable&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 0, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;p&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>true</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;count&#34;</span> : <span class=nb>true</span> 
</span></span><span class=line><span class=cl>      <span class=o>}</span> 
</span></span><span class=line><span class=cl>    <span class=o>]</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;rules&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;collections&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>      <span class=o>{</span> 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;products&#34;</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;read&#34;</span> 
</span></span><span class=line><span class=cl>      <span class=o>}</span> 
</span></span><span class=line><span class=cl>    <span class=o>]</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;variables&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>      <span class=o>{</span> 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;id&#34;</span> : 0, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;p&#34;</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>true</span> 
</span></span><span class=line><span class=cl>      <span class=o>}</span> 
</span></span><span class=line><span class=cl>    <span class=o>]</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;estimatedCost&#34;</span> : 22, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;estimatedNrItems&#34;</span> : 10, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;isModificationQuery&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;cacheable&#34;</span> : true, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;warnings&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;stats&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;rulesExecuted&#34;</span> : 44, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;rulesSkipped&#34;</span> : 0, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;plansCreated&#34;</span> : 1, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;peakMemoryUsage&#34;</span> : 0, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;executionTime&#34;</span> : 0.00011353200000030483 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;error&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;code&#34;</span> : <span class=m>200</span> 
</span></span><span class=line><span class=cl><span class=o>}</span></span></span></code></pre></div></div></div><br><p>A plan with some optimizer rules applied</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -X POST --header <span class=s1>&#39;accept: application/json&#39;</span> --data-binary @- --dump - <span class=s1>&#39;http://localhost:8529/_api/explain&#39;</span> <span class=s>&lt;&lt;&#39;EOF&#39;
</span></span></span><span class=line><span class=cl><span class=s>{
</span></span></span><span class=line><span class=cl><span class=s>  &#34;query&#34;: &#34;FOR p IN products LET a = p.id FILTER a == 4 LET name = p.name SORT p.id LIMIT 1 RETURN name&#34;
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>HTTP/1.1 <span class=m>200</span> OK
</span></span><span class=line><span class=cl>content-type: application/json
</span></span><span class=line><span class=cl>cache-control: no-cache, no-store, must-revalidate, pre-check<span class=o>=</span>0, post-check<span class=o>=</span>0, max-age<span class=o>=</span>0, s-maxage<span class=o>=</span><span class=m>0</span>
</span></span><span class=line><span class=cl>connection: Keep-Alive
</span></span><span class=line><span class=cl>content-length: <span class=m>2878</span>
</span></span><span class=line><span class=cl>content-security-policy: frame-ancestors <span class=s1>&#39;self&#39;</span><span class=p>;</span> form-action <span class=s1>&#39;self&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>expires: <span class=m>0</span>
</span></span><span class=line><span class=cl>pragma: no-cache
</span></span><span class=line><span class=cl>server: ArangoDB
</span></span><span class=line><span class=cl>strict-transport-security: max-age<span class=o>=</span><span class=m>31536000</span> <span class=p>;</span> includeSubDomains
</span></span><span class=line><span class=cl>x-arango-queue-time-seconds: 0.000000
</span></span><span class=line><span class=cl>x-content-type-options: nosniff
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;plan&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;nodes&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>      <span class=o>{</span> 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;SingletonNode&#34;</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;dependencies&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;id&#34;</span> : 1, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;estimatedCost&#34;</span> : 1, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;estimatedNrItems&#34;</span> : <span class=m>1</span> 
</span></span><span class=line><span class=cl>      <span class=o>}</span>, 
</span></span><span class=line><span class=cl>      <span class=o>{</span> 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;IndexNode&#34;</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;dependencies&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>          <span class=m>1</span> 
</span></span><span class=line><span class=cl>        <span class=o>]</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;id&#34;</span> : 11, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;estimatedCost&#34;</span> : 4.3719280948873624, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;estimatedNrItems&#34;</span> : 1, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;outVariable&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 0, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;p&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;projections&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;name&#34;</span> 
</span></span><span class=line><span class=cl>        <span class=o>]</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;filterProjections&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;count&#34;</span> : false, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;producesResult&#34;</span> : true, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;readOwnWrites&#34;</span> : false, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;useCache&#34;</span> : true, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;maxProjections&#34;</span> : 5, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;database&#34;</span> : <span class=s2>&#34;_system&#34;</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;collection&#34;</span> : <span class=s2>&#34;products&#34;</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;satellite&#34;</span> : false, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;isSatellite&#34;</span> : false, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;isSatelliteOf&#34;</span> : null, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;needsGatherNodeSort&#34;</span> : true, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;indexCoversProjections&#34;</span> : false, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;indexes&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>          <span class=o>{</span> 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;id&#34;</span> : <span class=s2>&#34;71940&#34;</span>, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;persistent&#34;</span>, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;idx_1824128903930707968&#34;</span>, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;fields&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;id&#34;</span> 
</span></span><span class=line><span class=cl>            <span class=o>]</span>, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;selectivityEstimate&#34;</span> : 1, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;unique&#34;</span> : false, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;sparse&#34;</span> : false, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;deduplicate&#34;</span> : true, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;estimates&#34;</span> : true, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;cacheEnabled&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>          <span class=o>}</span> 
</span></span><span class=line><span class=cl>        <span class=o>]</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;condition&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;n-ary or&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;typeID&#34;</span> : 63, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;subNodes&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>            <span class=o>{</span> 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;n-ary and&#34;</span>, 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;typeID&#34;</span> : 62, 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;subNodes&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>                <span class=o>{</span> 
</span></span><span class=line><span class=cl>                  <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;compare ==&#34;</span>, 
</span></span><span class=line><span class=cl>                  <span class=s2>&#34;typeID&#34;</span> : 25, 
</span></span><span class=line><span class=cl>                  <span class=s2>&#34;excludesNull&#34;</span> : false, 
</span></span><span class=line><span class=cl>                  <span class=s2>&#34;subNodes&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>                    <span class=o>{</span> 
</span></span><span class=line><span class=cl>                      <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;attribute access&#34;</span>, 
</span></span><span class=line><span class=cl>                      <span class=s2>&#34;typeID&#34;</span> : 35, 
</span></span><span class=line><span class=cl>                      <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;id&#34;</span>, 
</span></span><span class=line><span class=cl>                      <span class=s2>&#34;subNodes&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>                        <span class=o>{</span> 
</span></span><span class=line><span class=cl>                          <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;reference&#34;</span>, 
</span></span><span class=line><span class=cl>                          <span class=s2>&#34;typeID&#34;</span> : 45, 
</span></span><span class=line><span class=cl>                          <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;p&#34;</span>, 
</span></span><span class=line><span class=cl>                          <span class=s2>&#34;id&#34;</span> : <span class=m>0</span> 
</span></span><span class=line><span class=cl>                        <span class=o>}</span> 
</span></span><span class=line><span class=cl>                      <span class=o>]</span> 
</span></span><span class=line><span class=cl>                    <span class=o>}</span>, 
</span></span><span class=line><span class=cl>                    <span class=o>{</span> 
</span></span><span class=line><span class=cl>                      <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;value&#34;</span>, 
</span></span><span class=line><span class=cl>                      <span class=s2>&#34;typeID&#34;</span> : 40, 
</span></span><span class=line><span class=cl>                      <span class=s2>&#34;value&#34;</span> : 4, 
</span></span><span class=line><span class=cl>                      <span class=s2>&#34;vTypeID&#34;</span> : <span class=m>2</span> 
</span></span><span class=line><span class=cl>                    <span class=o>}</span> 
</span></span><span class=line><span class=cl>                  <span class=o>]</span> 
</span></span><span class=line><span class=cl>                <span class=o>}</span> 
</span></span><span class=line><span class=cl>              <span class=o>]</span> 
</span></span><span class=line><span class=cl>            <span class=o>}</span> 
</span></span><span class=line><span class=cl>          <span class=o>]</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;allCoveredByOneIndex&#34;</span> : false, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;sorted&#34;</span> : true, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;ascending&#34;</span> : true, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;reverse&#34;</span> : false, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;evalFCalls&#34;</span> : true, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;waitForSync&#34;</span> : false, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;limit&#34;</span> : 0, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;lookahead&#34;</span> : <span class=m>1</span> 
</span></span><span class=line><span class=cl>      <span class=o>}</span>, 
</span></span><span class=line><span class=cl>      <span class=o>{</span> 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;LimitNode&#34;</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;dependencies&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>          <span class=m>11</span> 
</span></span><span class=line><span class=cl>        <span class=o>]</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;id&#34;</span> : 9, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;estimatedCost&#34;</span> : 5.3719280948873624, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;estimatedNrItems&#34;</span> : 1, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;offset&#34;</span> : 0, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;limit&#34;</span> : 1, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;fullCount&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>      <span class=o>}</span>, 
</span></span><span class=line><span class=cl>      <span class=o>{</span> 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;CalculationNode&#34;</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;dependencies&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>          <span class=m>9</span> 
</span></span><span class=line><span class=cl>        <span class=o>]</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;id&#34;</span> : 6, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;estimatedCost&#34;</span> : 6.3719280948873624, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;estimatedNrItems&#34;</span> : 1, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;expression&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;attribute access&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;typeID&#34;</span> : 35, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;name&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;subNodes&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>            <span class=o>{</span> 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;reference&#34;</span>, 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;typeID&#34;</span> : 45, 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;p&#34;</span>, 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;id&#34;</span> : <span class=m>0</span> 
</span></span><span class=line><span class=cl>            <span class=o>}</span> 
</span></span><span class=line><span class=cl>          <span class=o>]</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;outVariable&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 2, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;name&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;canThrow&#34;</span> : false, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;expressionType&#34;</span> : <span class=s2>&#34;attribute&#34;</span> 
</span></span><span class=line><span class=cl>      <span class=o>}</span>, 
</span></span><span class=line><span class=cl>      <span class=o>{</span> 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;ReturnNode&#34;</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;dependencies&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>          <span class=m>6</span> 
</span></span><span class=line><span class=cl>        <span class=o>]</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;id&#34;</span> : 10, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;estimatedCost&#34;</span> : 7.3719280948873624, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;estimatedNrItems&#34;</span> : 1, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;inVariable&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 2, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;name&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;count&#34;</span> : <span class=nb>true</span> 
</span></span><span class=line><span class=cl>      <span class=o>}</span> 
</span></span><span class=line><span class=cl>    <span class=o>]</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;rules&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;move-calculations-up&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;remove-redundant-calculations&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;remove-unnecessary-calculations&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;move-calculations-up-2&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;use-indexes&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;remove-filter-covered-by-index&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;use-index-for-sort&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;remove-unnecessary-calculations-2&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;move-calculations-down&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;reduce-extraction-to-projection&#34;</span> 
</span></span><span class=line><span class=cl>    <span class=o>]</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;collections&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>      <span class=o>{</span> 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;products&#34;</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;read&#34;</span> 
</span></span><span class=line><span class=cl>      <span class=o>}</span> 
</span></span><span class=line><span class=cl>    <span class=o>]</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;variables&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>      <span class=o>{</span> 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;id&#34;</span> : 6, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;5&#34;</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>      <span class=o>}</span>, 
</span></span><span class=line><span class=cl>      <span class=o>{</span> 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;id&#34;</span> : 4, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;3&#34;</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>      <span class=o>}</span>, 
</span></span><span class=line><span class=cl>      <span class=o>{</span> 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;id&#34;</span> : 2, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;name&#34;</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>      <span class=o>}</span>, 
</span></span><span class=line><span class=cl>      <span class=o>{</span> 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;id&#34;</span> : 1, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;a&#34;</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>      <span class=o>}</span>, 
</span></span><span class=line><span class=cl>      <span class=o>{</span> 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;id&#34;</span> : 0, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;p&#34;</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>      <span class=o>}</span> 
</span></span><span class=line><span class=cl>    <span class=o>]</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;estimatedCost&#34;</span> : 7.3719280948873624, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;estimatedNrItems&#34;</span> : 1, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;isModificationQuery&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;cacheable&#34;</span> : true, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;warnings&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;stats&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;rulesExecuted&#34;</span> : 46, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;rulesSkipped&#34;</span> : 0, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;plansCreated&#34;</span> : 1, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;peakMemoryUsage&#34;</span> : 0, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;executionTime&#34;</span> : 0.00021306600001480547 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;error&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;code&#34;</span> : <span class=m>200</span> 
</span></span><span class=line><span class=cl><span class=o>}</span></span></span></code></pre></div></div></div><br><p>Using some options</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -X POST --header <span class=s1>&#39;accept: application/json&#39;</span> --data-binary @- --dump - <span class=s1>&#39;http://localhost:8529/_api/explain&#39;</span> <span class=s>&lt;&lt;&#39;EOF&#39;
</span></span></span><span class=line><span class=cl><span class=s>{
</span></span></span><span class=line><span class=cl><span class=s>  &#34;query&#34;: &#34;FOR p IN products LET a = p.id FILTER a == 4 LET name = p.name SORT p.id LIMIT 1 RETURN name&#34;,
</span></span></span><span class=line><span class=cl><span class=s>  &#34;options&#34;: {
</span></span></span><span class=line><span class=cl><span class=s>    &#34;maxNumberOfPlans&#34;: 2,
</span></span></span><span class=line><span class=cl><span class=s>    &#34;allPlans&#34;: true,
</span></span></span><span class=line><span class=cl><span class=s>    &#34;optimizer&#34;: {
</span></span></span><span class=line><span class=cl><span class=s>      &#34;rules&#34;: [
</span></span></span><span class=line><span class=cl><span class=s>        &#34;-all&#34;,
</span></span></span><span class=line><span class=cl><span class=s>        &#34;+use-index-for-sort&#34;,
</span></span></span><span class=line><span class=cl><span class=s>        &#34;+use-index-range&#34;
</span></span></span><span class=line><span class=cl><span class=s>      ]
</span></span></span><span class=line><span class=cl><span class=s>    }
</span></span></span><span class=line><span class=cl><span class=s>  }
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>HTTP/1.1 <span class=m>200</span> OK
</span></span><span class=line><span class=cl>content-type: application/json
</span></span><span class=line><span class=cl>cache-control: no-cache, no-store, must-revalidate, pre-check<span class=o>=</span>0, post-check<span class=o>=</span>0, max-age<span class=o>=</span>0, s-maxage<span class=o>=</span><span class=m>0</span>
</span></span><span class=line><span class=cl>connection: Keep-Alive
</span></span><span class=line><span class=cl>content-length: <span class=m>3430</span>
</span></span><span class=line><span class=cl>content-security-policy: frame-ancestors <span class=s1>&#39;self&#39;</span><span class=p>;</span> form-action <span class=s1>&#39;self&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>expires: <span class=m>0</span>
</span></span><span class=line><span class=cl>pragma: no-cache
</span></span><span class=line><span class=cl>server: ArangoDB
</span></span><span class=line><span class=cl>strict-transport-security: max-age<span class=o>=</span><span class=m>31536000</span> <span class=p>;</span> includeSubDomains
</span></span><span class=line><span class=cl>x-arango-queue-time-seconds: 0.000000
</span></span><span class=line><span class=cl>x-content-type-options: nosniff
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;plans&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>    <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;nodes&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>        <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;SingletonNode&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;dependencies&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 1, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;estimatedCost&#34;</span> : 1, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;estimatedNrItems&#34;</span> : <span class=m>1</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;IndexNode&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;dependencies&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>            <span class=m>1</span> 
</span></span><span class=line><span class=cl>          <span class=o>]</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 11, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;estimatedCost&#34;</span> : 11, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;estimatedNrItems&#34;</span> : 10, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;outVariable&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;id&#34;</span> : 0, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;p&#34;</span>, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>true</span> 
</span></span><span class=line><span class=cl>          <span class=o>}</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;projections&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;filterProjections&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;count&#34;</span> : false, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;producesResult&#34;</span> : true, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;readOwnWrites&#34;</span> : false, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;useCache&#34;</span> : false, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;maxProjections&#34;</span> : 5, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;database&#34;</span> : <span class=s2>&#34;_system&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;collection&#34;</span> : <span class=s2>&#34;products&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;satellite&#34;</span> : false, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;isSatellite&#34;</span> : false, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;isSatelliteOf&#34;</span> : null, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;needsGatherNodeSort&#34;</span> : true, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;indexCoversProjections&#34;</span> : false, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;indexes&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>            <span class=o>{</span> 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;id&#34;</span> : <span class=s2>&#34;71972&#34;</span>, 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;persistent&#34;</span>, 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;idx_1824128903962165248&#34;</span>, 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;fields&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>                <span class=s2>&#34;id&#34;</span> 
</span></span><span class=line><span class=cl>              <span class=o>]</span>, 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;selectivityEstimate&#34;</span> : 1, 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;unique&#34;</span> : false, 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;sparse&#34;</span> : false, 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;deduplicate&#34;</span> : true, 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;estimates&#34;</span> : true, 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;cacheEnabled&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>            <span class=o>}</span> 
</span></span><span class=line><span class=cl>          <span class=o>]</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;condition&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=o>}</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;allCoveredByOneIndex&#34;</span> : false, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;sorted&#34;</span> : true, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;ascending&#34;</span> : true, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;reverse&#34;</span> : false, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;evalFCalls&#34;</span> : true, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;waitForSync&#34;</span> : false, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;limit&#34;</span> : 0, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;lookahead&#34;</span> : <span class=m>1</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;CalculationNode&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;dependencies&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>            <span class=m>11</span> 
</span></span><span class=line><span class=cl>          <span class=o>]</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 3, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;estimatedCost&#34;</span> : 21, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;estimatedNrItems&#34;</span> : 10, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;expression&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;attribute access&#34;</span>, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;typeID&#34;</span> : 35, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;id&#34;</span>, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;subNodes&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>              <span class=o>{</span> 
</span></span><span class=line><span class=cl>                <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;reference&#34;</span>, 
</span></span><span class=line><span class=cl>                <span class=s2>&#34;typeID&#34;</span> : 45, 
</span></span><span class=line><span class=cl>                <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;p&#34;</span>, 
</span></span><span class=line><span class=cl>                <span class=s2>&#34;id&#34;</span> : <span class=m>0</span> 
</span></span><span class=line><span class=cl>              <span class=o>}</span> 
</span></span><span class=line><span class=cl>            <span class=o>]</span> 
</span></span><span class=line><span class=cl>          <span class=o>}</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;outVariable&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;id&#34;</span> : 1, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;a&#34;</span>, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>          <span class=o>}</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;canThrow&#34;</span> : false, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;expressionType&#34;</span> : <span class=s2>&#34;attribute&#34;</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;CalculationNode&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;dependencies&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>            <span class=m>3</span> 
</span></span><span class=line><span class=cl>          <span class=o>]</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 4, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;estimatedCost&#34;</span> : 31, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;estimatedNrItems&#34;</span> : 10, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;expression&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;compare ==&#34;</span>, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;typeID&#34;</span> : 25, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;excludesNull&#34;</span> : false, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;subNodes&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>              <span class=o>{</span> 
</span></span><span class=line><span class=cl>                <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;reference&#34;</span>, 
</span></span><span class=line><span class=cl>                <span class=s2>&#34;typeID&#34;</span> : 45, 
</span></span><span class=line><span class=cl>                <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;a&#34;</span>, 
</span></span><span class=line><span class=cl>                <span class=s2>&#34;id&#34;</span> : <span class=m>1</span> 
</span></span><span class=line><span class=cl>              <span class=o>}</span>, 
</span></span><span class=line><span class=cl>              <span class=o>{</span> 
</span></span><span class=line><span class=cl>                <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;value&#34;</span>, 
</span></span><span class=line><span class=cl>                <span class=s2>&#34;typeID&#34;</span> : 40, 
</span></span><span class=line><span class=cl>                <span class=s2>&#34;value&#34;</span> : 4, 
</span></span><span class=line><span class=cl>                <span class=s2>&#34;vTypeID&#34;</span> : <span class=m>2</span> 
</span></span><span class=line><span class=cl>              <span class=o>}</span> 
</span></span><span class=line><span class=cl>            <span class=o>]</span> 
</span></span><span class=line><span class=cl>          <span class=o>}</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;outVariable&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;id&#34;</span> : 4, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;3&#34;</span>, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>          <span class=o>}</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;canThrow&#34;</span> : false, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;expressionType&#34;</span> : <span class=s2>&#34;simple&#34;</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;FilterNode&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;dependencies&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>            <span class=m>4</span> 
</span></span><span class=line><span class=cl>          <span class=o>]</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 5, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;estimatedCost&#34;</span> : 41, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;estimatedNrItems&#34;</span> : 10, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;inVariable&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;id&#34;</span> : 4, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;3&#34;</span>, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>          <span class=o>}</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;CalculationNode&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;dependencies&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>            <span class=m>5</span> 
</span></span><span class=line><span class=cl>          <span class=o>]</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 6, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;estimatedCost&#34;</span> : 51, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;estimatedNrItems&#34;</span> : 10, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;expression&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;attribute access&#34;</span>, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;typeID&#34;</span> : 35, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;name&#34;</span>, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;subNodes&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>              <span class=o>{</span> 
</span></span><span class=line><span class=cl>                <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;reference&#34;</span>, 
</span></span><span class=line><span class=cl>                <span class=s2>&#34;typeID&#34;</span> : 45, 
</span></span><span class=line><span class=cl>                <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;p&#34;</span>, 
</span></span><span class=line><span class=cl>                <span class=s2>&#34;id&#34;</span> : <span class=m>0</span> 
</span></span><span class=line><span class=cl>              <span class=o>}</span> 
</span></span><span class=line><span class=cl>            <span class=o>]</span> 
</span></span><span class=line><span class=cl>          <span class=o>}</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;outVariable&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;id&#34;</span> : 2, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;name&#34;</span>, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>          <span class=o>}</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;canThrow&#34;</span> : false, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;expressionType&#34;</span> : <span class=s2>&#34;attribute&#34;</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;CalculationNode&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;dependencies&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>            <span class=m>6</span> 
</span></span><span class=line><span class=cl>          <span class=o>]</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 7, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;estimatedCost&#34;</span> : 61, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;estimatedNrItems&#34;</span> : 10, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;expression&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;attribute access&#34;</span>, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;typeID&#34;</span> : 35, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;id&#34;</span>, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;subNodes&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>              <span class=o>{</span> 
</span></span><span class=line><span class=cl>                <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;reference&#34;</span>, 
</span></span><span class=line><span class=cl>                <span class=s2>&#34;typeID&#34;</span> : 45, 
</span></span><span class=line><span class=cl>                <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;p&#34;</span>, 
</span></span><span class=line><span class=cl>                <span class=s2>&#34;id&#34;</span> : <span class=m>0</span> 
</span></span><span class=line><span class=cl>              <span class=o>}</span> 
</span></span><span class=line><span class=cl>            <span class=o>]</span> 
</span></span><span class=line><span class=cl>          <span class=o>}</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;outVariable&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;id&#34;</span> : 6, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;5&#34;</span>, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>          <span class=o>}</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;canThrow&#34;</span> : false, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;expressionType&#34;</span> : <span class=s2>&#34;attribute&#34;</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;LimitNode&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;dependencies&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>            <span class=m>7</span> 
</span></span><span class=line><span class=cl>          <span class=o>]</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 9, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;estimatedCost&#34;</span> : 62, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;estimatedNrItems&#34;</span> : 1, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;offset&#34;</span> : 0, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;limit&#34;</span> : 1, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;fullCount&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;ReturnNode&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;dependencies&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>            <span class=m>9</span> 
</span></span><span class=line><span class=cl>          <span class=o>]</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 10, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;estimatedCost&#34;</span> : 63, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;estimatedNrItems&#34;</span> : 1, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;inVariable&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;id&#34;</span> : 2, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;name&#34;</span>, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>          <span class=o>}</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;count&#34;</span> : <span class=nb>true</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span> 
</span></span><span class=line><span class=cl>      <span class=o>]</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;rules&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;use-index-for-sort&#34;</span> 
</span></span><span class=line><span class=cl>      <span class=o>]</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;collections&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>        <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;products&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;read&#34;</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span> 
</span></span><span class=line><span class=cl>      <span class=o>]</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;variables&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>        <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 6, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;5&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 4, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;3&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 2, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;name&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 1, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;a&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 0, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;p&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>true</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span> 
</span></span><span class=line><span class=cl>      <span class=o>]</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;estimatedCost&#34;</span> : 63, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;estimatedNrItems&#34;</span> : 1, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;isModificationQuery&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>]</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;warnings&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;stats&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;rulesExecuted&#34;</span> : 4, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;rulesSkipped&#34;</span> : 40, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;plansCreated&#34;</span> : 1, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;peakMemoryUsage&#34;</span> : 0, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;executionTime&#34;</span> : 0.00018647999996801445 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;error&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;code&#34;</span> : <span class=m>200</span> 
</span></span><span class=line><span class=cl><span class=o>}</span></span></span></code></pre></div></div></div><br><p>Returning all plans</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -X POST --header <span class=s1>&#39;accept: application/json&#39;</span> --data-binary @- --dump - <span class=s1>&#39;http://localhost:8529/_api/explain&#39;</span> <span class=s>&lt;&lt;&#39;EOF&#39;
</span></span></span><span class=line><span class=cl><span class=s>{
</span></span></span><span class=line><span class=cl><span class=s>  &#34;query&#34;: &#34;FOR p IN products FILTER p.id == 25 RETURN p&#34;,
</span></span></span><span class=line><span class=cl><span class=s>  &#34;options&#34;: {
</span></span></span><span class=line><span class=cl><span class=s>    &#34;allPlans&#34;: true
</span></span></span><span class=line><span class=cl><span class=s>  }
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>HTTP/1.1 <span class=m>200</span> OK
</span></span><span class=line><span class=cl>content-type: application/json
</span></span><span class=line><span class=cl>cache-control: no-cache, no-store, must-revalidate, pre-check<span class=o>=</span>0, post-check<span class=o>=</span>0, max-age<span class=o>=</span>0, s-maxage<span class=o>=</span><span class=m>0</span>
</span></span><span class=line><span class=cl>connection: Keep-Alive
</span></span><span class=line><span class=cl>content-length: <span class=m>1930</span>
</span></span><span class=line><span class=cl>content-security-policy: frame-ancestors <span class=s1>&#39;self&#39;</span><span class=p>;</span> form-action <span class=s1>&#39;self&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>expires: <span class=m>0</span>
</span></span><span class=line><span class=cl>pragma: no-cache
</span></span><span class=line><span class=cl>server: ArangoDB
</span></span><span class=line><span class=cl>strict-transport-security: max-age<span class=o>=</span><span class=m>31536000</span> <span class=p>;</span> includeSubDomains
</span></span><span class=line><span class=cl>x-arango-queue-time-seconds: 0.000000
</span></span><span class=line><span class=cl>x-content-type-options: nosniff
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;plans&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>    <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;nodes&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>        <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;SingletonNode&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;dependencies&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 1, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;estimatedCost&#34;</span> : 1, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;estimatedNrItems&#34;</span> : <span class=m>1</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;IndexNode&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;dependencies&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>            <span class=m>1</span> 
</span></span><span class=line><span class=cl>          <span class=o>]</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 6, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;estimatedCost&#34;</span> : 1, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;estimatedNrItems&#34;</span> : 0, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;outVariable&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;id&#34;</span> : 0, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;p&#34;</span>, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>true</span> 
</span></span><span class=line><span class=cl>          <span class=o>}</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;projections&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;filterProjections&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;count&#34;</span> : false, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;producesResult&#34;</span> : true, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;readOwnWrites&#34;</span> : false, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;useCache&#34;</span> : true, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;maxProjections&#34;</span> : 5, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;database&#34;</span> : <span class=s2>&#34;_system&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;collection&#34;</span> : <span class=s2>&#34;products&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;satellite&#34;</span> : false, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;isSatellite&#34;</span> : false, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;isSatelliteOf&#34;</span> : null, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;needsGatherNodeSort&#34;</span> : false, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;indexCoversProjections&#34;</span> : false, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;indexes&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>            <span class=o>{</span> 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;id&#34;</span> : <span class=s2>&#34;72004&#34;</span>, 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;persistent&#34;</span>, 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;idx_1824128903989428224&#34;</span>, 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;fields&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>                <span class=s2>&#34;id&#34;</span> 
</span></span><span class=line><span class=cl>              <span class=o>]</span>, 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;selectivityEstimate&#34;</span> : 1, 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;unique&#34;</span> : false, 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;sparse&#34;</span> : false, 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;deduplicate&#34;</span> : true, 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;estimates&#34;</span> : true, 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;cacheEnabled&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>            <span class=o>}</span> 
</span></span><span class=line><span class=cl>          <span class=o>]</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;condition&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;n-ary or&#34;</span>, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;typeID&#34;</span> : 63, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;subNodes&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>              <span class=o>{</span> 
</span></span><span class=line><span class=cl>                <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;n-ary and&#34;</span>, 
</span></span><span class=line><span class=cl>                <span class=s2>&#34;typeID&#34;</span> : 62, 
</span></span><span class=line><span class=cl>                <span class=s2>&#34;subNodes&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>                  <span class=o>{</span> 
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;compare ==&#34;</span>, 
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;typeID&#34;</span> : 25, 
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;excludesNull&#34;</span> : false, 
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;subNodes&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>                      <span class=o>{</span> 
</span></span><span class=line><span class=cl>                        <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;attribute access&#34;</span>, 
</span></span><span class=line><span class=cl>                        <span class=s2>&#34;typeID&#34;</span> : 35, 
</span></span><span class=line><span class=cl>                        <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;id&#34;</span>, 
</span></span><span class=line><span class=cl>                        <span class=s2>&#34;subNodes&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>                          <span class=o>{</span> 
</span></span><span class=line><span class=cl>                            <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;reference&#34;</span>, 
</span></span><span class=line><span class=cl>                            <span class=s2>&#34;typeID&#34;</span> : 45, 
</span></span><span class=line><span class=cl>                            <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;p&#34;</span>, 
</span></span><span class=line><span class=cl>                            <span class=s2>&#34;id&#34;</span> : <span class=m>0</span> 
</span></span><span class=line><span class=cl>                          <span class=o>}</span> 
</span></span><span class=line><span class=cl>                        <span class=o>]</span> 
</span></span><span class=line><span class=cl>                      <span class=o>}</span>, 
</span></span><span class=line><span class=cl>                      <span class=o>{</span> 
</span></span><span class=line><span class=cl>                        <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;value&#34;</span>, 
</span></span><span class=line><span class=cl>                        <span class=s2>&#34;typeID&#34;</span> : 40, 
</span></span><span class=line><span class=cl>                        <span class=s2>&#34;value&#34;</span> : 25, 
</span></span><span class=line><span class=cl>                        <span class=s2>&#34;vTypeID&#34;</span> : <span class=m>2</span> 
</span></span><span class=line><span class=cl>                      <span class=o>}</span> 
</span></span><span class=line><span class=cl>                    <span class=o>]</span> 
</span></span><span class=line><span class=cl>                  <span class=o>}</span> 
</span></span><span class=line><span class=cl>                <span class=o>]</span> 
</span></span><span class=line><span class=cl>              <span class=o>}</span> 
</span></span><span class=line><span class=cl>            <span class=o>]</span> 
</span></span><span class=line><span class=cl>          <span class=o>}</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;allCoveredByOneIndex&#34;</span> : false, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;sorted&#34;</span> : true, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;ascending&#34;</span> : true, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;reverse&#34;</span> : false, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;evalFCalls&#34;</span> : true, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;waitForSync&#34;</span> : false, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;limit&#34;</span> : 0, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;lookahead&#34;</span> : <span class=m>1</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;ReturnNode&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;dependencies&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>            <span class=m>6</span> 
</span></span><span class=line><span class=cl>          <span class=o>]</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 5, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;estimatedCost&#34;</span> : 1, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;estimatedNrItems&#34;</span> : 0, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;inVariable&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;id&#34;</span> : 0, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;p&#34;</span>, 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>true</span> 
</span></span><span class=line><span class=cl>          <span class=o>}</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;count&#34;</span> : <span class=nb>true</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span> 
</span></span><span class=line><span class=cl>      <span class=o>]</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;rules&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;use-indexes&#34;</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;remove-filter-covered-by-index&#34;</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;remove-unnecessary-calculations-2&#34;</span> 
</span></span><span class=line><span class=cl>      <span class=o>]</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;collections&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>        <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;products&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;read&#34;</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span> 
</span></span><span class=line><span class=cl>      <span class=o>]</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;variables&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>        <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 2, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;1&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 0, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;p&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>true</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span> 
</span></span><span class=line><span class=cl>      <span class=o>]</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;estimatedCost&#34;</span> : 1, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;estimatedNrItems&#34;</span> : 0, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;isModificationQuery&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>]</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;warnings&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;stats&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;rulesExecuted&#34;</span> : 44, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;rulesSkipped&#34;</span> : 0, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;plansCreated&#34;</span> : 1, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;peakMemoryUsage&#34;</span> : 0, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;executionTime&#34;</span> : 0.00013886400000728827 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;error&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;code&#34;</span> : <span class=m>200</span> 
</span></span><span class=line><span class=cl><span class=o>}</span></span></span></code></pre></div></div></div><br><p>A query that produces a warning</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -X POST --header <span class=s1>&#39;accept: application/json&#39;</span> --data-binary @- --dump - <span class=s1>&#39;http://localhost:8529/_api/explain&#39;</span> <span class=s>&lt;&lt;&#39;EOF&#39;
</span></span></span><span class=line><span class=cl><span class=s>{
</span></span></span><span class=line><span class=cl><span class=s>  &#34;query&#34;: &#34;FOR i IN 1..10 RETURN 1 / 0&#34;
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>HTTP/1.1 <span class=m>200</span> OK
</span></span><span class=line><span class=cl>content-type: application/json
</span></span><span class=line><span class=cl>cache-control: no-cache, no-store, must-revalidate, pre-check<span class=o>=</span>0, post-check<span class=o>=</span>0, max-age<span class=o>=</span>0, s-maxage<span class=o>=</span><span class=m>0</span>
</span></span><span class=line><span class=cl>connection: Keep-Alive
</span></span><span class=line><span class=cl>content-length: <span class=m>1723</span>
</span></span><span class=line><span class=cl>content-security-policy: frame-ancestors <span class=s1>&#39;self&#39;</span><span class=p>;</span> form-action <span class=s1>&#39;self&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>expires: <span class=m>0</span>
</span></span><span class=line><span class=cl>pragma: no-cache
</span></span><span class=line><span class=cl>server: ArangoDB
</span></span><span class=line><span class=cl>strict-transport-security: max-age<span class=o>=</span><span class=m>31536000</span> <span class=p>;</span> includeSubDomains
</span></span><span class=line><span class=cl>x-arango-queue-time-seconds: 0.000000
</span></span><span class=line><span class=cl>x-content-type-options: nosniff
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;plan&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;nodes&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>      <span class=o>{</span> 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;SingletonNode&#34;</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;dependencies&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;id&#34;</span> : 1, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;estimatedCost&#34;</span> : 1, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;estimatedNrItems&#34;</span> : <span class=m>1</span> 
</span></span><span class=line><span class=cl>      <span class=o>}</span>, 
</span></span><span class=line><span class=cl>      <span class=o>{</span> 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;CalculationNode&#34;</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;dependencies&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>          <span class=m>1</span> 
</span></span><span class=line><span class=cl>        <span class=o>]</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;id&#34;</span> : 2, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;estimatedCost&#34;</span> : 2, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;estimatedNrItems&#34;</span> : 1, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;expression&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;range&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;typeID&#34;</span> : 49, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;subNodes&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>            <span class=o>{</span> 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;value&#34;</span>, 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;typeID&#34;</span> : 40, 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;value&#34;</span> : 1, 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;vTypeID&#34;</span> : <span class=m>2</span> 
</span></span><span class=line><span class=cl>            <span class=o>}</span>, 
</span></span><span class=line><span class=cl>            <span class=o>{</span> 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;value&#34;</span>, 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;typeID&#34;</span> : 40, 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;value&#34;</span> : 10, 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;vTypeID&#34;</span> : <span class=m>2</span> 
</span></span><span class=line><span class=cl>            <span class=o>}</span> 
</span></span><span class=line><span class=cl>          <span class=o>]</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;outVariable&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 2, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;1&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;canThrow&#34;</span> : false, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;expressionType&#34;</span> : <span class=s2>&#34;simple&#34;</span> 
</span></span><span class=line><span class=cl>      <span class=o>}</span>, 
</span></span><span class=line><span class=cl>      <span class=o>{</span> 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;CalculationNode&#34;</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;dependencies&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>          <span class=m>2</span> 
</span></span><span class=line><span class=cl>        <span class=o>]</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;id&#34;</span> : 4, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;estimatedCost&#34;</span> : 3, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;estimatedNrItems&#34;</span> : 1, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;expression&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;value&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;typeID&#34;</span> : 40, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;value&#34;</span> : null, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;vTypeID&#34;</span> : <span class=m>0</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;outVariable&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 4, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;3&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;canThrow&#34;</span> : false, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;expressionType&#34;</span> : <span class=s2>&#34;json&#34;</span> 
</span></span><span class=line><span class=cl>      <span class=o>}</span>, 
</span></span><span class=line><span class=cl>      <span class=o>{</span> 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;EnumerateListNode&#34;</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;dependencies&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>          <span class=m>4</span> 
</span></span><span class=line><span class=cl>        <span class=o>]</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;id&#34;</span> : 3, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;estimatedCost&#34;</span> : 13, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;estimatedNrItems&#34;</span> : 10, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;inVariable&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 2, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;1&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;outVariable&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 0, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;i&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span> 
</span></span><span class=line><span class=cl>      <span class=o>}</span>, 
</span></span><span class=line><span class=cl>      <span class=o>{</span> 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;ReturnNode&#34;</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;dependencies&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>          <span class=m>3</span> 
</span></span><span class=line><span class=cl>        <span class=o>]</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;id&#34;</span> : 5, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;estimatedCost&#34;</span> : 23, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;estimatedNrItems&#34;</span> : 10, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;inVariable&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 4, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;3&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;count&#34;</span> : <span class=nb>true</span> 
</span></span><span class=line><span class=cl>      <span class=o>}</span> 
</span></span><span class=line><span class=cl>    <span class=o>]</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;rules&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;move-calculations-up&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;move-calculations-up-2&#34;</span> 
</span></span><span class=line><span class=cl>    <span class=o>]</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;collections&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;variables&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>      <span class=o>{</span> 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;id&#34;</span> : 4, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;3&#34;</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : false, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;constantValue&#34;</span> : null 
</span></span><span class=line><span class=cl>      <span class=o>}</span>, 
</span></span><span class=line><span class=cl>      <span class=o>{</span> 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;id&#34;</span> : 2, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;1&#34;</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>      <span class=o>}</span>, 
</span></span><span class=line><span class=cl>      <span class=o>{</span> 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;id&#34;</span> : 0, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;i&#34;</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>      <span class=o>}</span> 
</span></span><span class=line><span class=cl>    <span class=o>]</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;estimatedCost&#34;</span> : 23, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;estimatedNrItems&#34;</span> : 10, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;isModificationQuery&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;cacheable&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;warnings&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>    <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;code&#34;</span> : 1562, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;message&#34;</span> : <span class=s2>&#34;division by zero&#34;</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>]</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;stats&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;rulesExecuted&#34;</span> : 44, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;rulesSkipped&#34;</span> : 0, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;plansCreated&#34;</span> : 1, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;peakMemoryUsage&#34;</span> : 0, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;executionTime&#34;</span> : 0.00016089700000065932 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;error&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;code&#34;</span> : <span class=m>200</span> 
</span></span><span class=line><span class=cl><span class=o>}</span></span></span></code></pre></div></div></div><br><p>Invalid query (missing bind parameter)</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -X POST --header <span class=s1>&#39;accept: application/json&#39;</span> --data-binary @- --dump - <span class=s1>&#39;http://localhost:8529/_api/explain&#39;</span> <span class=s>&lt;&lt;&#39;EOF&#39;
</span></span></span><span class=line><span class=cl><span class=s>{
</span></span></span><span class=line><span class=cl><span class=s>  &#34;query&#34;: &#34;FOR p IN products FILTER p.id == @id LIMIT 2 RETURN p.n&#34;
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>HTTP/1.1 <span class=m>400</span> Bad Request
</span></span><span class=line><span class=cl>content-type: application/json
</span></span><span class=line><span class=cl>cache-control: no-cache, no-store, must-revalidate, pre-check<span class=o>=</span>0, post-check<span class=o>=</span>0, max-age<span class=o>=</span>0, s-maxage<span class=o>=</span><span class=m>0</span>
</span></span><span class=line><span class=cl>connection: Keep-Alive
</span></span><span class=line><span class=cl>content-length: <span class=m>126</span>
</span></span><span class=line><span class=cl>content-security-policy: frame-ancestors <span class=s1>&#39;self&#39;</span><span class=p>;</span> form-action <span class=s1>&#39;self&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>expires: <span class=m>0</span>
</span></span><span class=line><span class=cl>pragma: no-cache
</span></span><span class=line><span class=cl>server: ArangoDB
</span></span><span class=line><span class=cl>strict-transport-security: max-age<span class=o>=</span><span class=m>31536000</span> <span class=p>;</span> includeSubDomains
</span></span><span class=line><span class=cl>x-arango-queue-time-seconds: 0.000000
</span></span><span class=line><span class=cl>x-content-type-options: nosniff
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;code&#34;</span> : 400, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;error&#34;</span> : true, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;errorMessage&#34;</span> : <span class=s2>&#34;no value specified for declared bind parameter &#39;id&#39; (while parsing)&#34;</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;errorNum&#34;</span> : <span class=m>1551</span> 
</span></span><span class=line><span class=cl><span class=o>}</span></span></span></code></pre></div></div></div><br><p>The data returned in the <strong>plan</strong> attribute of the result contains one element per AQL top-level statement
(i.e. <code>FOR</code>, <code>RETURN</code>, <code>FILTER</code> etc.). If the query optimizer removed some unnecessary statements,
the result might also contain less elements than there were top-level statements in the AQL query.</p><p>The following example shows a query with a non-sensible filter condition that
the optimizer has removed so that there are less top-level statements.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -X POST --header <span class=s1>&#39;accept: application/json&#39;</span> --data-binary @- --dump - <span class=s1>&#39;http://localhost:8529/_api/explain&#39;</span> <span class=s>&lt;&lt;&#39;EOF&#39;
</span></span></span><span class=line><span class=cl><span class=s>{ &#34;query&#34; : &#34;FOR i IN [ 1, 2, 3 ] FILTER 1 == 2 RETURN i&#34; }
</span></span></span><span class=line><span class=cl><span class=s>EOF</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>HTTP/1.1 <span class=m>200</span> OK
</span></span><span class=line><span class=cl>content-type: application/json
</span></span><span class=line><span class=cl>cache-control: no-cache, no-store, must-revalidate, pre-check<span class=o>=</span>0, post-check<span class=o>=</span>0, max-age<span class=o>=</span>0, s-maxage<span class=o>=</span><span class=m>0</span>
</span></span><span class=line><span class=cl>connection: Keep-Alive
</span></span><span class=line><span class=cl>content-length: <span class=m>1294</span>
</span></span><span class=line><span class=cl>content-security-policy: frame-ancestors <span class=s1>&#39;self&#39;</span><span class=p>;</span> form-action <span class=s1>&#39;self&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>expires: <span class=m>0</span>
</span></span><span class=line><span class=cl>pragma: no-cache
</span></span><span class=line><span class=cl>server: ArangoDB
</span></span><span class=line><span class=cl>strict-transport-security: max-age<span class=o>=</span><span class=m>31536000</span> <span class=p>;</span> includeSubDomains
</span></span><span class=line><span class=cl>x-arango-queue-time-seconds: 0.000000
</span></span><span class=line><span class=cl>x-content-type-options: nosniff
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;plan&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;nodes&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>      <span class=o>{</span> 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;SingletonNode&#34;</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;dependencies&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;id&#34;</span> : 1, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;estimatedCost&#34;</span> : 1, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;estimatedNrItems&#34;</span> : <span class=m>1</span> 
</span></span><span class=line><span class=cl>      <span class=o>}</span>, 
</span></span><span class=line><span class=cl>      <span class=o>{</span> 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;CalculationNode&#34;</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;dependencies&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>          <span class=m>1</span> 
</span></span><span class=line><span class=cl>        <span class=o>]</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;id&#34;</span> : 2, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;estimatedCost&#34;</span> : 2, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;estimatedNrItems&#34;</span> : 1, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;expression&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;array&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;typeID&#34;</span> : 41, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;raw&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>            1, 
</span></span><span class=line><span class=cl>            2, 
</span></span><span class=line><span class=cl>            <span class=m>3</span> 
</span></span><span class=line><span class=cl>          <span class=o>]</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;outVariable&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 2, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;1&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;canThrow&#34;</span> : false, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;expressionType&#34;</span> : <span class=s2>&#34;json&#34;</span> 
</span></span><span class=line><span class=cl>      <span class=o>}</span>, 
</span></span><span class=line><span class=cl>      <span class=o>{</span> 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;EnumerateListNode&#34;</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;dependencies&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>          <span class=m>2</span> 
</span></span><span class=line><span class=cl>        <span class=o>]</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;id&#34;</span> : 3, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;estimatedCost&#34;</span> : 5, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;estimatedNrItems&#34;</span> : 3, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;inVariable&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 2, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;1&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;outVariable&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 0, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;i&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span> 
</span></span><span class=line><span class=cl>      <span class=o>}</span>, 
</span></span><span class=line><span class=cl>      <span class=o>{</span> 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;NoResultsNode&#34;</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;dependencies&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>          <span class=m>3</span> 
</span></span><span class=line><span class=cl>        <span class=o>]</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;id&#34;</span> : 4, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;estimatedCost&#34;</span> : 0.5, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;estimatedNrItems&#34;</span> : <span class=m>0</span> 
</span></span><span class=line><span class=cl>      <span class=o>}</span>, 
</span></span><span class=line><span class=cl>      <span class=o>{</span> 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;ReturnNode&#34;</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;dependencies&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>          <span class=m>4</span> 
</span></span><span class=line><span class=cl>        <span class=o>]</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;id&#34;</span> : 5, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;estimatedCost&#34;</span> : 0.5, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;estimatedNrItems&#34;</span> : 0, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;inVariable&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;id&#34;</span> : 0, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;i&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;count&#34;</span> : <span class=nb>true</span> 
</span></span><span class=line><span class=cl>      <span class=o>}</span> 
</span></span><span class=line><span class=cl>    <span class=o>]</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;rules&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;collections&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;variables&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>      <span class=o>{</span> 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;id&#34;</span> : 2, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;1&#34;</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : false, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;constantValue&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>          1, 
</span></span><span class=line><span class=cl>          2, 
</span></span><span class=line><span class=cl>          <span class=m>3</span> 
</span></span><span class=line><span class=cl>        <span class=o>]</span> 
</span></span><span class=line><span class=cl>      <span class=o>}</span>, 
</span></span><span class=line><span class=cl>      <span class=o>{</span> 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;id&#34;</span> : 0, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;i&#34;</span>, 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;isFullDocumentFromCollection&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>      <span class=o>}</span> 
</span></span><span class=line><span class=cl>    <span class=o>]</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;estimatedCost&#34;</span> : 0.5, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;estimatedNrItems&#34;</span> : 0, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;isModificationQuery&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;cacheable&#34;</span> : true, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;warnings&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;stats&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;rulesExecuted&#34;</span> : 44, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;rulesSkipped&#34;</span> : 0, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;plansCreated&#34;</span> : 1, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;peakMemoryUsage&#34;</span> : 0, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;executionTime&#34;</span> : 0.00014317300002630873 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;error&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;code&#34;</span> : <span class=m>200</span> 
</span></span><span class=line><span class=cl><span class=o>}</span></span></span></code></pre></div></div></div><br><h3 id=parse-an-aql-query>Parse an AQL query <a href=/3.11/develop/http-api/queries/aql-queries/#parse-an-aql-query class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><div class=openapi><div class=endpoint><span class="endpoint-method regular-font bold-text method-post">POST</span>
<span class=endpoint-path>/_db/{database-name}/_api/query</span></div><div class="openapi-description regular-font">This endpoint is for query validation only. To actually query the database,
see <code>/api/cursor</code>.</div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Path Parameters</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=parse-an-aql-query_path_database-name><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">database-name*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#parse-an-aql-query_path_database-name><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The name of a database. Which database you use doesn&rsquo;t matter as long
as the user account you authenticate with has at least read access
to this database.</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Query Parameters</div><div><ul class=openapi-table></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>HTTP Headers</div><div><ul class=openapi-table></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Request Body <span class=openapi-content-type>application/json</span> <span class=openapi-property-type>object</span></div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=parse-an-aql-query_body_query><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">query*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#parse-an-aql-query_body_query><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>To validate a query string without executing it, the query string can be
passed to the server via an HTTP POST request.</p></div></details></li></ul></div></div><div class="responses regular-font"><div class=openapi-table-title>Responses</div><div class=openapi-responses><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=parse-an-aql-query_res_200><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">200</span>
<span class="openapi-property-type bold-text">OK</span>
<a href=#parse-an-aql-query_res_200><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>If the query is valid, the server will respond with <em>HTTP 200</em> and
return the names of the bind parameters it found in the query (if any) in
the <code>bindVars</code> attribute of the response. It will also return an array
of the collections used in the query in the <code>collections</code> attribute.
If a query can be parsed successfully, the <code>ast</code> attribute of the returned
JSON will contain the abstract syntax tree representation of the query.
The format of the <code>ast</code> is subject to change in future versions of
ArangoDB, but it can be used to inspect how ArangoDB interprets a given
query. Note that the abstract syntax tree will be returned without any
optimizations applied to it.</p></div></details></li><li class="openapi-table-row regular-font"><details id=parse-an-aql-query_res_400><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">400</span>
<span class="openapi-property-type bold-text">Bad Request</span>
<a href=#parse-an-aql-query_res_400><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The request is malformed or the query contains a parse error.
The body of the response contains the error details embedded in a JSON object.</p></div></details></li></ul></div></div></div><p><strong>Examples</strong></p><p>a valid query</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -X POST --header <span class=s1>&#39;accept: application/json&#39;</span> --data-binary @- --dump - <span class=s1>&#39;http://localhost:8529/_api/query&#39;</span> <span class=s>&lt;&lt;&#39;EOF&#39;
</span></span></span><span class=line><span class=cl><span class=s>{ &#34;query&#34; : &#34;FOR i IN 1..100 FILTER i &gt; 10 LIMIT 2 RETURN i * 3&#34; }
</span></span></span><span class=line><span class=cl><span class=s>EOF</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>HTTP/1.1 <span class=m>200</span> OK
</span></span><span class=line><span class=cl>content-type: application/json
</span></span><span class=line><span class=cl>cache-control: no-cache, no-store, must-revalidate, pre-check<span class=o>=</span>0, post-check<span class=o>=</span>0, max-age<span class=o>=</span>0, s-maxage<span class=o>=</span><span class=m>0</span>
</span></span><span class=line><span class=cl>connection: Keep-Alive
</span></span><span class=line><span class=cl>content-length: <span class=m>620</span>
</span></span><span class=line><span class=cl>content-security-policy: frame-ancestors <span class=s1>&#39;self&#39;</span><span class=p>;</span> form-action <span class=s1>&#39;self&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>expires: <span class=m>0</span>
</span></span><span class=line><span class=cl>pragma: no-cache
</span></span><span class=line><span class=cl>server: ArangoDB
</span></span><span class=line><span class=cl>strict-transport-security: max-age<span class=o>=</span><span class=m>31536000</span> <span class=p>;</span> includeSubDomains
</span></span><span class=line><span class=cl>x-arango-queue-time-seconds: 0.000000
</span></span><span class=line><span class=cl>x-content-type-options: nosniff
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;error&#34;</span> : false, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;code&#34;</span> : 200, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;parsed&#34;</span> : true, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;collections&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;bindVars&#34;</span> : <span class=o>[</span> <span class=o>]</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;ast&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>    <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;root&#34;</span>, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;subNodes&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>        <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;for&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;subNodes&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>            <span class=o>{</span> 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;variable&#34;</span>, 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;i&#34;</span>, 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;id&#34;</span> : <span class=m>0</span> 
</span></span><span class=line><span class=cl>            <span class=o>}</span>, 
</span></span><span class=line><span class=cl>            <span class=o>{</span> 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;range&#34;</span>, 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;subNodes&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>                <span class=o>{</span> 
</span></span><span class=line><span class=cl>                  <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;value&#34;</span>, 
</span></span><span class=line><span class=cl>                  <span class=s2>&#34;value&#34;</span> : <span class=m>1</span> 
</span></span><span class=line><span class=cl>                <span class=o>}</span>, 
</span></span><span class=line><span class=cl>                <span class=o>{</span> 
</span></span><span class=line><span class=cl>                  <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;value&#34;</span>, 
</span></span><span class=line><span class=cl>                  <span class=s2>&#34;value&#34;</span> : <span class=m>100</span> 
</span></span><span class=line><span class=cl>                <span class=o>}</span> 
</span></span><span class=line><span class=cl>              <span class=o>]</span> 
</span></span><span class=line><span class=cl>            <span class=o>}</span>, 
</span></span><span class=line><span class=cl>            <span class=o>{</span> 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;no-op&#34;</span> 
</span></span><span class=line><span class=cl>            <span class=o>}</span> 
</span></span><span class=line><span class=cl>          <span class=o>]</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;filter&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;subNodes&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>            <span class=o>{</span> 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;compare &gt;&#34;</span>, 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;subNodes&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>                <span class=o>{</span> 
</span></span><span class=line><span class=cl>                  <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;reference&#34;</span>, 
</span></span><span class=line><span class=cl>                  <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;i&#34;</span>, 
</span></span><span class=line><span class=cl>                  <span class=s2>&#34;id&#34;</span> : <span class=m>0</span> 
</span></span><span class=line><span class=cl>                <span class=o>}</span>, 
</span></span><span class=line><span class=cl>                <span class=o>{</span> 
</span></span><span class=line><span class=cl>                  <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;value&#34;</span>, 
</span></span><span class=line><span class=cl>                  <span class=s2>&#34;value&#34;</span> : <span class=m>10</span> 
</span></span><span class=line><span class=cl>                <span class=o>}</span> 
</span></span><span class=line><span class=cl>              <span class=o>]</span> 
</span></span><span class=line><span class=cl>            <span class=o>}</span> 
</span></span><span class=line><span class=cl>          <span class=o>]</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;limit&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;subNodes&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>            <span class=o>{</span> 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;value&#34;</span>, 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;value&#34;</span> : <span class=m>0</span> 
</span></span><span class=line><span class=cl>            <span class=o>}</span>, 
</span></span><span class=line><span class=cl>            <span class=o>{</span> 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;value&#34;</span>, 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;value&#34;</span> : <span class=m>2</span> 
</span></span><span class=line><span class=cl>            <span class=o>}</span> 
</span></span><span class=line><span class=cl>          <span class=o>]</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span>, 
</span></span><span class=line><span class=cl>        <span class=o>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;return&#34;</span>, 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;subNodes&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>            <span class=o>{</span> 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;times&#34;</span>, 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;subNodes&#34;</span> : <span class=o>[</span> 
</span></span><span class=line><span class=cl>                <span class=o>{</span> 
</span></span><span class=line><span class=cl>                  <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;reference&#34;</span>, 
</span></span><span class=line><span class=cl>                  <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;i&#34;</span>, 
</span></span><span class=line><span class=cl>                  <span class=s2>&#34;id&#34;</span> : <span class=m>0</span> 
</span></span><span class=line><span class=cl>                <span class=o>}</span>, 
</span></span><span class=line><span class=cl>                <span class=o>{</span> 
</span></span><span class=line><span class=cl>                  <span class=s2>&#34;type&#34;</span> : <span class=s2>&#34;value&#34;</span>, 
</span></span><span class=line><span class=cl>                  <span class=s2>&#34;value&#34;</span> : <span class=m>3</span> 
</span></span><span class=line><span class=cl>                <span class=o>}</span> 
</span></span><span class=line><span class=cl>              <span class=o>]</span> 
</span></span><span class=line><span class=cl>            <span class=o>}</span> 
</span></span><span class=line><span class=cl>          <span class=o>]</span> 
</span></span><span class=line><span class=cl>        <span class=o>}</span> 
</span></span><span class=line><span class=cl>      <span class=o>]</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>]</span> 
</span></span><span class=line><span class=cl><span class=o>}</span></span></span></code></pre></div></div></div><br><p>an invalid query</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -X POST --header <span class=s1>&#39;accept: application/json&#39;</span> --data-binary @- --dump - <span class=s1>&#39;http://localhost:8529/_api/query&#39;</span> <span class=s>&lt;&lt;&#39;EOF&#39;
</span></span></span><span class=line><span class=cl><span class=s>{ &#34;query&#34; : &#34;FOR i IN 1..100 FILTER i = 1 LIMIT 2 RETURN i * 3&#34; }
</span></span></span><span class=line><span class=cl><span class=s>EOF</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>HTTP/1.1 <span class=m>400</span> Bad Request
</span></span><span class=line><span class=cl>content-type: application/json
</span></span><span class=line><span class=cl>cache-control: no-cache, no-store, must-revalidate, pre-check<span class=o>=</span>0, post-check<span class=o>=</span>0, max-age<span class=o>=</span>0, s-maxage<span class=o>=</span><span class=m>0</span>
</span></span><span class=line><span class=cl>connection: Keep-Alive
</span></span><span class=line><span class=cl>content-length: <span class=m>143</span>
</span></span><span class=line><span class=cl>content-security-policy: frame-ancestors <span class=s1>&#39;self&#39;</span><span class=p>;</span> form-action <span class=s1>&#39;self&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>expires: <span class=m>0</span>
</span></span><span class=line><span class=cl>pragma: no-cache
</span></span><span class=line><span class=cl>server: ArangoDB
</span></span><span class=line><span class=cl>strict-transport-security: max-age<span class=o>=</span><span class=m>31536000</span> <span class=p>;</span> includeSubDomains
</span></span><span class=line><span class=cl>x-arango-queue-time-seconds: 0.000000
</span></span><span class=line><span class=cl>x-content-type-options: nosniff
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;code&#34;</span> : 400, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;error&#34;</span> : true, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;errorMessage&#34;</span> : <span class=s2>&#34;syntax error, unexpected assignment near &#39;= 1 LIMIT 2 RETURN i * 3&#39; at position 1:26&#34;</span>, 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;errorNum&#34;</span> : <span class=m>1501</span> 
</span></span><span class=line><span class=cl><span class=o>}</span></span></span></code></pre></div></div></div><br><h3 id=list-all-aql-optimizer-rules>List all AQL optimizer rules <a href=/3.11/develop/http-api/queries/aql-queries/#list-all-aql-optimizer-rules class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><div class=openapi><div class=endpoint><span class="endpoint-method regular-font bold-text method-get">GET</span>
<span class=endpoint-path>/_db/{database-name}/_api/query/rules</span></div><div class="openapi-description regular-font">A list of all optimizer rules and their properties.</div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Path Parameters</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=list-all-aql-optimizer-rules_path_database-name><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">database-name*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#list-all-aql-optimizer-rules_path_database-name><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The name of a database. Which database you use doesn&rsquo;t matter as long
as the user account you authenticate with has at least read access
to this database.</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Query Parameters</div><div><ul class=openapi-table></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>HTTP Headers</div><div><ul class=openapi-table></ul></div></div><div class="responses regular-font"><div class=openapi-table-title>Responses</div><div class=openapi-responses><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=list-all-aql-optimizer-rules_res_200><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">200</span>
<span class="openapi-property-type bold-text">OK</span>
<a href=#list-all-aql-optimizer-rules_res_200><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned if the list of optimizer rules can be retrieved successfully.</p><ul class=openapi-table><div class=openapi-table-title>Response Body <span class=openapi-content-type>application/json</span></div><li class="openapi-table-row regular-font"><details id=list-all-aql-optimizer-rules_res_200_><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text no-border"></span>
<span class=openapi-property-type><span class=bold-text>array of objects</span></span>
<a href=#list-all-aql-optimizer-rules_res_200_><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>An array of objects. Each object describes an AQL optimizer rule.</p><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=list-all-aql-optimizer-rules_res_200__flags><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">flags*</span>
<span class=openapi-property-type><span class=bold-text>object</span></span>
<a href=#list-all-aql-optimizer-rules_res_200__flags><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>An object with the properties of the rule.</p><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=list-all-aql-optimizer-rules_res_200__flags_canBeDisabled><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">canBeDisabled*</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#list-all-aql-optimizer-rules_res_200__flags_canBeDisabled><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>Whether users are allowed to disable this rule. A few rules are mandatory.</p></div></details></li><li class="openapi-table-row regular-font"><details id=list-all-aql-optimizer-rules_res_200__flags_canCreateAdditionalPlans><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">canCreateAdditionalPlans*</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#list-all-aql-optimizer-rules_res_200__flags_canCreateAdditionalPlans><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>Whether this rule may create additional query execution plans.</p></div></details></li><li class="openapi-table-row regular-font"><details id=list-all-aql-optimizer-rules_res_200__flags_clusterOnly><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">clusterOnly*</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#list-all-aql-optimizer-rules_res_200__flags_clusterOnly><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>Whether the rule is applicable in the cluster deployment mode only.</p></div></details></li><li class="openapi-table-row regular-font"><details id=list-all-aql-optimizer-rules_res_200__flags_disabledByDefault><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">disabledByDefault*</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#list-all-aql-optimizer-rules_res_200__flags_disabledByDefault><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>Whether the optimizer considers this rule by default.</p></div></details></li><li class="openapi-table-row regular-font"><details id=list-all-aql-optimizer-rules_res_200__flags_enterpriseOnly><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">enterpriseOnly*</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#list-all-aql-optimizer-rules_res_200__flags_enterpriseOnly><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>Whether the rule is available in the Enterprise Edition only.</p></div></details></li><li class="openapi-table-row regular-font"><details id=list-all-aql-optimizer-rules_res_200__flags_hidden><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">hidden*</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#list-all-aql-optimizer-rules_res_200__flags_hidden><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>Whether the rule is displayed to users. Internal rules are hidden.</p></div></details></li></ul></div></details></li><li class="openapi-table-row regular-font"><details id=list-all-aql-optimizer-rules_res_200__name><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">name*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#list-all-aql-optimizer-rules_res_200__name><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The name of the optimizer rule as seen in query explain outputs.</p></div></details></li></ul></div></details></li></ul></div></details></li></ul></div></div></div><p><strong>Examples</strong></p><p>Retrieve the list of all query optimizer rules:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl --header <span class=s1>&#39;accept: application/json&#39;</span> --dump - <span class=s1>&#39;http://localhost:8529/_api/query/rules&#39;</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>HTTP/1.1 <span class=m>200</span> OK
</span></span><span class=line><span class=cl>content-type: application/json
</span></span><span class=line><span class=cl>cache-control: no-cache, no-store, must-revalidate, pre-check<span class=o>=</span>0, post-check<span class=o>=</span>0, max-age<span class=o>=</span>0, s-maxage<span class=o>=</span><span class=m>0</span>
</span></span><span class=line><span class=cl>connection: Keep-Alive
</span></span><span class=line><span class=cl>content-length: <span class=m>17377</span>
</span></span><span class=line><span class=cl>content-security-policy: frame-ancestors <span class=s1>&#39;self&#39;</span><span class=p>;</span> form-action <span class=s1>&#39;self&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>expires: <span class=m>0</span>
</span></span><span class=line><span class=cl>pragma: no-cache
</span></span><span class=line><span class=cl>server: ArangoDB
</span></span><span class=line><span class=cl>strict-transport-security: max-age<span class=o>=</span><span class=m>31536000</span> <span class=p>;</span> includeSubDomains
</span></span><span class=line><span class=cl>x-arango-queue-time-seconds: 0.000000
</span></span><span class=line><span class=cl>x-content-type-options: nosniff
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>[</span> 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;replace-function-with-index&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Replace deprecated index functions such as `FULLTEXT()`,\n`NEAR()`, `WITHIN()`, or `WITHIN_RECTANGLE()` with a regular subquery.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;inline-subqueries&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Try to pull subqueries out into their surrounding scope, e.g.\n`FOR x IN (FOR y IN collection FILTER y.value &gt;= 5 RETURN y.test) RETURN x.a`\nbecomes `FOR tmp IN collection FILTER tmp.value &gt;= 5 LET x = tmp.test RETURN x.a`.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;simplify-conditions&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Replace parts in `CalculationNode` expressions with\nsimpler expressions.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;move-calculations-up&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Move calculations up in the processing pipeline as far as\npossible (ideally out of enumerations) so they are not executed in loops if not\nrequired. It is quite common that this rule enables further optimizations.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;move-filters-up&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Move filters up in the processing pipeline as far as possible\n(ideally out of inner loops) so they filter results as early as possible.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;remove-redundant-calculations&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Replace references to redundant calculations (expressions\nwith the exact same result) with a single reference, allowing other rules to\nremove no longer needed calculations.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;remove-unnecessary-filters&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Remove `FILTER` conditions that always evaluate to `true`.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;remove-unnecessary-calculations&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Remove all calculations whose result is not referenced in the\nquery. This can be a consequence of applying other optimizations.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;specialize-collect&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Appears whenever a `COLLECT` statement is used in a query to determine\nthe type of `CollectNode` to use.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;remove-redundant-sorts&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Try to merge multiple `SORT` statements into fewer sorts.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;optimize-subqueries&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Apply optimizations to subqueries.\n\nThis rule adds a `LIMIT` statement to qualifying subqueries to make them return\nless data. It also modifies the result value of subqueries in case only the\nnumber of subquery results is checked later. This saves copying the document\ndata from the subquery to the outer scope and may enable follow-up\noptimizations.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;interchange-adjacent-enumerations&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Try out permutations of `FOR` statements in queries that contain\nmultiple loops, which may enable further optimizations by other rules.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;move-calculations-up-2&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Second pass of moving calculations up in the processing\npipeline as far as possible, to pull them out of inner loops etc.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;move-filters-up-2&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Second pass of moving filters up in the processing pipeline\nas far as possible so they filter results as early as possible.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;remove-redundant-sorts-2&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Second pass of trying to merge multiple `SORT` statements\ninto fewer sorts.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;remove-sort-rand-limit-1&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Remove `SORT RAND() LIMIT 1` constructs by moving the random iteration\ninto `EnumerateCollectionNode`.\n\nThe RocksDB storage engine doesn&#39;t allow to seek random documents efficiently.\nThis optimization picks a pseudo-random document based on a limited number of\nseeks within the collection&#39;s key range, selecting a random start key in the\nkey range, and then going a few steps before or after that.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;remove-collect-variables&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Remove `INTO` and `AGGREGATE` clauses from `COLLECT`\nstatements if the result is not used.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;propagate-constant-attributes&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Insert constant values into `FILTER` conditions, replacing\ndynamic attribute values.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;remove-data-modification-out-variables&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Avoid setting the pseudo-variables `OLD` and `NEW` if they\nare not used in data modification queries.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;replace-or-with-in&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Combine multiple `OR` equality conditions on the same\nvariable or attribute with an `IN` condition.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;remove-redundant-or&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Combine multiple `OR` conditions for the same variable or\nattribute into a single condition.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;geo-index-optimizer&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Utilize geo-spatial indexes.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;use-indexes&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Use indexes to iterate over collections, replacing\n`EnumerateCollectionNode` with `IndexNode` in the query plan.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;remove-filter-covered-by-index&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Replace or remove `FilterNode` if the filter conditions are\nalready covered by `IndexNode`.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;remove-unnecessary-filters-2&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Second pass of removing `FILTER` conditions that always\nevaluate to `true`.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;use-index-for-sort&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Use indexes to avoid `SORT` operations, removing `SortNode`\nfrom the query plan.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;sort-in-values&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Use a binary search for in-list lookups with a logarithmic\ncomplexity instead of the default linear complexity in-list lookup if the\ncomparison array on the right-hand side of an `IN` operator is pre-sorted by an\nextra function call.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;optimize-traversal-last-element-access&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Transform accesses to the last vertex or edge of the path\noutput variable (`p.vertices[-1]` and `p.edges[-1]`) emitted by AQL traversals\n(`FOR v, e, p IN ...`) with accesses to the vertex or edge variable\n(`v` and `e`). This can avoid computing the path variable at all and enable\nfurther optimizations that are not possible on the path variable `p`.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;optimize-traversals&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Try to move `FILTER` conditions into `TraversalNode` for\nearly pruning of results, apply traversal projections, and avoid calculating\nedge and path output variables that are not declared in the query for the\nAQL traversal.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;optimize-paths&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Check how the output variables of `K_PATHS`, `K_SHORTEST_PATHS`,\nand `ALL_SHORTEST_PATHS` path search graph algorithms are used and avoid\nloading the vertex documents if they are not accessed in the query.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;remove-filter-covered-by-traversal&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Replace or remove `FilterNode` if the filter conditions are\nalready covered by `TraversalNode`.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;handle-arangosearch-views&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Appears whenever an `arangosearch` or `search-alias` View is accessed\nin a query.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;arangosearch-constrained-sort&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Make nodes of type `EnumerateViewNode` aware of `SORT` with a\nsubsequent `LIMIT` when using Views to reduce memory usage and avoid unnecessary\nsorting that has already been carried out by ArangoSearch internally.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;remove-unnecessary-calculations-2&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Second pass of removing all calculations whose result is not\nreferenced in the query. This can be a consequence of applying other\noptimizations&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;remove-redundant-path-var&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Avoid computing the variables emitted by AQL traversals if\nthey are declared but unused in the query, or only used in filters that are\npulled into the traversal, significantly reducing overhead.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;move-calculations-down&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Move calculations down in the processing pipeline as far as\npossible (below `FILTER`, `LIMIT` and `SUBQUERY` nodes) so they are executed as\nlate as possible and not before their results are required.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;fuse-filters&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Merges adjacent `FILTER` nodes together into a single\n`FILTER` node.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;move-filters-into-enumerate&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Move filters on non-indexed collection attributes into\n`IndexNode` or `EnumerateCollectionNode` to allow early pruning of\nnon-matching documents. This optimization can help to avoid a lot of temporary\ndocument copies.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;remove-unnecessary-calculations-3&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Third pass of removing all calculations whose result is not\nreferenced in the query. This can be a consequence of applying other\noptimizations&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;sort-limit&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Make `SORT` aware of a subsequent `LIMIT` to enable\noptimizations internal to the `SortNode` that allow to reduce memory usage\nand, in many cases, improve the sorting speed.\n\nA `SortNode` needs to be followed by a `LimitNode` with no intervening nodes\nthat may change the element count (e.g. a `FilterNode` which cannot be moved\nbefore the sort, or a source node like `EnumerateCollectionNode`).\n\nThe optimizer may choose not to apply the rule if it decides that it offers\nlittle or no benefit. In particular, it does not apply the rule if the input\nsize is very small or if the output from the `LimitNode` is similar in size to\nthe input. In exceptionally rare cases, this rule could result in some small\nslowdown. If observed, you can disable the rule for the affected query at the\ncost of increased memory usage.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;reduce-extraction-to-projection&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Modify `EnumerationCollectionNode` and `IndexNode` that would have\nextracted entire documents to only return a projection of each document.\n\nProjections are limited to at most 5 different document attributes by default.\nThe maximum number of projected attributes can optionally be adjusted by\nsetting the `maxProjections` hint for an AQL `FOR` operation since\nArangoDB 3.9.1.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;optimize-count&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Optimize subqueries to use an optimized code path for\ncounting documents.\n\nThe requirements are that the subquery result must only be used with the\n`COUNT()` or `LENGTH()` AQL function and not for anything else. The subquery\nitself must be read-only (no data modification subquery), not use nested `FOR`\nloops, no `LIMIT` statement, and no `FILTER` condition or calculation that\nrequires accessing document data. Accessing index data is supported for\nfiltering but not for further calculations.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;late-document-materialization-arangosearch&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Try to read from the underlying collections of a View as late\nas possible if the involved attributes are covered by the View index.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;late-document-materialization&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Try to read from collections as late as possible if the\ninvolved attributes are covered by regular indexes.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;late-materialization-offset-info&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Get the search highlighting offsets as late as possible to\navoid unnecessary reads.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : true, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>true</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span>, 
</span></span><span class=line><span class=cl>  <span class=o>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> : <span class=s2>&#34;splice-subqueries&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;description&#34;</span> : <span class=s2>&#34;Appears if subqueries are spliced into the surrounding query,\nreducing overhead for executing subqueries by inlining the execution.\nThis mainly benefits queries which execute subqueries very often that only\nreturn a few results at a time.\n\nThis optimization is performed on all subqueries and is applied after all other\noptimizations.&#34;</span>, 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;flags&#34;</span> : <span class=o>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;hidden&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;clusterOnly&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canBeDisabled&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;canCreateAdditionalPlans&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;disabledByDefault&#34;</span> : false, 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;enterpriseOnly&#34;</span> : <span class=nb>false</span> 
</span></span><span class=line><span class=cl>    <span class=o>}</span> 
</span></span><span class=line><span class=cl>  <span class=o>}</span> 
</span></span><span class=line><span class=cl><span class=o>]</span></span></span></code></pre></div></div></div><br><nav class=pagination><span class=prev><a class="nav nav-prev link" href=/3.11/develop/http-api/queries/><i class="fas fa-chevron-left fa-fw"></i><p>Queries</p></a></span><span class=next><a class="nav nav-next link" href=/3.11/develop/http-api/queries/aql-query-results-cache/><p>AQL query results cache</p><i class="fas fa-chevron-right fa-fw"></i></a></span></nav></article><div class=toc-container><a class=edit-page aria-label href=https://github.com/arangodb/docs-hugo/edit/main/site/content/3.11/develop/http-api/queries/aql-queries.md target=_blank><i class="fab fa-fw fa-github edit-page-icon"></i></a><div class=toc><div class=toc-content><div class=toc-header><p>On this page</p></div><nav id=TableOfContents><div class=level-2><a href=#cursors>Cursors</a></div><div class=level-3><a href=#single-roundtrip>Single roundtrip</a></div><div class=level-3><a href=#using-a-cursor>Using a cursor</a></div><div class=level-2><a href=#execute-aql-queries>Execute AQL queries</a></div><div class=level-3><a href=#create-a-cursor>Create a cursor</a></div><div class=level-3><a href=#read-the-next-batch-from-a-cursor>Read the next batch from a cursor</a></div><div class=level-3><a href=#read-the-next-batch-from-a-cursor-deprecated>Read the next batch from a cursor (deprecated)</a></div><div class=level-3><a href=#read-a-batch-from-the-cursor-again>Read a batch from the cursor again</a></div><div class=level-3><a href=#delete-a-cursor>Delete a cursor</a></div><div class=level-2><a href=#track-queries>Track queries</a></div><div class=level-3><a href=#get-the-aql-query-tracking-configuration>Get the AQL query tracking configuration</a></div><div class=level-3><a href=#update-the-aql-query-tracking-configuration>Update the AQL query tracking configuration</a></div><div class=level-3><a href=#list-the-running-aql-queries>List the running AQL queries</a></div><div class=level-3><a href=#list-the-slow-aql-queries>List the slow AQL queries</a></div><div class=level-3><a href=#clear-the-list-of-slow-aql-queries>Clear the list of slow AQL queries</a></div><div class=level-2><a href=#kill-queries>Kill queries</a></div><div class=level-3><a href=#kill-a-running-aql-query>Kill a running AQL query</a></div><div class=level-2><a href=#explain-and-parse-aql-queries>Explain and parse AQL queries</a></div><div class=level-3><a href=#explain-an-aql-query>Explain an AQL query</a></div><div class=level-3><a href=#parse-an-aql-query>Parse an AQL query</a></div><div class=level-3><a href=#list-all-aql-optimizer-rules>List all AQL optimizer rules</a></div></nav></div></div></div></div></div></section></section></div><button class="back-to-top hidden" onclick=goToTop(event) href=#><i class="fa fa-arrow-up"></i></button><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3>
<script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3></script>
<script type=text/javascript>window.setupDocSearch=function(e){if(!window.docsearch)return;docsearch({appId:"OK3ZBQ5982",apiKey:"500c85ccecb335d507fe4449aed12e1d",indexName:"arangodbdocs",insights:!0,container:"#searchbox",debug:!1,maxResultsPerGroup:10,searchParameters:{facetFilters:[`version:${e}`]}})}</script></body></html>