<!doctype html><html lang=en><head><link href=//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css rel=stylesheet><link href=//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css rel=stylesheet><link href=/css/fontawesome-all.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fontawesome-all.min.css rel=stylesheet></noscript><link href=/css/featherlight.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/featherlight.min.css rel=stylesheet></noscript><link href=/css/nucleus.css rel=stylesheet><link href=/css/fonts.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fonts.css rel=stylesheet></noscript><link href=/css/theme.css rel=stylesheet><link href=/css/theme-relearn-light.css rel=stylesheet id=variant-style><link href=/css/print.css rel=stylesheet media=print><script src=/js/variant.js?1747031427></script>
<script>var root_url="/",baseUriFull,baseUri=root_url.replace(/\/$/,"");window.T_Copy_to_clipboard="",window.T_Copied_to_clipboard="",window.T_Copy_link_to_clipboard="",window.T_Link_copied_to_clipboard="",baseUriFull="http://localhost/",window.variants&&variants.init(["relearn-light"])</script><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.119.0"><meta itemprop=description property="description" content="ArangoDB is a scalable graph database system with native support for other data models and a built-in search engine, for the cloud and on-premises"><meta property="og:url" content="http://localhost/3.11/develop/http-api/replication/replication-dump/"><meta property="og:title" content="Replication dump commands"><meta property="og:type" content="website"><meta property="og:description" content="ArangoDB is a scalable graph database system with native support for other data models and a built-in search engine, for the cloud and on-premises"><meta name=docsearch:version content="3.11"><title>Replication dump commands | ArangoDB Documentation</title><link href=/images/favicon.png rel=icon type=image/png><script src=/js/jquery.min.js></script>
<script src=/js/clipboard.min.js?1747031427 defer></script>
<script src=/js/featherlight.min.js?1747031427 defer></script>
<script>var versions=[{alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"},{alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"},{alias:"3.11",deprecated:!1,name:"3.11",version:"3.11.13"},{alias:"3.10",deprecated:!0,name:"3.10",version:"3.10.14"}]</script><script>var develVersion={alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"}</script><script>var stableVersion={alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"}</script><script src=/js/codeblocks.js?1747031427 defer></script>
<script src=/js/theme.js?1747031427 defer></script></head><body><noscript>You need to enable JavaScript to use the ArangoDB documentation.</noscript><div id=page-wrapper class=page_content_splash style=height:auto;opacity:0><section id=page-main><section class=page-container id=page-container><header id=header style="transition:.5s padding ease-out,.15s" class="zn_header_white header-splash-new nav-down header-splash-wrap header1"><div class=header-block-left><div class=mobile-menu-toggle><button id=sidebar-toggle-navigation onclick=showSidebarHandler()><svg width="1.33em" height="1.33em" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button></div><div class=version-logo-container><div class="logo-container hasinfocard_img arangodb-logo-large"><div class=logo><a href=https://www.arangodb.com/><img src=/images/logo_main.png alt=ArangoDB title></a></div></div><div class=arangodb-logo-small><a href=https://arangodb.com/><img alt="ArangoDB Logo" src=/images/ArangoDB_Logo_White_small.png></a></div></div></div><div class=container-right style=display:hidden></div><div class=search-and-version-container><a href=# class="home-link is-current" aria-label="Go to home page" onclick=goToHomepage(event)></a><div id=searchbox></div><script type=text/javascript>const SCRIPT_SRC="https://unpkg.com/@inkeep/widgets-embed@0.2.290/dist/embed.js";function loadAndInitializeInkeep(){if(document.querySelector(`script[src="${SCRIPT_SRC}]"`))return;const e=document.createElement("script");e.type="module",e.src=SCRIPT_SRC,e.onload=initializeInkeep,document.head.appendChild(e)}function initializeInkeep(){const e=Inkeep({integrationId:"clo4lx6jk0000s601cp21x2ok",apiKey:"13b4e56966a76e86c6ff359cd795ee6a0412f751d75d6383",organizationId:"org_HGBkkzGAa4KeGJGh",organizationDisplayName:"ArangoDB",primaryBrandColor:"#80a54d",stringReplacementRules:[{matchingRule:{ruleType:"Substring",string:"Arangograph"},replaceWith:"ArangoGraph"},{matchingRule:{ruleType:"Substring",string:"Aql"},replaceWith:"AQL"},{matchingRule:{ruleType:"Substring",string:"Arangodb"},replaceWith:"ArangoDB"}],customCardSettings:[{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arango.qubitpi.org"}},searchTabLabel:"Official Docs"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"developer.arangodb.com"}},searchTabLabel:"Developer Hub"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arangodb.com"}},searchTabLabel:"Home"}]}),t=e.embed({componentType:"ChatButton",properties:{stylesheetUrls:["/css/fonts.css"],fixedPositionXOffset:"52px",baseSettings:{theme:{primaryColors:{textColorOnPrimary:"white"},tokens:{fonts:{body:"'Inter'",heading:"'Inter'"},zIndex:{overlay:1e4,modal:11e3,popover:12e3,skipLink:13e3,toast:14e3,tooltip:15e3}}}},aiChatSettings:{botAvatarSrcUrl:"/images/ArangoDB_Logo_White_small.png",quickQuestions:["What can you do with AQL that is not feasible with SQL?","How do I search for objects within arrays?","Where can I deploy my ArangoDB instance?"],getHelpCallToActions:[{icon:{builtIn:"FaSlack"},name:"Slack",url:"https://arangodb-community.slack.com/"}]},searchSettings:{tabSettings:{isAllTabEnabled:!1,alwaysDisplayedTabs:["Official Docs","Developer Hub","Home"]}}}})}loadAndInitializeInkeep()</script><div class=version-selector><select id=arangodb-version onchange=changeVersion()><option value=3.13>3.13</option><option value=3.12>3.12</option><option value=3.11>3.11</option><option value=3.10>3.10</option><option value=3.9>3.9</option><option value=3.8>3.8</option></select></div></div></header><iframe src=/nav.html title=description id=menu-iframe class="menu-iframe active" style=opacity:0></iframe><div class=container-main><div class=row-main><nav id=breadcrumbs><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><meta itemprop=itemListOrder content="Descending"><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="3.11"><a itemprop=item class=link href=/3.11/><span itemprop=name class=breadcrumb-entry>3.11.13</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Develop"><a itemprop=item class=link href=/3.11/develop/><span itemprop=name class=breadcrumb-entry>Develop</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="HTTP API"><a itemprop=item class=link href=/3.11/develop/http-api/><span itemprop=name class=breadcrumb-entry>HTTP API</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Replication"><a itemprop=item class=link href=/3.11/develop/http-api/replication/><span itemprop=name class=breadcrumb-entry>Replication</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Replication Dump"><a itemprop=item class=link href=/3.11/develop/http-api/replication/replication-dump/><span itemprop=name class=breadcrumb-entry>Replication Dump</span></a></li></ol></nav><article class=default><hgroup><h1>Replication dump commands</h1></hgroup><h2 id=inventory>Inventory <a href=/3.11/develop/http-api/replication/replication-dump/#inventory class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>The <em>inventory</em> method can be used to query an ArangoDB database&rsquo;s current
set of collections plus their indexes. Clients can use this method to get an
overview of which collections are present in the database. They can use this information
to either start a full or a partial synchronization of data, e.g. to initiate a backup
or the incremental data synchronization.</p><h3 id=get-a-replication-inventory>Get a replication inventory <a href=/3.11/develop/http-api/replication/replication-dump/#get-a-replication-inventory class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><div class=openapi><div class=endpoint><span class="endpoint-method regular-font bold-text method-get">GET</span>
<span class=endpoint-path>/_db/{database-name}/_api/replication/inventory</span></div><div class="openapi-description regular-font"><p>Returns the array of collections and their indexes, and the array of Views available. These
arrays can be used by replication clients to initiate an initial synchronization with the
server.
The response will contain all collections, their indexes and views in the requested database
if <code>global</code> is not set, and all collections, indexes and views in all databases if <code>global</code>
is set.
In case <code>global</code> is not set, it is possible to restrict the response to a single collection
by setting the <code>collection</code> parameter. In this case the response will contain only information
about the requested collection in the <code>collections</code> array, and no information about views
(i.e. the <code>views</code> response attribute will be an empty array).</p><p>The response will contain a JSON object with the <code>collections</code>, <code>views</code>, <code>state</code> and
<code>tick</code> attributes.</p><p><code>collections</code> is an array of collections with the following sub-attributes:</p><ul><li><p><code>parameters</code>: the collection properties</p></li><li><p><code>indexes</code>: an array of the indexes of the collection. Primary indexes and edge indexes
are not included in this array.</p></li></ul><p>The <code>state</code> attribute contains the current state of the replication logger. It
contains the following sub-attributes:</p><ul><li><p><code>running</code>: whether or not the replication logger is currently active. Note:
since ArangoDB 2.2, the value will always be <code>true</code></p></li><li><p><code>lastLogTick</code>: the value of the last tick the replication logger has written</p></li><li><p><code>time</code>: the current time on the server</p></li></ul><p><code>views</code> is an array of available views.</p><p>Replication clients should note the <code>lastLogTick</code> value returned. They can then
fetch collections&rsquo; data using the dump method up to the value of lastLogTick, and
query the continuous replication log for log events after this tick value.</p><p>To create a full copy of the collections on the server, a replication client
can execute these steps:</p><ul><li><p>call the <code>/inventory</code> API method. This returns the <code>lastLogTick</code> value and the
array of collections and indexes from the server.</p></li><li><p>for each collection returned by <code>/inventory</code>, create the collection locally and
call <code>/dump</code> to stream the collection data to the client, up to the value of
<code>lastLogTick</code>.
After that, the client can create the indexes on the collections as they were
reported by <code>/inventory</code>.</p></li></ul><p>If the clients wants to continuously stream replication log events from the logger
server, the following additional steps need to be carried out:</p><ul><li><p>the client should call <code>/_api/wal/tail</code> initially to fetch the first batch of
replication events that were logged after the client&rsquo;s call to <code>/inventory</code>.</p><p>The call to <code>/_api/wal/tail</code> should use a <code>from</code> parameter with the value of the
<code>lastLogTick</code> as reported by <code>/inventory</code>. The call to <code>/_api/wal/tail</code> will
return the <code>x-arango-replication-lastincluded</code> header which will contain the
last tick value included in the response.</p></li><li><p>the client can then continuously call <code>/_api/wal/tail</code> to incrementally fetch new
replication events that occurred after the last transfer.</p><p>Calls should use a <code>from</code> parameter with the value of the <code>x-arango-replication-lastincluded</code>
header of the previous response. If there are no more replication events, the
response will be empty and clients can go to sleep for a while and try again
later.</p></li></ul><div class="box notices cstyle info"><div class=box-content-container><div class=box-content><i class="fas fa-info-circle"></i><div class=box-text>On a Coordinator, this request must have a <code>DBserver</code>
query parameter which must be an ID of a DB-Server.
The very same request is forwarded synchronously to that DB-Server.
It is an error if this attribute is not bound in the Coordinator case.</div></div></div></div><div class="box notices cstyle info"><div class=box-content-container><div class=box-content><i class="fas fa-info-circle"></i><div class=box-text>Using the <code>global</code> parameter the top-level object contains a key <code>databases</code>
under which each key represents a database name, and the value conforms to the above description.</div></div></div></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Path Parameters</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=get-a-replication-inventory_path_database-name><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">database-name*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#get-a-replication-inventory_path_database-name><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The name of the database.</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Query Parameters</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=get-a-replication-inventory_query_includeSystem><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">includeSystem</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#get-a-replication-inventory_query_includeSystem><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>Include system collections in the result. The default value is <code>true</code>.</p></div></details></li><li class="openapi-table-row regular-font"><details id=get-a-replication-inventory_query_global><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">global</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#get-a-replication-inventory_query_global><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>Include all databases in the response. Only works on <code>_system</code> The default value is <code>false</code>.</p></div></details></li><li class="openapi-table-row regular-font"><details id=get-a-replication-inventory_query_batchId><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">batchId*</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#get-a-replication-inventory_query_batchId><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>A valid batchId is required for this API call</p></div></details></li><li class="openapi-table-row regular-font"><details id=get-a-replication-inventory_query_collection><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">collection</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#get-a-replication-inventory_query_collection><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>If this parameter is set, the response will be restricted to a single collection (the one
specified), and no views will be returned. This can be used as an optimization to reduce
the size of the response.</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>HTTP Headers</div><div><ul class=openapi-table></ul></div></div><div class="responses regular-font"><div class=openapi-table-title>Responses</div><div class=openapi-responses><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=get-a-replication-inventory_res_200><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">200</span>
<span class="openapi-property-type bold-text">OK</span>
<a href=#get-a-replication-inventory_res_200><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned if the request was executed successfully.</p></div></details></li><li class="openapi-table-row regular-font"><details id=get-a-replication-inventory_res_405><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">405</span>
<span class="openapi-property-type bold-text">Method Not Allowed</span>
<a href=#get-a-replication-inventory_res_405><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned when an invalid HTTP method is used.</p></div></details></li><li class="openapi-table-row regular-font"><details id=get-a-replication-inventory_res_500><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">500</span>
<span class="openapi-property-type bold-text">Internal Server Error</span>
<a href=#get-a-replication-inventory_res_500><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned if an error occurred while assembling the response.</p></div></details></li></ul></div></div></div><h2 id=batch>Batch <a href=/3.11/develop/http-api/replication/replication-dump/#batch class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>The <em>batch</em> method will create a snapshot of the current state that then can be
dumped.</p><h3 id=create-a-new-dump-batch>Create a new dump batch <a href=/3.11/develop/http-api/replication/replication-dump/#create-a-new-dump-batch class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><div class=openapi><div class=endpoint><span class="endpoint-method regular-font bold-text method-post">POST</span>
<span class=endpoint-path>/_db/{database-name}/_api/replication/batch</span></div><div class="openapi-description regular-font"><div class="box notices cstyle info"><div class=box-content-container><div class=box-content><i class="fas fa-info-circle"></i><div class=box-text>This is an internally used endpoint.</div></div></div></div><p>Creates a new dump batch and returns the batch&rsquo;s id.</p><p>The response is a JSON object with the following attributes:</p><ul><li><code>id</code>: the id of the batch</li><li><code>lastTick</code>: snapshot tick value using when creating the batch</li><li><code>state</code>: additional leader state information (only present if the
<code>state</code> URL parameter was set to <code>true</code> in the request)</li></ul><div class="box notices cstyle info"><div class=box-content-container><div class=box-content><i class="fas fa-info-circle"></i><div class=box-text>On a Coordinator, this request must have a <code>DBserver</code>
query parameter which must be an ID of a DB-Server.
The very same request is forwarded synchronously to that DB-Server.
It is an error if this attribute is not bound in the Coordinator case.</div></div></div></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Path Parameters</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=create-a-new-dump-batch_path_database-name><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">database-name*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#create-a-new-dump-batch_path_database-name><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The name of the database.</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Query Parameters</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=create-a-new-dump-batch_query_state><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">state</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#create-a-new-dump-batch_query_state><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>setting <code>state</code> to true will make the response also contain
a <code>state</code> attribute with information about the leader state.
This is used only internally during the replication process
and should not be used by client applications.</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>HTTP Headers</div><div><ul class=openapi-table></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Request Body <span class=openapi-content-type>application/json</span> <span class=openapi-property-type>object</span></div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=create-a-new-dump-batch_body_ttl><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">ttl*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-a-new-dump-batch_body_ttl><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The time-to-live for the new batch (in seconds).</p></div></details></li></ul></div></div><div class="responses regular-font"><div class=openapi-table-title>Responses</div><div class=openapi-responses><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=create-a-new-dump-batch_res_200><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">200</span>
<span class="openapi-property-type bold-text">OK</span>
<a href=#create-a-new-dump-batch_res_200><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned if the batch was created successfully.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-new-dump-batch_res_400><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">400</span>
<span class="openapi-property-type bold-text">Bad Request</span>
<a href=#create-a-new-dump-batch_res_400><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned if the TTL value is invalid or if the <code>DBserver</code> attribute
is not specified or illegal on a Coordinator.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-new-dump-batch_res_405><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">405</span>
<span class="openapi-property-type bold-text">Method Not Allowed</span>
<a href=#create-a-new-dump-batch_res_405><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned when an invalid HTTP method is used.</p></div></details></li></ul></div></div></div><h3 id=delete-an-existing-dump-batch>Delete an existing dump batch <a href=/3.11/develop/http-api/replication/replication-dump/#delete-an-existing-dump-batch class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><div class=openapi><div class=endpoint><span class="endpoint-method regular-font bold-text method-delete">DELETE</span>
<span class=endpoint-path>/_db/{database-name}/_api/replication/batch/{id}</span></div><div class="openapi-description regular-font"><div class="box notices cstyle info"><div class=box-content-container><div class=box-content><i class="fas fa-info-circle"></i><div class=box-text>This is an internally used endpoint.</div></div></div></div><p>Deletes the existing dump batch, allowing compaction and cleanup to resume.</p><div class="box notices cstyle info"><div class=box-content-container><div class=box-content><i class="fas fa-info-circle"></i><div class=box-text>On a Coordinator, this request must have a <code>DBserver</code>
query parameter which must be an ID of a DB-Server.
The very same request is forwarded synchronously to that DB-Server.
It is an error if this attribute is not bound in the Coordinator case.</div></div></div></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Path Parameters</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=delete-an-existing-dump-batch_path_database-name><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">database-name*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#delete-an-existing-dump-batch_path_database-name><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The name of the database.</p></div></details></li><li class="openapi-table-row regular-font"><details id=delete-an-existing-dump-batch_path_id><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">id*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#delete-an-existing-dump-batch_path_id><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The id of the batch.</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Query Parameters</div><div><ul class=openapi-table></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>HTTP Headers</div><div><ul class=openapi-table></ul></div></div><div class="responses regular-font"><div class=openapi-table-title>Responses</div><div class=openapi-responses><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=delete-an-existing-dump-batch_res_204><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">204</span>
<span class="openapi-property-type bold-text">No Content</span>
<a href=#delete-an-existing-dump-batch_res_204><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned if the batch was deleted successfully.</p></div></details></li><li class="openapi-table-row regular-font"><details id=delete-an-existing-dump-batch_res_400><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">400</span>
<span class="openapi-property-type bold-text">Bad Request</span>
<a href=#delete-an-existing-dump-batch_res_400><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned if the batch was not found.</p></div></details></li><li class="openapi-table-row regular-font"><details id=delete-an-existing-dump-batch_res_405><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">405</span>
<span class="openapi-property-type bold-text">Method Not Allowed</span>
<a href=#delete-an-existing-dump-batch_res_405><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned when an invalid HTTP method is used.</p></div></details></li></ul></div></div></div><h3 id=extend-the-ttl-of-a-dump-batch>Extend the TTL of a dump batch <a href=/3.11/develop/http-api/replication/replication-dump/#extend-the-ttl-of-a-dump-batch class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><div class=openapi><div class=endpoint><span class="endpoint-method regular-font bold-text method-put">PUT</span>
<span class=endpoint-path>/_db/{database-name}/_api/replication/batch/{id}</span></div><div class="openapi-description regular-font"><div class="box notices cstyle info"><div class=box-content-container><div class=box-content><i class="fas fa-info-circle"></i><div class=box-text>This is an internally used endpoint.</div></div></div></div><p>Extends the time-to-live (TTL) of an existing dump batch, using the batch&rsquo;s ID and
the provided TTL value.</p><p>If the batch&rsquo;s TTL can be extended successfully, the response is empty.</p><div class="box notices cstyle info"><div class=box-content-container><div class=box-content><i class="fas fa-info-circle"></i><div class=box-text>On a Coordinator, this request must have a <code>DBserver</code>
query parameter which must be an ID of a DB-Server.
The very same request is forwarded synchronously to that DB-Server.
It is an error if this attribute is not bound in the Coordinator case.</div></div></div></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Path Parameters</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=extend-the-ttl-of-a-dump-batch_path_database-name><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">database-name*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#extend-the-ttl-of-a-dump-batch_path_database-name><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The name of the database.</p></div></details></li><li class="openapi-table-row regular-font"><details id=extend-the-ttl-of-a-dump-batch_path_id><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">id*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#extend-the-ttl-of-a-dump-batch_path_id><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The id of the batch.</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Query Parameters</div><div><ul class=openapi-table></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>HTTP Headers</div><div><ul class=openapi-table></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Request Body <span class=openapi-content-type>application/json</span> <span class=openapi-property-type>object</span></div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=extend-the-ttl-of-a-dump-batch_body_ttl><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">ttl*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#extend-the-ttl-of-a-dump-batch_body_ttl><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>the time-to-live for the new batch (in seconds)</p></div></details></li></ul></div></div><div class="responses regular-font"><div class=openapi-table-title>Responses</div><div class=openapi-responses><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=extend-the-ttl-of-a-dump-batch_res_204><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">204</span>
<span class="openapi-property-type bold-text">No Content</span>
<a href=#extend-the-ttl-of-a-dump-batch_res_204><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned if the batch&rsquo;s ttl was extended successfully.</p></div></details></li><li class="openapi-table-row regular-font"><details id=extend-the-ttl-of-a-dump-batch_res_400><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">400</span>
<span class="openapi-property-type bold-text">Bad Request</span>
<a href=#extend-the-ttl-of-a-dump-batch_res_400><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned if the ttl value is invalid or the batch was not found.</p></div></details></li><li class="openapi-table-row regular-font"><details id=extend-the-ttl-of-a-dump-batch_res_405><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">405</span>
<span class="openapi-property-type bold-text">Method Not Allowed</span>
<a href=#extend-the-ttl-of-a-dump-batch_res_405><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned when an invalid HTTP method is used.</p></div></details></li></ul></div></div></div><h2 id=dump>Dump <a href=/3.11/develop/http-api/replication/replication-dump/#dump class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>The <em>dump</em> method can be used to fetch data from a specific collection. As the
results of the dump command can be huge, <em>dump</em> may not return all data from a collection
at once. Instead, the dump command may be called repeatedly by replication clients
until there is no more data to fetch. The dump command will not only return the
current documents in the collection, but also document updates and deletions.</p><p>Note that the <em>dump</em> method will only return documents, updates, and deletions
from a collection&rsquo;s journals and datafiles. Operations that are stored in the write-ahead
log only will not be returned. In order to ensure that these operations are included
in a dump, the write-ahead log must be flushed first.</p><p>To get to an identical state of data, replication clients should apply the individual
parts of the dump results in the same order as they are provided.</p><h3 id=get-a-replication-dump>Get a replication dump <a href=/3.11/develop/http-api/replication/replication-dump/#get-a-replication-dump class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><div class=openapi><div class=endpoint><span class="endpoint-method regular-font bold-text method-get">GET</span>
<span class=endpoint-path>/_db/{database-name}/_api/replication/dump</span></div><div class="openapi-description regular-font"><p>Returns the data from a collection for the requested range.</p><p>The <code>chunkSize</code> query parameter can be used to control the size of the result.
It must be specified in bytes. The <code>chunkSize</code> value will only be honored
approximately. Otherwise a too low <code>chunkSize</code> value could cause the server
to not be able to put just one entry into the result and return it.
Therefore, the <code>chunkSize</code> value will only be consulted after an entry has
been written into the result. If the result size is then greater than
<code>chunkSize</code>, the server will respond with as many entries as there are
in the response already. If the result size is still less than <code>chunkSize</code>,
the server will try to return more data if there&rsquo;s more data left to return.</p><p>If <code>chunkSize</code> is not specified, some server-side default value will be used.</p><p>The <code>Content-Type</code> of the result is <code>application/x-arango-dump</code>. This is an
easy-to-process format, with all entries going onto separate lines in the
response body.</p><p>Each line itself is a JSON object, with at least the following attributes:</p><ul><li><p><code>tick</code>: the operation&rsquo;s tick attribute</p></li><li><p><code>key</code>: the key of the document/edge or the key used in the deletion operation</p></li><li><p><code>rev</code>: the revision id of the document/edge or the deletion operation</p></li><li><p><code>data</code>: the actual document/edge data for types 2300 and 2301. The full
document/edge data will be returned even for updates.</p></li><li><p><code>type</code>: the type of entry. Possible values for <code>type</code> are:</p><ul><li><p>2300: document insertion/update</p></li><li><p>2301: edge insertion/update</p></li><li><p>2302: document/edge deletion</p></li></ul></li></ul><div class="box notices cstyle info"><div class=box-content-container><div class=box-content><i class="fas fa-info-circle"></i><div class=box-text>There will be no distinction between inserts and updates when calling this method.</div></div></div></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Path Parameters</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=get-a-replication-dump_path_database-name><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">database-name*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#get-a-replication-dump_path_database-name><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The name of the database.</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Query Parameters</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=get-a-replication-dump_query_collection><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">collection*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#get-a-replication-dump_query_collection><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The name or id of the collection to dump.</p></div></details></li><li class="openapi-table-row regular-font"><details id=get-a-replication-dump_query_chunkSize><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">chunkSize</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#get-a-replication-dump_query_chunkSize><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>Approximate maximum size of the returned result.</p></div></details></li><li class="openapi-table-row regular-font"><details id=get-a-replication-dump_query_batchId><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">batchId*</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#get-a-replication-dump_query_batchId><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The id of the snapshot to use</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>HTTP Headers</div><div><ul class=openapi-table></ul></div></div><div class="responses regular-font"><div class=openapi-table-title>Responses</div><div class=openapi-responses><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=get-a-replication-dump_res_200><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">200</span>
<span class="openapi-property-type bold-text">OK</span>
<a href=#get-a-replication-dump_res_200><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned if the request was executed successfully and data was returned. The header
<code>x-arango-replication-lastincluded</code> is set to the tick of the last document returned.</p></div></details></li><li class="openapi-table-row regular-font"><details id=get-a-replication-dump_res_204><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">204</span>
<span class="openapi-property-type bold-text">No Content</span>
<a href=#get-a-replication-dump_res_204><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned if the request was executed successfully, but there was no content available.
The header <code>x-arango-replication-lastincluded</code> is <code>0</code> in this case.</p></div></details></li><li class="openapi-table-row regular-font"><details id=get-a-replication-dump_res_404><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">404</span>
<span class="openapi-property-type bold-text">Not Found</span>
<a href=#get-a-replication-dump_res_404><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned when the collection could not be found.</p></div></details></li><li class="openapi-table-row regular-font"><details id=get-a-replication-dump_res_405><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">405</span>
<span class="openapi-property-type bold-text">Method Not Allowed</span>
<a href=#get-a-replication-dump_res_405><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned when an invalid HTTP method is used.</p></div></details></li><li class="openapi-table-row regular-font"><details id=get-a-replication-dump_res_500><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">500</span>
<span class="openapi-property-type bold-text">Internal Server Error</span>
<a href=#get-a-replication-dump_res_500><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned if an error occurred while assembling the response.</p></div></details></li></ul></div></div></div><h3 id=get-the-replication-revision-tree>Get the replication revision tree <a href=/3.11/develop/http-api/replication/replication-dump/#get-the-replication-revision-tree class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><div class=openapi><div class=endpoint><span class="endpoint-method regular-font bold-text method-get">GET</span>
<span class=endpoint-path>/_db/{database-name}/_api/replication/revisions/tree</span></div><div class="openapi-description regular-font"><div class="box notices cstyle warning"><div class=box-content-container><div class=box-content><i class="fas fa-exclamation-triangle"></i><div class=box-text>This revision-based replication endpoint will only work with collections
created in ArangoDB v3.8.0 or later.</div></div></div></div><p>Returns the Merkle tree associated with the specified collection.</p><p>The result will be JSON/VelocyPack in the following format:</p><pre tabindex=0><code>{
  version: &lt;Number&gt;,
  branchingFactor: &lt;Number&gt;
  maxDepth: &lt;Number&gt;,
  rangeMin: &lt;String, revision&gt;,
  rangeMax: &lt;String, revision&gt;,
  nodes: [
    { count: &lt;Number&gt;, hash: &lt;String, revision&gt; },
    { count: &lt;Number&gt;, hash: &lt;String, revision&gt; },
    ...
    { count: &lt;Number&gt;, hash: &lt;String, revision&gt; }
  ]
}
</code></pre><p>At the moment, there is only one version, 1, so this can safely be ignored for
now.</p><p>Each <code>&lt;String, revision></code> value type is a 64-bit value encoded as a string of
11 characters, using the same encoding as our document <code>_rev</code> values. The
reason for this is that 64-bit values cannot necessarily be represented in full
in JavaScript, as it handles all numbers as floating point, and can only
represent up to <code>2^53-1</code> faithfully.</p><p>The node count should correspond to a full tree with the given <code>maxDepth</code> and
<code>branchingFactor</code>. The nodes are laid out in level-order tree traversal, so the
root is at index <code>0</code>, its children at indices <code>[1, branchingFactor]</code>, and so
on.</p></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Path Parameters</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=get-the-replication-revision-tree_path_database-name><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">database-name*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#get-the-replication-revision-tree_path_database-name><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The name of the database.</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Query Parameters</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=get-the-replication-revision-tree_query_collection><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">collection*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#get-the-replication-revision-tree_query_collection><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The name or id of the collection to query.</p></div></details></li><li class="openapi-table-row regular-font"><details id=get-the-replication-revision-tree_query_batchId><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">batchId*</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#get-the-replication-revision-tree_query_batchId><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The id of the snapshot to use</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>HTTP Headers</div><div><ul class=openapi-table></ul></div></div><div class="responses regular-font"><div class=openapi-table-title>Responses</div><div class=openapi-responses><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=get-the-replication-revision-tree_res_200><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">200</span>
<span class="openapi-property-type bold-text">OK</span>
<a href=#get-the-replication-revision-tree_res_200><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned if the request was executed successfully and data was returned.</p></div></details></li><li class="openapi-table-row regular-font"><details id=get-the-replication-revision-tree_res_401><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">401</span>
<span class="openapi-property-type bold-text">Unauthorized</span>
<a href=#get-the-replication-revision-tree_res_401><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned if necessary parameters are missing</p></div></details></li><li class="openapi-table-row regular-font"><details id=get-the-replication-revision-tree_res_404><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">404</span>
<span class="openapi-property-type bold-text">Not Found</span>
<a href=#get-the-replication-revision-tree_res_404><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned when the collection or snapshot could not be found.</p></div></details></li><li class="openapi-table-row regular-font"><details id=get-the-replication-revision-tree_res_405><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">405</span>
<span class="openapi-property-type bold-text">Method Not Allowed</span>
<a href=#get-the-replication-revision-tree_res_405><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned when an invalid HTTP method is used.</p></div></details></li><li class="openapi-table-row regular-font"><details id=get-the-replication-revision-tree_res_500><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">500</span>
<span class="openapi-property-type bold-text">Internal Server Error</span>
<a href=#get-the-replication-revision-tree_res_500><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned if an error occurred while assembling the response.</p></div></details></li><li class="openapi-table-row regular-font"><details id=get-the-replication-revision-tree_res_501><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">501</span>
<span class="openapi-property-type bold-text">Not Implemented</span>
<a href=#get-the-replication-revision-tree_res_501><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned if called on a collection which doesn&rsquo;t support sync-by-revision</p></div></details></li></ul></div></div></div><h3 id=rebuild-the-replication-revision-tree>Rebuild the replication revision tree <a href=/3.11/develop/http-api/replication/replication-dump/#rebuild-the-replication-revision-tree class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><div class=openapi><div class=endpoint><span class="endpoint-method regular-font bold-text method-post">POST</span>
<span class=endpoint-path>/_db/{database-name}/_api/replication/revisions/tree</span></div><div class="openapi-description regular-font"><div class="box notices cstyle warning"><div class=box-content-container><div class=box-content><i class="fas fa-exclamation-triangle"></i><div class=box-text>This revision-based replication endpoint will only work with collections
created in ArangoDB v3.8.0 or later.</div></div></div></div><p>Rebuilds the Merkle tree for a collection.</p><p>If successful, there will be no return body.</p></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Path Parameters</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=rebuild-the-replication-revision-tree_path_database-name><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">database-name*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#rebuild-the-replication-revision-tree_path_database-name><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The name of the database.</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Query Parameters</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=rebuild-the-replication-revision-tree_query_collection><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">collection*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#rebuild-the-replication-revision-tree_query_collection><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The name or id of the collection to query.</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>HTTP Headers</div><div><ul class=openapi-table></ul></div></div><div class="responses regular-font"><div class=openapi-table-title>Responses</div><div class=openapi-responses><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=rebuild-the-replication-revision-tree_res_204><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">204</span>
<span class="openapi-property-type bold-text">No Content</span>
<a href=#rebuild-the-replication-revision-tree_res_204><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned if the request was executed successfully.</p></div></details></li><li class="openapi-table-row regular-font"><details id=rebuild-the-replication-revision-tree_res_401><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">401</span>
<span class="openapi-property-type bold-text">Unauthorized</span>
<a href=#rebuild-the-replication-revision-tree_res_401><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned if necessary parameters are missing</p></div></details></li><li class="openapi-table-row regular-font"><details id=rebuild-the-replication-revision-tree_res_404><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">404</span>
<span class="openapi-property-type bold-text">Not Found</span>
<a href=#rebuild-the-replication-revision-tree_res_404><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned when the collection or could not be found.</p></div></details></li><li class="openapi-table-row regular-font"><details id=rebuild-the-replication-revision-tree_res_405><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">405</span>
<span class="openapi-property-type bold-text">Method Not Allowed</span>
<a href=#rebuild-the-replication-revision-tree_res_405><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned when an invalid HTTP method is used.</p></div></details></li><li class="openapi-table-row regular-font"><details id=rebuild-the-replication-revision-tree_res_500><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">500</span>
<span class="openapi-property-type bold-text">Internal Server Error</span>
<a href=#rebuild-the-replication-revision-tree_res_500><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned if an error occurred while assembling the response.</p></div></details></li><li class="openapi-table-row regular-font"><details id=rebuild-the-replication-revision-tree_res_501><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">501</span>
<span class="openapi-property-type bold-text">Not Implemented</span>
<a href=#rebuild-the-replication-revision-tree_res_501><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned if called on a collection which doesn&rsquo;t support sync-by-revision</p></div></details></li></ul></div></div></div><h3 id=list-document-revision-ids-within-requested-ranges>List document revision IDs within requested ranges <a href=/3.11/develop/http-api/replication/replication-dump/#list-document-revision-ids-within-requested-ranges class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><div class=openapi><div class=endpoint><span class="endpoint-method regular-font bold-text method-put">PUT</span>
<span class=endpoint-path>/_db/{database-name}/_api/replication/revisions/ranges</span></div><div class="openapi-description regular-font"><div class="box notices cstyle warning"><div class=box-content-container><div class=box-content><i class="fas fa-exclamation-triangle"></i><div class=box-text>This revision-based replication endpoint will only work with the RocksDB
engine, and with collections created in ArangoDB v3.8.0 or later.</div></div></div></div><p>Returns the revision IDs of documents within the requested ranges.</p><p>The body of the request should be JSON/VelocyPack and should consist of an
array of pairs of string-encoded revision IDs:</p><pre tabindex=0><code>[
  [&lt;String, revision&gt;, &lt;String, revision&gt;],
  [&lt;String, revision&gt;, &lt;String, revision&gt;],
  ...
  [&lt;String, revision&gt;, &lt;String, revision&gt;]
]
</code></pre><p>In particular, the pairs should be non-overlapping, and sorted in ascending
order of their decoded values.</p><p>The result will be JSON/VelocyPack in the following format:</p><pre tabindex=0><code>{
  ranges: [
    [&lt;String, revision&gt;, &lt;String, revision&gt;, ... &lt;String, revision&gt;],
    [&lt;String, revision&gt;, &lt;String, revision&gt;, ... &lt;String, revision&gt;],
    ...,
    [&lt;String, revision&gt;, &lt;String, revision&gt;, ... &lt;String, revision&gt;]
  ]
  resume: &lt;String, revision&gt;
}
</code></pre><p>The <code>resume</code> field is optional. If specified, then the response is to be
considered partial, only valid through the revision specified. A subsequent
request should be made with the same request body, but specifying the <code>resume</code>
URL parameter with the value specified. The subsequent response will pick up
from the appropriate request pair, and omit any complete ranges or revisions
which are less than the requested resume revision. As an example (ignoring the
string-encoding for a moment), if ranges <code>[1, 3], [5, 9], [12, 15]</code> are
requested, then a first response may return <code>[], [5, 6]</code> with a resume point of
<code>7</code> and a subsequent response might be <code>[8], [12, 13]</code>.</p><p>If a requested range contains no revisions, then an empty array is returned.
Empty ranges will not be omitted.</p><p>Each <code>&lt;String, revision></code> value type is a 64-bit value encoded as a string of
11 characters, using the same encoding as our document <code>_rev</code> values. The
reason for this is that 64-bit values cannot necessarily be represented in full
in JavaScript, as it handles all numbers as floating point, and can only
represent up to <code>2^53-1</code> faithfully.</p></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Path Parameters</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=list-document-revision-ids-within-requested-ranges_path_database-name><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">database-name*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#list-document-revision-ids-within-requested-ranges_path_database-name><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The name of the database.</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Query Parameters</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=list-document-revision-ids-within-requested-ranges_query_collection><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">collection*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#list-document-revision-ids-within-requested-ranges_query_collection><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The name or id of the collection to query.</p></div></details></li><li class="openapi-table-row regular-font"><details id=list-document-revision-ids-within-requested-ranges_query_batchId><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">batchId*</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#list-document-revision-ids-within-requested-ranges_query_batchId><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The id of the snapshot to use</p></div></details></li><li class="openapi-table-row regular-font"><details id=list-document-revision-ids-within-requested-ranges_query_resume><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">resume</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#list-document-revision-ids-within-requested-ranges_query_resume><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The revision at which to resume, if a previous request was truncated</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>HTTP Headers</div><div><ul class=openapi-table></ul></div></div><div class="responses regular-font"><div class=openapi-table-title>Responses</div><div class=openapi-responses><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=list-document-revision-ids-within-requested-ranges_res_200><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">200</span>
<span class="openapi-property-type bold-text">OK</span>
<a href=#list-document-revision-ids-within-requested-ranges_res_200><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned if the request was executed successfully and data was returned.</p></div></details></li><li class="openapi-table-row regular-font"><details id=list-document-revision-ids-within-requested-ranges_res_401><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">401</span>
<span class="openapi-property-type bold-text">Unauthorized</span>
<a href=#list-document-revision-ids-within-requested-ranges_res_401><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned if necessary parameters are missing or incorrect</p></div></details></li><li class="openapi-table-row regular-font"><details id=list-document-revision-ids-within-requested-ranges_res_404><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">404</span>
<span class="openapi-property-type bold-text">Not Found</span>
<a href=#list-document-revision-ids-within-requested-ranges_res_404><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned when the collection or snapshot could not be found.</p></div></details></li><li class="openapi-table-row regular-font"><details id=list-document-revision-ids-within-requested-ranges_res_405><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">405</span>
<span class="openapi-property-type bold-text">Method Not Allowed</span>
<a href=#list-document-revision-ids-within-requested-ranges_res_405><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned when an invalid HTTP method is used.</p></div></details></li><li class="openapi-table-row regular-font"><details id=list-document-revision-ids-within-requested-ranges_res_500><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">500</span>
<span class="openapi-property-type bold-text">Internal Server Error</span>
<a href=#list-document-revision-ids-within-requested-ranges_res_500><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned if an error occurred while assembling the response.</p></div></details></li><li class="openapi-table-row regular-font"><details id=list-document-revision-ids-within-requested-ranges_res_501><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">501</span>
<span class="openapi-property-type bold-text">Not Implemented</span>
<a href=#list-document-revision-ids-within-requested-ranges_res_501><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned if called on a collection which doesn&rsquo;t support sync-by-revision</p></div></details></li></ul></div></div></div><h3 id=get-documents-by-revision>Get documents by revision <a href=/3.11/develop/http-api/replication/replication-dump/#get-documents-by-revision class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><div class=openapi><div class=endpoint><span class="endpoint-method regular-font bold-text method-put">PUT</span>
<span class=endpoint-path>/_db/{database-name}/_api/replication/revisions/documents</span></div><div class="openapi-description regular-font"><div class="box notices cstyle warning"><div class=box-content-container><div class=box-content><i class="fas fa-exclamation-triangle"></i><div class=box-text>This revision-based replication endpoint will only work with collections
created in ArangoDB v3.8.0 or later.</div></div></div></div><p>Returns documents by revision for replication.</p><p>The body of the request should be JSON/VelocyPack and should consist of an
array of string-encoded revision IDs:</p><pre tabindex=0><code>[
  &lt;String, revision&gt;,
  &lt;String, revision&gt;,
  ...
  &lt;String, revision&gt;
]
</code></pre><p>In particular, the revisions should be sorted in ascending order of their
decoded values.</p><p>The result will be a JSON/VelocyPack array of document objects. If there is no
document corresponding to a particular requested revision, an empty object will
be returned in its place.</p><p>The response may be truncated if it would be very long. In this case, the
response array length will be less than the request array length, and
subsequent requests can be made for the omitted documents.</p><p>Each <code>&lt;String, revision></code> value type is a 64-bit value encoded as a string of
11 characters, using the same encoding as our document <code>_rev</code> values. The
reason for this is that 64-bit values cannot necessarily be represented in full
in JavaScript, as it handles all numbers as floating point, and can only
represent up to <code>2^53-1</code> faithfully.</p></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Path Parameters</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=get-documents-by-revision_path_database-name><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">database-name*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#get-documents-by-revision_path_database-name><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The name of the database.</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Query Parameters</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=get-documents-by-revision_query_collection><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">collection*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#get-documents-by-revision_query_collection><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The name or id of the collection to query.</p></div></details></li><li class="openapi-table-row regular-font"><details id=get-documents-by-revision_query_batchId><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">batchId*</span>
<span class=openapi-property-type><span class=bold-text>number</span></span>
<a href=#get-documents-by-revision_query_batchId><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The id of the snapshot to use</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>HTTP Headers</div><div><ul class=openapi-table></ul></div></div><div class="responses regular-font"><div class=openapi-table-title>Responses</div><div class=openapi-responses><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=get-documents-by-revision_res_200><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">200</span>
<span class="openapi-property-type bold-text">OK</span>
<a href=#get-documents-by-revision_res_200><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned if the request was executed successfully and data was returned.</p></div></details></li><li class="openapi-table-row regular-font"><details id=get-documents-by-revision_res_401><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">401</span>
<span class="openapi-property-type bold-text">Unauthorized</span>
<a href=#get-documents-by-revision_res_401><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned if necessary parameters are missing or incorrect</p></div></details></li><li class="openapi-table-row regular-font"><details id=get-documents-by-revision_res_404><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">404</span>
<span class="openapi-property-type bold-text">Not Found</span>
<a href=#get-documents-by-revision_res_404><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned when the collection or snapshot could not be found.</p></div></details></li><li class="openapi-table-row regular-font"><details id=get-documents-by-revision_res_405><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">405</span>
<span class="openapi-property-type bold-text">Method Not Allowed</span>
<a href=#get-documents-by-revision_res_405><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned when an invalid HTTP method is used.</p></div></details></li><li class="openapi-table-row regular-font"><details id=get-documents-by-revision_res_500><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">500</span>
<span class="openapi-property-type bold-text">Internal Server Error</span>
<a href=#get-documents-by-revision_res_500><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned if an error occurred while assembling the response.</p></div></details></li><li class="openapi-table-row regular-font"><details id=get-documents-by-revision_res_501><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">501</span>
<span class="openapi-property-type bold-text">Not Implemented</span>
<a href=#get-documents-by-revision_res_501><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned if called on a collection which doesn&rsquo;t support sync-by-revision</p></div></details></li></ul></div></div></div><h3 id=start-replication-from-a-remote-endpoint>Start replication from a remote endpoint <a href=/3.11/develop/http-api/replication/replication-dump/#start-replication-from-a-remote-endpoint class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><div class=openapi><div class=endpoint><span class="endpoint-method regular-font bold-text method-put">PUT</span>
<span class=endpoint-path>/_db/{database-name}/_api/replication/sync</span></div><div class="openapi-description regular-font"><p>Starts a full data synchronization from a remote endpoint into the local
ArangoDB database.</p><p>The <em>sync</em> method can be used by replication clients to connect an ArangoDB database
to a remote endpoint, fetch the remote list of collections and indexes, and collection
data. It will thus create a local backup of the state of data at the remote ArangoDB
database. <em>sync</em> works on a per-database level.</p><p><em>sync</em> will first fetch the list of collections and indexes from the remote endpoint.
It does so by calling the <em>inventory</em> API of the remote database. It will then purge
data in the local ArangoDB database, and after start will transfer collection data
from the remote database to the local ArangoDB database. It will extract data from the
remote database by calling the remote database&rsquo;s <em>dump</em> API until all data are fetched.</p><p>In case of success, the body of the response is a JSON object with the following
attributes:</p><ul><li><p><em>collections</em>: an array of collections that were transferred from the endpoint</p></li><li><p><em>lastLogTick</em>: the last log tick on the endpoint at the time the transfer
was started. Use this value as the <em>from</em> value when starting the continuous
synchronization later.</p></li></ul><p>WARNING: calling this method will synchronize data from the collections found
on the remote endpoint to the local ArangoDB database. All data in the local
collections will be purged and replaced with data from the endpoint.</p><p>Use with caution!</p><div class="box notices cstyle info"><div class=box-content-container><div class=box-content><i class="fas fa-info-circle"></i><div class=box-text>This method is not supported on a Coordinator in a cluster deployment.</div></div></div></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Path Parameters</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=start-replication-from-a-remote-endpoint_path_database-name><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">database-name*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#start-replication-from-a-remote-endpoint_path_database-name><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The name of the database.</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Query Parameters</div><div><ul class=openapi-table></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>HTTP Headers</div><div><ul class=openapi-table></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Request Body <span class=openapi-content-type>application/json</span> <span class=openapi-property-type>object</span></div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=start-replication-from-a-remote-endpoint_body_database><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">database</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#start-replication-from-a-remote-endpoint_body_database><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>the database name on the leader (if not specified, defaults to the
name of the local current database).</p></div></details></li><li class="openapi-table-row regular-font"><details id=start-replication-from-a-remote-endpoint_body_endpoint><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">endpoint*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#start-replication-from-a-remote-endpoint_body_endpoint><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>the leader endpoint to connect to (e.g. &ldquo;tcp://192.168.173.13:8529&rdquo;).</p></div></details></li><li class="openapi-table-row regular-font"><details id=start-replication-from-a-remote-endpoint_body_includeSystem><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">includeSystem</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#start-replication-from-a-remote-endpoint_body_includeSystem><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>whether or not system collection operations will be applied</p></div></details></li><li class="openapi-table-row regular-font"><details id=start-replication-from-a-remote-endpoint_body_incremental><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">incremental</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#start-replication-from-a-remote-endpoint_body_incremental><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>if set to <em>true</em>, then an incremental synchronization method will be used
for synchronizing data in collections. This method is useful when
collections already exist locally, and only the remaining differences need
to be transferred from the remote endpoint. In this case, the incremental
synchronization can be faster than a full synchronization.
The default value is <em>false</em>, meaning that the complete data from the remote
collection will be transferred.</p></div></details></li><li class="openapi-table-row regular-font"><details id=start-replication-from-a-remote-endpoint_body_initialSyncMaxWaitTime><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">initialSyncMaxWaitTime</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#start-replication-from-a-remote-endpoint_body_initialSyncMaxWaitTime><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>the maximum wait time (in seconds) that the initial synchronization will
wait for a response from the leader when fetching initial collection data.
This wait time can be used to control after what time the initial synchronization
will give up waiting for a response and fail.
This value will be ignored if set to <em>0</em>.</p></div></details></li><li class="openapi-table-row regular-font"><details id=start-replication-from-a-remote-endpoint_body_password><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">password*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#start-replication-from-a-remote-endpoint_body_password><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>the password to use when connecting to the endpoint.</p></div></details></li><li class="openapi-table-row regular-font"><details id=start-replication-from-a-remote-endpoint_body_restrictCollections><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">restrictCollections</span>
<span class=openapi-property-type><span class=bold-text>array of strings</span></span>
<a href=#start-replication-from-a-remote-endpoint_body_restrictCollections><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>an optional array of collections for use with
<em>restrictType</em>. If <em>restrictType</em> is <em>include</em>, only the specified collections
will be synchronized. If <em>restrictType</em> is <em>exclude</em>, all but the specified
collections will be synchronized.</p></div></details></li><li class="openapi-table-row regular-font"><details id=start-replication-from-a-remote-endpoint_body_restrictType><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">restrictType</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#start-replication-from-a-remote-endpoint_body_restrictType><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>an optional string value for collection filtering. When
specified, the allowed values are <em>include</em> or <em>exclude</em>.</p></div></details></li><li class="openapi-table-row regular-font"><details id=start-replication-from-a-remote-endpoint_body_username><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">username</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#start-replication-from-a-remote-endpoint_body_username><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>an optional ArangoDB username to use when connecting to the endpoint.</p></div></details></li></ul></div></div><div class="responses regular-font"><div class=openapi-table-title>Responses</div><div class=openapi-responses><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=start-replication-from-a-remote-endpoint_res_200><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">200</span>
<span class="openapi-property-type bold-text">OK</span>
<a href=#start-replication-from-a-remote-endpoint_res_200><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned if the request was executed successfully.</p></div></details></li><li class="openapi-table-row regular-font"><details id=start-replication-from-a-remote-endpoint_res_400><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">400</span>
<span class="openapi-property-type bold-text">Bad Request</span>
<a href=#start-replication-from-a-remote-endpoint_res_400><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned if the configuration is incomplete or malformed.</p></div></details></li><li class="openapi-table-row regular-font"><details id=start-replication-from-a-remote-endpoint_res_405><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">405</span>
<span class="openapi-property-type bold-text">Method Not Allowed</span>
<a href=#start-replication-from-a-remote-endpoint_res_405><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned when an invalid HTTP method is used.</p></div></details></li><li class="openapi-table-row regular-font"><details id=start-replication-from-a-remote-endpoint_res_500><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">500</span>
<span class="openapi-property-type bold-text">Internal Server Error</span>
<a href=#start-replication-from-a-remote-endpoint_res_500><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned if an error occurred during synchronization.</p></div></details></li><li class="openapi-table-row regular-font"><details id=start-replication-from-a-remote-endpoint_res_501><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">501</span>
<span class="openapi-property-type bold-text">Not Implemented</span>
<a href=#start-replication-from-a-remote-endpoint_res_501><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned when this operation is called on a Coordinator in a cluster deployment.</p></div></details></li></ul></div></div></div><h3 id=get-the-cluster-collections-and-indexes>Get the cluster collections and indexes <a href=/3.11/develop/http-api/replication/replication-dump/#get-the-cluster-collections-and-indexes class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><div class=openapi><div class=endpoint><span class="endpoint-method regular-font bold-text method-get">GET</span>
<span class=endpoint-path>/_db/{database-name}/_api/replication/clusterInventory</span></div><div class="openapi-description regular-font"><p>Returns the array of collections and indexes available on the cluster.</p><p>The response will be an array of JSON objects, one for each collection.
Each collection contains exactly two keys, <code>parameters</code> and <code>indexes</code>.
This information comes from <code>Plan/Collections/{DB-Name}/*</code> in the Agency,
just that the <code>indexes</code> attribute there is relocated to adjust it to
the data format of arangodump.</p></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Path Parameters</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=get-the-cluster-collections-and-indexes_path_database-name><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">database-name*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#get-the-cluster-collections-and-indexes_path_database-name><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The name of the database.</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Query Parameters</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=get-the-cluster-collections-and-indexes_query_includeSystem><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">includeSystem</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#get-the-cluster-collections-and-indexes_query_includeSystem><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>Include system collections in the result. The default value is <code>true</code>.</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>HTTP Headers</div><div><ul class=openapi-table></ul></div></div><div class="responses regular-font"><div class=openapi-table-title>Responses</div><div class=openapi-responses><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=get-the-cluster-collections-and-indexes_res_200><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">200</span>
<span class="openapi-property-type bold-text">OK</span>
<a href=#get-the-cluster-collections-and-indexes_res_200><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned if the request was executed successfully.</p></div></details></li><li class="openapi-table-row regular-font"><details id=get-the-cluster-collections-and-indexes_res_405><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">405</span>
<span class="openapi-property-type bold-text">Method Not Allowed</span>
<a href=#get-the-cluster-collections-and-indexes_res_405><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned when an invalid HTTP method is used.</p></div></details></li><li class="openapi-table-row regular-font"><details id=get-the-cluster-collections-and-indexes_res_500><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">500</span>
<span class="openapi-property-type bold-text">Internal Server Error</span>
<a href=#get-the-cluster-collections-and-indexes_res_500><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>is returned if an error occurred while assembling the response.</p></div></details></li></ul></div></div></div><nav class=pagination><span class=prev><a class="nav nav-prev link" href=/3.11/develop/http-api/replication/><i class="fas fa-chevron-left fa-fw"></i><p>Replication</p></a></span><span class=next><a class="nav nav-next link" href=/3.11/develop/http-api/replication/replication-logger/><p>Replication Logger</p><i class="fas fa-chevron-right fa-fw"></i></a></span></nav></article><div class=toc-container><a class=edit-page aria-label href=https://github.com/arangodb/docs-hugo/edit/main/site/content/3.11/develop/http-api/replication/replication-dump.md target=_blank><i class="fab fa-fw fa-github edit-page-icon"></i></a><div class=toc><div class=toc-content><div class=toc-header><p>On this page</p></div><nav id=TableOfContents><div class=level-2><a href=#inventory>Inventory</a></div><div class=level-3><a href=#get-a-replication-inventory>Get a replication inventory</a></div><div class=level-2><a href=#batch>Batch</a></div><div class=level-3><a href=#create-a-new-dump-batch>Create a new dump batch</a></div><div class=level-3><a href=#delete-an-existing-dump-batch>Delete an existing dump batch</a></div><div class=level-3><a href=#extend-the-ttl-of-a-dump-batch>Extend the TTL of a dump batch</a></div><div class=level-2><a href=#dump>Dump</a></div><div class=level-3><a href=#get-a-replication-dump>Get a replication dump</a></div><div class=level-3><a href=#get-the-replication-revision-tree>Get the replication revision tree</a></div><div class=level-3><a href=#rebuild-the-replication-revision-tree>Rebuild the replication revision tree</a></div><div class=level-3><a href=#list-document-revision-ids-within-requested-ranges>List document revision IDs within requested ranges</a></div><div class=level-3><a href=#get-documents-by-revision>Get documents by revision</a></div><div class=level-3><a href=#start-replication-from-a-remote-endpoint>Start replication from a remote endpoint</a></div><div class=level-3><a href=#get-the-cluster-collections-and-indexes>Get the cluster collections and indexes</a></div></nav></div></div></div></div></div></section></section></div><button class="back-to-top hidden" onclick=goToTop(event) href=#><i class="fa fa-arrow-up"></i></button><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3>
<script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3></script>
<script type=text/javascript>window.setupDocSearch=function(e){if(!window.docsearch)return;docsearch({appId:"OK3ZBQ5982",apiKey:"500c85ccecb335d507fe4449aed12e1d",indexName:"arangodbdocs",insights:!0,container:"#searchbox",debug:!1,maxResultsPerGroup:10,searchParameters:{facetFilters:[`version:${e}`]}})}</script></body></html>