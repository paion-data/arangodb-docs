<!doctype html><html lang=en><head><link href=//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css rel=stylesheet><link href=//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css rel=stylesheet><link href=/css/fontawesome-all.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fontawesome-all.min.css rel=stylesheet></noscript><link href=/css/featherlight.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/featherlight.min.css rel=stylesheet></noscript><link href=/css/nucleus.css rel=stylesheet><link href=/css/fonts.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fonts.css rel=stylesheet></noscript><link href=/css/theme.css rel=stylesheet><link href=/css/theme-relearn-light.css rel=stylesheet id=variant-style><link href=/css/print.css rel=stylesheet media=print><script src=/js/variant.js?1747031427></script>
<script>var root_url="/",baseUriFull,baseUri=root_url.replace(/\/$/,"");window.T_Copy_to_clipboard="",window.T_Copied_to_clipboard="",window.T_Copy_link_to_clipboard="",window.T_Link_copied_to_clipboard="",baseUriFull="http://localhost/",window.variants&&variants.init(["relearn-light"])</script><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.119.0"><meta itemprop=description property="description" content="This guide describes how to compile ArangoDB 3.4 and onwards under Windows"><meta property="og:url" content="http://localhost/3.11/operations/installation/compiling/compile-on-windows/"><meta property="og:title" content="Compiling ArangoDB under Windows"><meta property="og:type" content="website"><meta property="og:description" content="This guide describes how to compile ArangoDB 3.4 and onwards under Windows"><meta name=docsearch:version content="3.11"><title>Compiling ArangoDB under Windows | ArangoDB Documentation</title><link href=/images/favicon.png rel=icon type=image/png><script src=/js/jquery.min.js></script>
<script src=/js/clipboard.min.js?1747031427 defer></script>
<script src=/js/featherlight.min.js?1747031427 defer></script>
<script>var versions=[{alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"},{alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"},{alias:"3.11",deprecated:!1,name:"3.11",version:"3.11.13"},{alias:"3.10",deprecated:!0,name:"3.10",version:"3.10.14"}]</script><script>var develVersion={alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"}</script><script>var stableVersion={alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"}</script><script src=/js/codeblocks.js?1747031427 defer></script>
<script src=/js/theme.js?1747031427 defer></script></head><body><noscript>You need to enable JavaScript to use the ArangoDB documentation.</noscript><div id=page-wrapper class=page_content_splash style=height:auto;opacity:0><section id=page-main><section class=page-container id=page-container><header id=header style="transition:.5s padding ease-out,.15s" class="zn_header_white header-splash-new nav-down header-splash-wrap header1"><div class=header-block-left><div class=mobile-menu-toggle><button id=sidebar-toggle-navigation onclick=showSidebarHandler()><svg width="1.33em" height="1.33em" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button></div><div class=version-logo-container><div class="logo-container hasinfocard_img arangodb-logo-large"><div class=logo><a href=https://www.arangodb.com/><img src=/images/logo_main.png alt=ArangoDB title></a></div></div><div class=arangodb-logo-small><a href=https://arangodb.com/><img alt="ArangoDB Logo" src=/images/ArangoDB_Logo_White_small.png></a></div></div></div><div class=container-right style=display:hidden></div><div class=search-and-version-container><a href=# class="home-link is-current" aria-label="Go to home page" onclick=goToHomepage(event)></a><div id=searchbox></div><script type=text/javascript>const SCRIPT_SRC="https://unpkg.com/@inkeep/widgets-embed@0.2.290/dist/embed.js";function loadAndInitializeInkeep(){if(document.querySelector(`script[src="${SCRIPT_SRC}]"`))return;const e=document.createElement("script");e.type="module",e.src=SCRIPT_SRC,e.onload=initializeInkeep,document.head.appendChild(e)}function initializeInkeep(){const e=Inkeep({integrationId:"clo4lx6jk0000s601cp21x2ok",apiKey:"13b4e56966a76e86c6ff359cd795ee6a0412f751d75d6383",organizationId:"org_HGBkkzGAa4KeGJGh",organizationDisplayName:"ArangoDB",primaryBrandColor:"#80a54d",stringReplacementRules:[{matchingRule:{ruleType:"Substring",string:"Arangograph"},replaceWith:"ArangoGraph"},{matchingRule:{ruleType:"Substring",string:"Aql"},replaceWith:"AQL"},{matchingRule:{ruleType:"Substring",string:"Arangodb"},replaceWith:"ArangoDB"}],customCardSettings:[{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arango.qubitpi.org"}},searchTabLabel:"Official Docs"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"developer.arangodb.com"}},searchTabLabel:"Developer Hub"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arangodb.com"}},searchTabLabel:"Home"}]}),t=e.embed({componentType:"ChatButton",properties:{stylesheetUrls:["/css/fonts.css"],fixedPositionXOffset:"52px",baseSettings:{theme:{primaryColors:{textColorOnPrimary:"white"},tokens:{fonts:{body:"'Inter'",heading:"'Inter'"},zIndex:{overlay:1e4,modal:11e3,popover:12e3,skipLink:13e3,toast:14e3,tooltip:15e3}}}},aiChatSettings:{botAvatarSrcUrl:"/images/ArangoDB_Logo_White_small.png",quickQuestions:["What can you do with AQL that is not feasible with SQL?","How do I search for objects within arrays?","Where can I deploy my ArangoDB instance?"],getHelpCallToActions:[{icon:{builtIn:"FaSlack"},name:"Slack",url:"https://arangodb-community.slack.com/"}]},searchSettings:{tabSettings:{isAllTabEnabled:!1,alwaysDisplayedTabs:["Official Docs","Developer Hub","Home"]}}}})}loadAndInitializeInkeep()</script><div class=version-selector><select id=arangodb-version onchange=changeVersion()><option value=3.13>3.13</option><option value=3.12>3.12</option><option value=3.11>3.11</option><option value=3.10>3.10</option><option value=3.9>3.9</option><option value=3.8>3.8</option></select></div></div></header><iframe src=/nav.html title=description id=menu-iframe class="menu-iframe active" style=opacity:0></iframe><div class=container-main><div class=row-main><nav id=breadcrumbs><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><meta itemprop=itemListOrder content="Descending"><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="3.11"><a itemprop=item class=link href=/3.11/><span itemprop=name class=breadcrumb-entry>3.11.13</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Operations"><a itemprop=item class=link href=/3.11/operations/><span itemprop=name class=breadcrumb-entry>Operations</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Installation"><a itemprop=item class=link href=/3.11/operations/installation/><span itemprop=name class=breadcrumb-entry>Installation</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Compiling"><a itemprop=item class=link href=/3.11/operations/installation/compiling/><span itemprop=name class=breadcrumb-entry>Compiling</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Compile on Windows"><a itemprop=item class=link href=/3.11/operations/installation/compiling/compile-on-windows/><span itemprop=name class=breadcrumb-entry>Compile on Windows</span></a></li></ol></nav><article class=default><hgroup><h1>Compiling ArangoDB under Windows</h1><p class=lead>This guide describes how to compile ArangoDB 3.4 and onwards under Windows</p></hgroup><h2 id=install-chocolatey>Install chocolatey <a href=/3.11/operations/installation/compiling/compile-on-windows/#install-chocolatey class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>With ArangoDB 3.0 a complete cmake environment was introduced. This also
streamlines the dependencies on Windows. We suggest to use
<a href=https://chocolatey.org/ target=_blank rel="noopener noreferrer" class=link>chocolatey.org</a>&nbsp;<i class="fas fa-external-link-alt"></i> to install most of
the dependencies. For sure most projects offer their own setup & install
packages, chocolatey offers a simplified way to install them with less user
interactions. You can even use chocolatey via
<a href=https://docs.ansible.com/ansible/latest/user_guide/windows.html target=_blank rel="noopener noreferrer" class=link>ansibles 2.7 winrm facility</a>&nbsp;<i class="fas fa-external-link-alt"></i>
to do unattended installations of some software on Windows.</p><p>First install the choco package manager by pasting this tiny cmdlet into a
command window with Administrator privileges (press Windows key, type <code>cmd</code>
and hit Ctrl+Shift+Enter):</p><pre><code>@powershell -NoProfile -ExecutionPolicy Bypass -Command &quot;iex ((new-object net.webclient).DownloadString('https://chocolatey.org/install.ps1'))&quot; &amp;&amp; SET PATH=%PATH%;%ALLUSERSPROFILE%\chocolatey\bin
</code></pre><h3 id=visual-studio-and-its-compiler>Visual Studio and its Compiler <a href=/3.11/operations/installation/compiling/compile-on-windows/#visual-studio-and-its-compiler class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>Since choco currently fails to alter the environment for
<a href=https://www.visualstudio.com/en-us/products/visual-studio-community-vs.aspx target=_blank rel="noopener noreferrer" class=link>Microsoft Visual Studio</a>&nbsp;<i class="fas fa-external-link-alt"></i>,
we suggest to download and install Visual Studio by hand.</p><p>ArangoDB v3.7 requires Visual Studio 2019 v16.5.0 or later.</p><div class="box notices cstyle warning"><div class=box-content-container><div class=box-content><i class="fas fa-exclamation-triangle"></i><div class=box-text>You need to make sure that it installs the <strong>Desktop development with C++</strong> preset,
else cmake will fail to detect it later on. Furthermore, the <strong>Windows 8.1 SDK and UCRT SDK</strong>
optional component is required to be selected during Visual Studio installation, else V8
will fail to compile later on.</div></div></div></div><p>After it successfully installed, start it once, so it can finish its setup.</p><h3 id=more-dependencies>More Dependencies <a href=/3.11/operations/installation/compiling/compile-on-windows/#more-dependencies class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>Now you can invoke the choco package manager for an unattended install of the dependencies
<em>(needs to be run with Administrator privileges again)</em>:</p><pre><code>choco install -y cmake.portable nsis python2 procdump windbg wget 
</code></pre><p>Then we need to install the <a href=https://openssl.org target=_blank rel="noopener noreferrer" class=link>OpenSSL</a>&nbsp;<i class="fas fa-external-link-alt"></i> library from its sources or using precompiled
<a href=https://wiki.openssl.org/index.php/Binaries target=_blank rel="noopener noreferrer" class=link>Third Party OpenSSL Related Binary Distributions</a>&nbsp;<i class="fas fa-external-link-alt"></i>.</p><h3 id=optional-dependencies>Optional Dependencies <a href=/3.11/operations/installation/compiling/compile-on-windows/#optional-dependencies class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p><em>Remember that you need to run below commands with Administrator privileges!</em></p><p>If you want to checkout the code with git, install it like this:</p><pre><code>choco install -y git
</code></pre><p>You need to allow and
<a href=https://github.com/git-for-windows/git/wiki/Symbolic-Links#allowing-non-administrators-to-create-symbolic-links target=_blank rel="noopener noreferrer" class=link>enable symlinks for your user</a>&nbsp;<i class="fas fa-external-link-alt"></i>.</p><p>If you intend to run the unit tests, you also need the following:</p><pre><code>choco install -y winflexbison ruby
</code></pre><p>Close and reopen the Administrator command window in order to continue with the ruby devkit:</p><pre><code>choco install -y ruby2.devkit
</code></pre><p>And manually install the requirements via the <code>Gemfile</code> fetched from the ArangoDB Git repository
<em>(needs to be run with Administrator privileges)</em>:</p><pre><code>wget https://raw.githubusercontent.com/arangodb/arangodb/devel/tests/rb/HttpInterface/Gemfile
setx PATH %PATH%;C:\tools\DevKit2\bin;C:\tools\DevKit2\mingw\bin
gem install bundler
bundler
</code></pre><p>Note that the V8 build scripts and gyp aren&rsquo;t compatible with Python 3.x hence you need python2!</p><h2 id=building-arangodb>Building ArangoDB <a href=/3.11/operations/installation/compiling/compile-on-windows/#building-arangodb class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>Download and extract the release tarball from
<a href=https://www.arangodb.com/download/ target=_blank rel="noopener noreferrer" class=link>www.arangodb.com/download/</a>&nbsp;<i class="fas fa-external-link-alt"></i></p><p>Or clone the GitHub repository and checkout the branch or tag you need (e.g. <code>devel</code>)</p><pre><code>git clone https://github.com/arangodb/arangodb.git -b devel
cd arangodb
</code></pre><p>Generate the Visual studio project files, and check back that cmake discovered all components on your system:</p><pre><code>mkdir Build64
cd Build64
cmake -G &quot;Visual Studio 15 2017 Win64&quot; ..
</code></pre><p>Note that in some cases cmake struggles to find the proper python interpreter
(i.e. the cygwin one won&rsquo;t work). You can force overrule it by appending:</p><pre><code>-DPYTHON_EXECUTABLE:FILEPATH=C:/Python27/python.exe
</code></pre><p>You can now load these in the Visual Studio IDE or use cmake to start the build:</p><pre><code>cmake --build . --config RelWithDebInfo
</code></pre><p>The binaries need the ICU datafile <code>icudt54l.dat</code>, which is automatically copied into the directory containing the
executable.</p><p>If you intend to use the machine for development purposes, it may be more practical to copy it to a common place:</p><pre><code>cd 3rdParty/V8/v*/third_party/icu/source/data/in &amp;&amp; cp icudt*.dat /cygdrive/c/Windows/
</code></pre><p>And configure your environment (yes this instruction remembers to the hitchhikers guide to the galaxy&mldr;) so that
<code>ICU_DATA</code> points to <code>c:\\Windows</code>. You do that by opening the explorer,
right click on <code>This PC</code> in the tree on the left, choose <code>Properties</code> in the opening window <code>Advanced system settings</code>,
in the Popup <code>Environment Variables</code>, another popup opens, in the <code>System Variables</code> part you click <code>New</code>,
And variable name: <code>ICU_DATA</code> to the value: <code>c:\\Windows</code></p><p><figure class=image-caption><img alt=HowtoSetEnv src=/images/SetEnvironmentVar.png><figcaption></figcaption></figure></p><h2 id=unit-tests-optional>Unit tests (Optional) <a href=/3.11/operations/installation/compiling/compile-on-windows/#unit-tests-optional class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>The unit tests require a <a href=https://www.cygwin.com/ target=_blank rel="noopener noreferrer" class=link>cygwin</a>&nbsp;<i class="fas fa-external-link-alt"></i> environment.</p><p>You need at least <code>make</code> from cygwin. Cygwin also offers a <code>cmake</code>. Do <strong>not</strong> install the cygwin cmake.</p><p>You should also issue these commands to generate user information for the cygwin commands:</p><pre><code>mkpasswd &gt; /etc/passwd
mkgroup &gt; /etc/group
</code></pre><p>Turning ACL off (noacl) for all mounts in cygwin fixes permissions troubles that may appear in the build:</p><pre><code># /etc/fstab
#
#    This file is read once by the first process in a Cygwin process tree.
#    To pick up changes, restart all Cygwin processes.  For a description
#    see https://cygwin.com/cygwin-ug-net/using.html#mount-table

# noacl = Ignore Access Control List and let Windows handle permissions
C:/cygwin64/bin  /usr/bin   ntfs      binary,auto,noacl           0  0
C:/cygwin64/lib  /usr/lib   ntfs      binary,auto,noacl           0  0
C:/cygwin64      /          ntfs      override,binary,auto,noacl  0  0
none             /cygdrive  cygdrive  binary,posix=0,user,noacl   0  0
</code></pre><h3 id=enable-native-symlinks-for-cygwin-and-git>Enable native symlinks for Cygwin and git <a href=/3.11/operations/installation/compiling/compile-on-windows/#enable-native-symlinks-for-cygwin-and-git class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>Cygwin will create proprietary files as placeholders by default instead of
actually symlinking files. The placeholders later tell Cygwin where to resolve
paths to. It does not intercept every access to the placeholders however, so
that 3rd party scripts break. Windows Vista and above support real symlinks,
and Cygwin can be configured to make use of it:</p><pre><code># use actual symlinks to prevent documentation build errors
# (requires elevated rights!)
export CYGWIN=&quot;winsymlinks:native&quot;
</code></pre><p>Note that you must run Cygwin as administrator or change the Windows group
policies to allow user accounts to create symlinks (<code>gpedit.msc</code> if available).</p><p>BTW: You can create symlinks manually on Windows like:</p><pre><code>mklink /H target/file.ext source/file.ext
mklink /D target/path source/path
mklink /J target/path source/path/for/junction
</code></pre><p>And in Cygwin:</p><pre><code>ln -s source target
</code></pre><h3 id=running-unit-tests>Running Unit tests <a href=/3.11/operations/installation/compiling/compile-on-windows/#running-unit-tests class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>You can then run the integration tests in the cygwin shell like that:</p><pre><code>Build64/bin/RelWithDebInfo/arangosh.exe \
-c etc/relative/arangosh.conf \
--log.level warning \
--server.endpoint tcp://127.0.0.1:1024 \
--javascript.execute UnitTests/unittest.js \
  -- \
  all \
  --build Build64 \
  --buildType RelWithDebInfo \
  --skipNondeterministic true \
  --skipTimeCritical true \
  --skipBoost true \
  --skipGeo true
</code></pre><p>Additional options <code>--ruby c:/tools/ruby25/bin/ruby</code> and <code>--rspec c:/tools/ruby25/bin/rspec</code>
should be used only if Ruby is not in the <em>PATH</em>.</p><nav class=pagination><span class=prev><a class="nav nav-prev link" href=/3.11/operations/installation/compiling/compile-on-debian/><i class="fas fa-chevron-left fa-fw"></i><p>Compile on Debian</p></a></span><span class=next><a class="nav nav-next link" href=/3.11/operations/installation/compiling/running-custom-build/><p>Running Custom Build</p><i class="fas fa-chevron-right fa-fw"></i></a></span></nav></article><div class=toc-container><a class=edit-page aria-label href=https://github.com/arangodb/docs-hugo/edit/main/site/content/3.11/operations/installation/compiling/compile-on-windows.md target=_blank><i class="fab fa-fw fa-github edit-page-icon"></i></a><div class=toc><div class=toc-content><div class=toc-header><p>On this page</p></div><nav id=TableOfContents><div class=level-2><a href=#install-chocolatey>Install chocolatey</a></div><div class=level-3><a href=#visual-studio-and-its-compiler>Visual Studio and its Compiler</a></div><div class=level-3><a href=#more-dependencies>More Dependencies</a></div><div class=level-3><a href=#optional-dependencies>Optional Dependencies</a></div><div class=level-2><a href=#building-arangodb>Building ArangoDB</a></div><div class=level-2><a href=#unit-tests-optional>Unit tests (Optional)</a></div><div class=level-3><a href=#enable-native-symlinks-for-cygwin-and-git>Enable native symlinks for Cygwin and git</a></div><div class=level-3><a href=#running-unit-tests>Running Unit tests</a></div></nav></div></div></div></div></div></section></section></div><button class="back-to-top hidden" onclick=goToTop(event) href=#><i class="fa fa-arrow-up"></i></button><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3>
<script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3></script>
<script type=text/javascript>window.setupDocSearch=function(e){if(!window.docsearch)return;docsearch({appId:"OK3ZBQ5982",apiKey:"500c85ccecb335d507fe4449aed12e1d",indexName:"arangodbdocs",insights:!0,container:"#searchbox",debug:!1,maxResultsPerGroup:10,searchParameters:{facetFilters:[`version:${e}`]}})}</script></body></html>