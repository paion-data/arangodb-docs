<!doctype html><html lang=en><head><link href=//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css rel=stylesheet><link href=//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css rel=stylesheet><link href=/css/fontawesome-all.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fontawesome-all.min.css rel=stylesheet></noscript><link href=/css/featherlight.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/featherlight.min.css rel=stylesheet></noscript><link href=/css/nucleus.css rel=stylesheet><link href=/css/fonts.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fonts.css rel=stylesheet></noscript><link href=/css/theme.css rel=stylesheet><link href=/css/theme-relearn-light.css rel=stylesheet id=variant-style><link href=/css/print.css rel=stylesheet media=print><script src=/js/variant.js?1747031427></script>
<script>var root_url="/",baseUriFull,baseUri=root_url.replace(/\/$/,"");window.T_Copy_to_clipboard="",window.T_Copied_to_clipboard="",window.T_Copy_link_to_clipboard="",window.T_Link_copied_to_clipboard="",baseUriFull="http://localhost/",window.variants&&variants.init(["relearn-light"])</script><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.119.0"><meta itemprop=description property="description" content="Downgrading database files and to an older version of ArangoDB requires a logical backup"><meta property="og:url" content="http://localhost/3.11/operations/upgrading/downgrading/"><meta property="og:title" content="Downgrading"><meta property="og:type" content="website"><meta property="og:description" content="Downgrading database files and to an older version of ArangoDB requires a logical backup"><meta name=docsearch:version content="3.11"><title>Downgrading | ArangoDB Documentation</title><link href=/images/favicon.png rel=icon type=image/png><script src=/js/jquery.min.js></script>
<script src=/js/clipboard.min.js?1747031427 defer></script>
<script src=/js/featherlight.min.js?1747031427 defer></script>
<script>var versions=[{alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"},{alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"},{alias:"3.11",deprecated:!1,name:"3.11",version:"3.11.13"},{alias:"3.10",deprecated:!0,name:"3.10",version:"3.10.14"}]</script><script>var develVersion={alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"}</script><script>var stableVersion={alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"}</script><script src=/js/codeblocks.js?1747031427 defer></script>
<script src=/js/theme.js?1747031427 defer></script></head><body><noscript>You need to enable JavaScript to use the ArangoDB documentation.</noscript><div id=page-wrapper class=page_content_splash style=height:auto;opacity:0><section id=page-main><section class=page-container id=page-container><header id=header style="transition:.5s padding ease-out,.15s" class="zn_header_white header-splash-new nav-down header-splash-wrap header1"><div class=header-block-left><div class=mobile-menu-toggle><button id=sidebar-toggle-navigation onclick=showSidebarHandler()><svg width="1.33em" height="1.33em" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button></div><div class=version-logo-container><div class="logo-container hasinfocard_img arangodb-logo-large"><div class=logo><a href=https://www.arangodb.com/><img src=/images/logo_main.png alt=ArangoDB title></a></div></div><div class=arangodb-logo-small><a href=https://arangodb.com/><img alt="ArangoDB Logo" src=/images/ArangoDB_Logo_White_small.png></a></div></div></div><div class=container-right style=display:hidden></div><div class=search-and-version-container><a href=# class="home-link is-current" aria-label="Go to home page" onclick=goToHomepage(event)></a><div id=searchbox></div><script type=text/javascript>const SCRIPT_SRC="https://unpkg.com/@inkeep/widgets-embed@0.2.290/dist/embed.js";function loadAndInitializeInkeep(){if(document.querySelector(`script[src="${SCRIPT_SRC}]"`))return;const e=document.createElement("script");e.type="module",e.src=SCRIPT_SRC,e.onload=initializeInkeep,document.head.appendChild(e)}function initializeInkeep(){const e=Inkeep({integrationId:"clo4lx6jk0000s601cp21x2ok",apiKey:"13b4e56966a76e86c6ff359cd795ee6a0412f751d75d6383",organizationId:"org_HGBkkzGAa4KeGJGh",organizationDisplayName:"ArangoDB",primaryBrandColor:"#80a54d",stringReplacementRules:[{matchingRule:{ruleType:"Substring",string:"Arangograph"},replaceWith:"ArangoGraph"},{matchingRule:{ruleType:"Substring",string:"Aql"},replaceWith:"AQL"},{matchingRule:{ruleType:"Substring",string:"Arangodb"},replaceWith:"ArangoDB"}],customCardSettings:[{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arango.qubitpi.org"}},searchTabLabel:"Official Docs"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"developer.arangodb.com"}},searchTabLabel:"Developer Hub"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arangodb.com"}},searchTabLabel:"Home"}]}),t=e.embed({componentType:"ChatButton",properties:{stylesheetUrls:["/css/fonts.css"],fixedPositionXOffset:"52px",baseSettings:{theme:{primaryColors:{textColorOnPrimary:"white"},tokens:{fonts:{body:"'Inter'",heading:"'Inter'"},zIndex:{overlay:1e4,modal:11e3,popover:12e3,skipLink:13e3,toast:14e3,tooltip:15e3}}}},aiChatSettings:{botAvatarSrcUrl:"/images/ArangoDB_Logo_White_small.png",quickQuestions:["What can you do with AQL that is not feasible with SQL?","How do I search for objects within arrays?","Where can I deploy my ArangoDB instance?"],getHelpCallToActions:[{icon:{builtIn:"FaSlack"},name:"Slack",url:"https://arangodb-community.slack.com/"}]},searchSettings:{tabSettings:{isAllTabEnabled:!1,alwaysDisplayedTabs:["Official Docs","Developer Hub","Home"]}}}})}loadAndInitializeInkeep()</script><div class=version-selector><select id=arangodb-version onchange=changeVersion()><option value=3.13>3.13</option><option value=3.12>3.12</option><option value=3.11>3.11</option><option value=3.10>3.10</option><option value=3.9>3.9</option><option value=3.8>3.8</option></select></div></div></header><iframe src=/nav.html title=description id=menu-iframe class="menu-iframe active" style=opacity:0></iframe><div class=container-main><div class=row-main><nav id=breadcrumbs><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><meta itemprop=itemListOrder content="Descending"><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="3.11"><a itemprop=item class=link href=/3.11/><span itemprop=name class=breadcrumb-entry>3.11.13</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Operations"><a itemprop=item class=link href=/3.11/operations/><span itemprop=name class=breadcrumb-entry>Operations</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Upgrading"><a itemprop=item class=link href=/3.11/operations/upgrading/><span itemprop=name class=breadcrumb-entry>Upgrading</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Downgrading"><a itemprop=item class=link href=/3.11/operations/upgrading/downgrading/><span itemprop=name class=breadcrumb-entry>Downgrading</span></a></li></ol></nav><article class=default><hgroup><h1>Downgrading</h1><p class=lead>Downgrading database files and to an older version of ArangoDB requires a logical backup</p></hgroup><p>A direct, in-place downgrade of ArangoDB is <strong>not</strong> supported. If you have upgraded
your ArangoDB package, and then also upgraded your current data directory, it is
not supported to downgrade the package and start an older ArangoDB version on a
data directory that was upgraded already.</p><p>If you are using a standalone ArangoDB server, data directory could have been upgraded
automatically during package upgrade. If you are using the <em>Starter</em> to start your
ArangoDB, and you have not triggered yet the rolling upgrade, or upgraded it
manually, your data directory is (probably) still on the old version, so you should
be able to downgrade the binaries in this case.</p><h2 id=supported-downgrade-procedures>Supported downgrade procedures <a href=/3.11/operations/upgrading/downgrading/#supported-downgrade-procedures class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>In order to downgrade, the following options are available:</p><ul><li>Restore a backup you took using the tool <a href=/3.11/components/tools/arangodump/ class=link><em>arangodump</em></a>
before the upgrade.</li><li>Start the old package on the data directory backup you took before the upgrade.</li></ul><h3 id=restore-an-arangodump-backup>Restore an <em>arangodump</em> backup <a href=/3.11/operations/upgrading/downgrading/#restore-an-arangodump-backup class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>This procedure assumes that you have taken an <em>arangodump</em> backup using the old
ArangoDB version, before you upgraded it.</p><ol><li>Stop ArangoDB (if you are using an Active Failover, or a Cluster, stop all the needed
processes on all the machines).</li><li>As extra precaution, take a backup of your current data directory (at filesystem level).
If you are using an Active Failover or a Cluster, you will need to backup all the data
directories of all the processes involved, from all machines. Make sure you move your
data directory backup to a safe place.</li><li>Uninstall the ArangoDB package (use appropriate <em>purge</em> option so your current data
directory is deleted, if you are using a stand alone instance).</li><li>Install the old version of ArangoDB.</li><li>Start ArangoDB. If you are using the <em>Starter</em>, please make sure you use a new data
directory for the <em>Starter</em>.</li><li>Restore the <em>arangodump</em> backup taken before upgrading.</li></ol><h3 id=start-the-old-package-on-the-data-directory-backup>Start the old package on the data directory backup <a href=/3.11/operations/upgrading/downgrading/#start-the-old-package-on-the-data-directory-backup class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>This procedure assumes that you have created a copy of your data directory (after having
stopped the ArangoDB process running on it) before the upgrade. If you are running an
Active Failover, or a Cluster, this procedure assumes that you have stopped them before
the upgrade, and that you have taken a copy of their data directories, from all involved
machines.</p><p>This procedure cannot be used if you have done a rolling upgrade of your Active Failover
or Cluster setups because in this case you do not have a copy of the data directories.</p><ol><li>Stop ArangoDB (if you are using an Active Failover, or a Cluster, stop all the needed
processes on all the machines).</li><li>As extra precaution, take a backup of your data directory (at filesystem level). If
you are using an Active Failover or a Cluster, you will need to backup all the data
directories of all the processes involved, from all machines. Make sure you move your
backup to a safe place.</li><li>Uninstall the ArangoDB package (use appropriate <em>purge</em> option so your current data
directory is deleted, if you are using a stand alone instance).</li><li>Install the old version of ArangoDB.</li><li>Start ArangoDB on the data directory that you have backup-ed up (at filesystem level)
before the upgrade. As an extra precaution, please first take a new copy of this
directory and move it to a safe place.</li></ol><h3 id=other-possibilities>Other possibilities <a href=/3.11/operations/upgrading/downgrading/#other-possibilities class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>If you have upgraded by mistake, and:</p><ul><li>your data directory has been upgraded already</li><li>it is not possible for you to follow any of the
<a href=#supported-downgrade-procedures class=link>Supported Downgrade Procedures</a> because:<ul><li>you do not have a <em>dump</em> backup taken using the old ArangoDB version</li><li>you do not have a copy of your data directory taken after stopping the old ArangoDB
process and before the upgrade</li></ul></li></ul><p>One possible option to downgrade could be to export the data from the new ArangoDB version
using the tool <em>arangoexport</em> and reimport it using the tool <em>arangoimport</em> in the old
version (after having installed and started it on a clean data directory). This method will
require some manual work to recreate the structure of your collections and your indexes - but
it might still help you solving an otherwise challenging situation.</p><nav class=pagination><span class=prev><a class="nav nav-prev link" href=/3.11/operations/upgrading/manual-deployments/><i class="fas fa-chevron-left fa-fw"></i><p>Manual Deployments</p></a></span><span class=next><a class="nav nav-next link" href=/3.11/operations/administration/><p>Administration</p><i class="fas fa-chevron-right fa-fw"></i></a></span></nav></article><div class=toc-container><a class=edit-page aria-label href=https://github.com/arangodb/docs-hugo/edit/main/site/content/3.11/operations/upgrading/downgrading.md target=_blank><i class="fab fa-fw fa-github edit-page-icon"></i></a><div class=toc><div class=toc-content><div class=toc-header><p>On this page</p></div><nav id=TableOfContents><div class=level-2><a href=#supported-downgrade-procedures>Supported downgrade procedures</a></div><div class=level-3><a href=#restore-an-arangodump-backup>Restore an <em>arangodump</em> backup</a></div><div class=level-3><a href=#start-the-old-package-on-the-data-directory-backup>Start the old package on the data directory backup</a></div><div class=level-3><a href=#other-possibilities>Other possibilities</a></div></nav></div></div></div></div></div></section></section></div><button class="back-to-top hidden" onclick=goToTop(event) href=#><i class="fa fa-arrow-up"></i></button><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3>
<script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3></script>
<script type=text/javascript>window.setupDocSearch=function(e){if(!window.docsearch)return;docsearch({appId:"OK3ZBQ5982",apiKey:"500c85ccecb335d507fe4449aed12e1d",indexName:"arangodbdocs",insights:!0,container:"#searchbox",debug:!1,maxResultsPerGroup:10,searchParameters:{facetFilters:[`version:${e}`]}})}</script></body></html>