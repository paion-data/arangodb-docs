<!doctype html><html lang=en><head><link href=//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css rel=stylesheet><link href=//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css rel=stylesheet><link href=/css/fontawesome-all.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fontawesome-all.min.css rel=stylesheet></noscript><link href=/css/featherlight.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/featherlight.min.css rel=stylesheet></noscript><link href=/css/nucleus.css rel=stylesheet><link href=/css/fonts.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fonts.css rel=stylesheet></noscript><link href=/css/theme.css rel=stylesheet><link href=/css/theme-relearn-light.css rel=stylesheet id=variant-style><link href=/css/print.css rel=stylesheet media=print><script src=/js/variant.js?1743774193></script>
<script>var root_url="/",baseUriFull,baseUri=root_url.replace(/\/$/,"");window.T_Copy_to_clipboard="",window.T_Copied_to_clipboard="",window.T_Copy_link_to_clipboard="",window.T_Link_copied_to_clipboard="",baseUriFull="http://localhost/",window.variants&&variants.init(["relearn-light"])</script><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.119.0"><meta itemprop=description property="description" content="ArangoDB is a scalable graph database system with native support for other data models and a built-in search engine, for the cloud and on-premises"><meta property="og:url" content="http://localhost/3.11/components/tools/arangoimport/examples-json/"><meta property="og:title" content="arangoimport Examples JSON"><meta property="og:type" content="website"><meta property="og:description" content="ArangoDB is a scalable graph database system with native support for other data models and a built-in search engine, for the cloud and on-premises"><meta name=docsearch:version content="3.11"><title>arangoimport Examples JSON | ArangoDB Documentation</title><link href=/images/favicon.png rel=icon type=image/png><script src=/js/jquery.min.js></script>
<script src=/js/clipboard.min.js?1743774193 defer></script>
<script src=/js/featherlight.min.js?1743774193 defer></script>
<script>var versions=[{alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"},{alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"},{alias:"3.11",deprecated:!1,name:"3.11",version:"3.11.13"},{alias:"3.10",deprecated:!0,name:"3.10",version:"3.10.14"}]</script><script>var develVersion={alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"}</script><script>var stableVersion={alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"}</script><script src=/js/codeblocks.js?1743774193 defer></script>
<script src=/js/theme.js?1743774193 defer></script></head><body><noscript>You need to enable JavaScript to use the ArangoDB documentation.</noscript><div id=page-wrapper class=page_content_splash style=height:auto;opacity:0><section id=page-main><section class=page-container id=page-container><header id=header style="transition:.5s padding ease-out,.15s" class="zn_header_white header-splash-new nav-down header-splash-wrap header1"><div class=header-block-left><div class=mobile-menu-toggle><button id=sidebar-toggle-navigation onclick=showSidebarHandler()><svg width="1.33em" height="1.33em" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button></div><div class=version-logo-container><div class="logo-container hasinfocard_img arangodb-logo-large"><div class=logo><a href=https://www.arangodb.com/><img src=/images/logo_main.png alt=ArangoDB title></a></div></div><div class=arangodb-logo-small><a href=https://arangodb.com/><img alt="ArangoDB Logo" src=/images/ArangoDB_Logo_White_small.png></a></div></div></div><div class=container-right style=display:hidden></div><div class=search-and-version-container><a href=# class="home-link is-current" aria-label="Go to home page" onclick=goToHomepage(event)></a><div id=searchbox></div><script type=text/javascript>const SCRIPT_SRC="https://unpkg.com/@inkeep/widgets-embed@0.2.290/dist/embed.js";function loadAndInitializeInkeep(){if(document.querySelector(`script[src="${SCRIPT_SRC}]"`))return;const e=document.createElement("script");e.type="module",e.src=SCRIPT_SRC,e.onload=initializeInkeep,document.head.appendChild(e)}function initializeInkeep(){const e=Inkeep({integrationId:"clo4lx6jk0000s601cp21x2ok",apiKey:"13b4e56966a76e86c6ff359cd795ee6a0412f751d75d6383",organizationId:"org_HGBkkzGAa4KeGJGh",organizationDisplayName:"ArangoDB",primaryBrandColor:"#80a54d",stringReplacementRules:[{matchingRule:{ruleType:"Substring",string:"Arangograph"},replaceWith:"ArangoGraph"},{matchingRule:{ruleType:"Substring",string:"Aql"},replaceWith:"AQL"},{matchingRule:{ruleType:"Substring",string:"Arangodb"},replaceWith:"ArangoDB"}],customCardSettings:[{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arango.qubitpi.org"}},searchTabLabel:"Official Docs"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"developer.arangodb.com"}},searchTabLabel:"Developer Hub"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arangodb.com"}},searchTabLabel:"Home"}]}),t=e.embed({componentType:"ChatButton",properties:{stylesheetUrls:["/css/fonts.css"],fixedPositionXOffset:"52px",baseSettings:{theme:{primaryColors:{textColorOnPrimary:"white"},tokens:{fonts:{body:"'Inter'",heading:"'Inter'"},zIndex:{overlay:1e4,modal:11e3,popover:12e3,skipLink:13e3,toast:14e3,tooltip:15e3}}}},aiChatSettings:{botAvatarSrcUrl:"/images/ArangoDB_Logo_White_small.png",quickQuestions:["What can you do with AQL that is not feasible with SQL?","How do I search for objects within arrays?","Where can I deploy my ArangoDB instance?"],getHelpCallToActions:[{icon:{builtIn:"FaSlack"},name:"Slack",url:"https://arangodb-community.slack.com/"}]},searchSettings:{tabSettings:{isAllTabEnabled:!1,alwaysDisplayedTabs:["Official Docs","Developer Hub","Home"]}}}})}loadAndInitializeInkeep()</script><div class=version-selector><select id=arangodb-version onchange=changeVersion()><option value=3.13>3.13</option><option value=3.12>3.12</option><option value=3.11>3.11</option><option value=3.10>3.10</option><option value=3.9>3.9</option><option value=3.8>3.8</option></select></div></div></header><iframe src=/nav.html title=description id=menu-iframe class="menu-iframe active" style=opacity:0></iframe><div class=container-main><div class=row-main><nav id=breadcrumbs><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><meta itemprop=itemListOrder content="Descending"><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="3.11"><a itemprop=item class=link href=/3.11/><span itemprop=name class=breadcrumb-entry>3.11.13</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Components"><a itemprop=item class=link href=/3.11/components/><span itemprop=name class=breadcrumb-entry>Components</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Tools"><a itemprop=item class=link href=/3.11/components/tools/><span itemprop=name class=breadcrumb-entry>Tools</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="arangoimport"><a itemprop=item class=link href=/3.11/components/tools/arangoimport/><span itemprop=name class=breadcrumb-entry>arangoimport</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Examples JSON"><a itemprop=item class=link href=/3.11/components/tools/arangoimport/examples-json/><span itemprop=name class=breadcrumb-entry>Examples JSON</span></a></li></ol></nav><article class=default><hgroup><h1><em>arangoimport</em> Examples JSON</h1></hgroup><p>Using JSON as data format, records are represented as JSON objects and called
documents in ArangoDB. They are self-contained. Therefore, there is no need
for all records in a collection to have the same attribute names or types.
Documents can be inhomogeneous while data types can be fully preserved.</p><h2 id=input-file-formats>Input file formats <a href=/3.11/components/tools/arangoimport/examples-json/#input-file-formats class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><em>arangoimport</em> supports two formats when importing JSON data:</p><ul><li><a href=http://json.org/ target=_blank rel="noopener noreferrer" class=link>JSON</a>&nbsp;<i class="fas fa-external-link-alt"></i> – JavaScript Object Notation</li><li><a href=http://jsonlines.org/ target=_blank rel="noopener noreferrer" class=link>JSON Lines</a>&nbsp;<i class="fas fa-external-link-alt"></i> –
also known as <em>JSONL</em> or new-line delimited JSON</li></ul><p>For any larger input files, it is recommended to use the JSON Lines format.</p><p>Multiple documents can be stored in standard JSON format in a top-level array
with objects as members:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span> <span class=s2>&#34;_key&#34;</span><span class=o>:</span> <span class=s2>&#34;one&#34;</span><span class=p>,</span> <span class=s2>&#34;value&#34;</span><span class=o>:</span> <span class=mi>1</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span> <span class=s2>&#34;_key&#34;</span><span class=o>:</span> <span class=s2>&#34;two&#34;</span><span class=p>,</span> <span class=s2>&#34;value&#34;</span><span class=o>:</span> <span class=mi>2</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span> <span class=s2>&#34;_key&#34;</span><span class=o>:</span> <span class=s2>&#34;foo&#34;</span><span class=p>,</span> <span class=s2>&#34;value&#34;</span><span class=o>:</span> <span class=s2>&#34;bar&#34;</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>...</span>
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div><p>This format allows line breaks for formatting (i.e. pretty printing):</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;_key&#34;</span><span class=o>:</span> <span class=s2>&#34;one&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;value&#34;</span><span class=o>:</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;_key&#34;</span><span class=o>:</span> <span class=s2>&#34;two&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;value&#34;</span><span class=o>:</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;_key&#34;</span><span class=o>:</span> <span class=s2>&#34;foo&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;value&#34;</span><span class=o>:</span> <span class=s2>&#34;bar&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>...</span>
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div><p>It requires parsers to read the entire input in order to verify that the
array is properly closed at the very end. <em>arangoimport</em> needs to read
the whole input before it can send the first batch to the server.
By default, it allows importing such files up to a size of about 16 MB.
If you want to allow your <em>arangoimport</em> instance to use more memory, increase
the maximum file size by specifying the command-line option <code>--batch-size</code>.
For example, to set the batch size to 32 MB, use the following command:</p><pre tabindex=0><code>arangoimport --file &#34;data.json&#34; --type json --collection &#34;users&#34; --batch-size 33554432
</code></pre><p><em>JSON Lines</em> formatted data allows processing each line individually:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>{</span> <span class=s2>&#34;_key&#34;</span><span class=o>:</span> <span class=s2>&#34;one&#34;</span><span class=p>,</span> <span class=s2>&#34;value&#34;</span><span class=o>:</span> <span class=mi>1</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>{</span> <span class=s2>&#34;_key&#34;</span><span class=o>:</span> <span class=s2>&#34;two&#34;</span><span class=p>,</span> <span class=s2>&#34;value&#34;</span><span class=o>:</span> <span class=mi>2</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>{</span> <span class=s2>&#34;_key&#34;</span><span class=o>:</span> <span class=s2>&#34;foo&#34;</span><span class=p>,</span> <span class=s2>&#34;value&#34;</span><span class=o>:</span> <span class=s2>&#34;bar&#34;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>...</span></span></span></code></pre></div><p>The above format can be imported sequentially by <em>arangoimport</em>. It reads
data from the input in chunks and sends it in batches to the server. Each batch
is about as big as specified in the command-line parameter <code>--batch-size</code>.</p><p>Please note that you may still need to increase the value of <code>--batch-size</code> if a
single document inside the input file is bigger than the value of <code>--batch-size</code>.</p><p><em>JSON Lines</em> does not allow line breaks for pretty printing. There has to be one
complete JSON object on each line. A JSON array or primitive value per line is
not supported by <em>arangoimport</em> in contrast to the JSON Lines specification,
which allows any valid JSON value on a line.</p><h2 id=converting-json-to-json-lines>Converting JSON to JSON Lines <a href=/3.11/components/tools/arangoimport/examples-json/#converting-json-to-json-lines class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>An input with JSON objects in an array, optionally pretty printed, can be
easily converted into JSONL with one JSON object per line using the
<a href=http://stedolan.github.io/jq/ target=_blank rel="noopener noreferrer" class=link><strong>jq</strong> command line tool</a>&nbsp;<i class="fas fa-external-link-alt"></i>:</p><pre tabindex=0><code>jq -c &#34;.[]&#34; inputFile.json &gt; outputFile.jsonl
</code></pre><p>The <code>-c</code> option enables compact JSON (as opposed to pretty printed JSON).
<code>".[]"</code> is a filter that unpacks the top-level array and effectively puts each
object in that array on a separate line in combination with the compact option.</p><p>jq needs to create an internal representation of the entire input first however,
making this method unsuitable for large JSON source files. jq v1.5 added
support for a streaming mode that can perform the conversion on the fly with
minimal memory usage:</p><pre tabindex=0><code>jq -cn --stream &#34;fromstream(1|truncate_stream(inputs))&#34; inputFile.json &gt; outputFile.jsonl
</code></pre><p>An example <code>inputFile.json</code> can look like this:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;isActive&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;Evans Wheeler&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;latitude&#34;</span><span class=p>:</span> <span class=mf>-0.119406</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;longitude&#34;</span><span class=p>:</span> <span class=mf>146.271888</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;tags&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;amet&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;qui&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;velit&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;isActive&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;Coffey Barron&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;latitude&#34;</span><span class=p>:</span> <span class=mf>-37.78772</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;longitude&#34;</span><span class=p>:</span> <span class=mf>131.218935</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;tags&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;dolore&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;exercitation&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;irure&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;velit&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span></code></pre></div><p>The conversion produces the following <code>outputFile.jsonl</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span><span class=nt>&#34;isActive&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Evans Wheeler&#34;</span><span class=p>,</span><span class=nt>&#34;latitude&#34;</span><span class=p>:</span><span class=mf>-0.119406</span><span class=p>,</span><span class=nt>&#34;longitude&#34;</span><span class=p>:</span><span class=mf>146.271888</span><span class=p>,</span><span class=nt>&#34;tags&#34;</span><span class=p>:[</span><span class=s2>&#34;amet&#34;</span><span class=p>,</span><span class=s2>&#34;qui&#34;</span><span class=p>,</span><span class=s2>&#34;velit&#34;</span><span class=p>]}</span>
</span></span><span class=line><span class=cl><span class=p>{</span><span class=nt>&#34;isActive&#34;</span><span class=p>:</span><span class=kc>true</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;Coffey Barron&#34;</span><span class=p>,</span><span class=nt>&#34;latitude&#34;</span><span class=p>:</span><span class=mf>-37.78772</span><span class=p>,</span><span class=nt>&#34;longitude&#34;</span><span class=p>:</span><span class=mf>131.218935</span><span class=p>,</span><span class=nt>&#34;tags&#34;</span><span class=p>:[</span><span class=s2>&#34;dolore&#34;</span><span class=p>,</span><span class=s2>&#34;exercitation&#34;</span><span class=p>,</span><span class=s2>&#34;irure&#34;</span><span class=p>,</span><span class=s2>&#34;velit&#34;</span><span class=p>]}</span>
</span></span></code></pre></div><h2 id=reading-compressed-input-files>Reading compressed input files <a href=/3.11/components/tools/arangoimport/examples-json/#reading-compressed-input-files class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><em>arangoimport</em> can transparently process gzip-compressed input files
if they have a &ldquo;.gz&rdquo; file extension, e.g.</p><pre tabindex=0><code>arangoimport --file &#34;users.jsonl.gz&#34; --type jsonl --collection &#34;users&#34;
</code></pre><p>For other input formats it is possible to decompress the input file using another
program and piping its output into arangoimport, e.g.</p><pre tabindex=0><code>bzcat data.bz2 | arangoimport --file &#34;-&#34; --type jsonl --collection &#34;users&#34;
</code></pre><p>This example requires that a <code>bzcat</code> utility for decompressing bzip2-compressed
files is available, and that the shell supports pipes.</p><h2 id=import-example-and-common-options>Import Example and Common Options <a href=/3.11/components/tools/arangoimport/examples-json/#import-example-and-common-options class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>We use these example user records to import:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>{</span> <span class=s2>&#34;name&#34;</span> <span class=o>:</span> <span class=p>{</span> <span class=s2>&#34;first&#34;</span> <span class=o>:</span> <span class=s2>&#34;John&#34;</span><span class=p>,</span> <span class=s2>&#34;last&#34;</span> <span class=o>:</span> <span class=s2>&#34;Connor&#34;</span> <span class=p>},</span> <span class=s2>&#34;active&#34;</span> <span class=o>:</span> <span class=kc>true</span><span class=p>,</span> <span class=s2>&#34;age&#34;</span> <span class=o>:</span> <span class=mi>25</span><span class=p>,</span> <span class=s2>&#34;likes&#34;</span> <span class=o>:</span> <span class=p>[</span> <span class=s2>&#34;swimming&#34;</span><span class=p>]</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>{</span> <span class=s2>&#34;name&#34;</span> <span class=o>:</span> <span class=p>{</span> <span class=s2>&#34;first&#34;</span> <span class=o>:</span> <span class=s2>&#34;Jim&#34;</span><span class=p>,</span> <span class=s2>&#34;last&#34;</span> <span class=o>:</span> <span class=s2>&#34;O&#39;Brady&#34;</span> <span class=p>},</span> <span class=s2>&#34;age&#34;</span> <span class=o>:</span> <span class=mi>19</span><span class=p>,</span> <span class=s2>&#34;likes&#34;</span> <span class=o>:</span> <span class=p>[</span> <span class=s2>&#34;hiking&#34;</span><span class=p>,</span> <span class=s2>&#34;singing&#34;</span> <span class=p>]</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>{</span> <span class=s2>&#34;name&#34;</span> <span class=o>:</span> <span class=p>{</span> <span class=s2>&#34;first&#34;</span> <span class=o>:</span> <span class=s2>&#34;Lisa&#34;</span><span class=p>,</span> <span class=s2>&#34;last&#34;</span> <span class=o>:</span> <span class=s2>&#34;Jones&#34;</span> <span class=p>},</span> <span class=s2>&#34;dob&#34;</span> <span class=o>:</span> <span class=s2>&#34;1981-04-09&#34;</span><span class=p>,</span> <span class=s2>&#34;likes&#34;</span> <span class=o>:</span> <span class=p>[</span> <span class=s2>&#34;running&#34;</span> <span class=p>]</span> <span class=p>}</span></span></span></code></pre></div><p>To import these records, all you need to do is to put them into a file
(with one line for each record to import), save it as <code>data.jsonl</code> and run
the following command:</p><pre tabindex=0><code>arangoimport --file &#34;data.jsonl&#34; --type jsonl --collection users
</code></pre><p>This transfers the data to the server, imports the records, and prints a
status summary.</p><p>To show the intermediate progress during the import process, the
option <code>--progress</code> can be added. This option shows the percentage of the
input file that has been sent to the server. This is only useful for big
import files.</p><pre tabindex=0><code>arangoimport --file &#34;data.jsonl&#34; --type jsonl --collection users --progress true
</code></pre><p>It is also possible to use the output of another command as an input for
<em>arangoimport</em>. For example, you can use the following shell command to pipe
data from the <code>cat</code> process to arangoimport (in a Bash-like shell):</p><pre tabindex=0><code>cat data.json | arangoimport --file - --type jsonl --collection users
</code></pre><p>In a command line or PowerShell on Windows, there is the <code>type</code> command:</p><pre tabindex=0><code>type data.json | arangoimport --file - --type jsonl --collection users
</code></pre><p>The option <code>--file -</code> with a hyphen as the file name is special and makes it
read from the standard input. No progress can be reported for such imports as the
size of the input is unknown to arangoimport.</p><p>By default, the endpoint <code>tcp://127.0.0.1:8529</code> is used. If you want to
specify a different endpoint, you can use the <code>--server.endpoint</code> option. You
probably want to specify a database user and password as well. You can do so by
using the options <code>--server.username</code> and <code>--server.password</code>. If you do not
specify a password, you are prompted for one.</p><pre tabindex=0><code>arangoimport --server.endpoint tcp://127.0.0.1:8529 --server.username root ...
</code></pre><p>Note that the collection (<code>users</code> in this case) must already exist or the import
fails. If you want to create a new collection with the import data, you need
to specify the <code>--create-collection</code> option. It creates a document collection
by default and not an edge collection.</p><pre tabindex=0><code>arangoimport --file &#34;data.jsonl&#34; --type jsonl --collection users --create-collection true
</code></pre><p>To create an edge collection instead, use the <code>--create-collection-type</code> option
and set it to <code>edge</code>:</p><pre tabindex=0><code>arangoimport --collection myedges --create-collection true --create-collection-type edge ...
</code></pre><p>When importing data into an existing collection it is often convenient to first
remove all data from the collection and then start the import. This can be achieved
by passing the <code>--overwrite</code> parameter to <em>arangoimport</em>. If it is set to <code>true</code>,
any existing data in the collection is removed prior to the import. Note
that any existing index definitions for the collection are preserved even if
<code>--overwrite</code> is set to <code>true</code>.</p><pre tabindex=0><code>arangoimport --file &#34;data.jsonl&#34; --type jsonl --collection users --overwrite true
</code></pre><p>Data gets imported into the specified collection in the default database
(<code>_system</code>). To specify a different database, use the <code>--server.database</code>
option when invoking <em>arangoimport</em>. If you want to import into a nonexistent
database you need to pass <code>--create-database true</code> to create it on-the-fly.</p><p>The tool also supports parallel imports, with multiple threads. Using multiple
threads may provide a speedup, especially when using the RocksDB storage engine.
To specify the number of parallel threads use the <code>--threads</code> option:</p><pre tabindex=0><code>arangoimport --threads 4 --file &#34;data.jsonl&#34; --type jsonl --collection users
</code></pre><p>Using multiple threads may lead to a non-sequential import of the input
data. Data that appears later in the input file may be imported earlier than data
that appears earlier in the input file. This is normally not a problem but may cause
issues when when there are data dependencies or duplicates in the import data. In
this case, the number of threads should be set to 1. Also, using parallelism with
the <code>--threads X</code> parameter together with the <code>--on-duplicate</code> parameter set to <code>ignore</code>,
<code>update</code> or <code>replace</code> can lead to a race condition, when there are duplicates e.g. multiple
identical <code>_key</code> values. Even ignoring the duplicates makes the result unpredictable, meaning
it is not possible to predict which versions of the documents are inserted.</p><nav class=pagination><span class=prev><a class="nav nav-prev link" href=/3.11/components/tools/arangoimport/><i class="fas fa-chevron-left fa-fw"></i><p>arangoimport</p></a></span><span class=next><a class="nav nav-next link" href=/3.11/components/tools/arangoimport/examples-csv/><p>Examples CSV</p><i class="fas fa-chevron-right fa-fw"></i></a></span></nav></article><div class=toc-container><a class=edit-page aria-label href=https://github.com/arangodb/docs-hugo/edit/main/site/content/3.11/components/tools/arangoimport/examples-json.md target=_blank><i class="fab fa-fw fa-github edit-page-icon"></i></a><div class=toc><div class=toc-content><div class=toc-header><p>On this page</p></div><nav id=TableOfContents><div class=level-2><a href=#input-file-formats>Input file formats</a></div><div class=level-2><a href=#converting-json-to-json-lines>Converting JSON to JSON Lines</a></div><div class=level-2><a href=#reading-compressed-input-files>Reading compressed input files</a></div><div class=level-2><a href=#import-example-and-common-options>Import Example and Common Options</a></div></nav></div></div></div></div></div></section></section></div><button class="back-to-top hidden" onclick=goToTop(event) href=#><i class="fa fa-arrow-up"></i></button><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3>
<script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3></script>
<script type=text/javascript>window.setupDocSearch=function(e){if(!window.docsearch)return;docsearch({appId:"OK3ZBQ5982",apiKey:"500c85ccecb335d507fe4449aed12e1d",indexName:"arangodbdocs",insights:!0,container:"#searchbox",debug:!1,maxResultsPerGroup:10,searchParameters:{facetFilters:[`version:${e}`]}})}</script></body></html>