<!doctype html><html lang=en><head><link href=//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css rel=stylesheet><link href=//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css rel=stylesheet><link href=/css/fontawesome-all.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fontawesome-all.min.css rel=stylesheet></noscript><link href=/css/featherlight.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/featherlight.min.css rel=stylesheet></noscript><link href=/css/nucleus.css rel=stylesheet><link href=/css/fonts.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fonts.css rel=stylesheet></noscript><link href=/css/theme.css rel=stylesheet><link href=/css/theme-relearn-light.css rel=stylesheet id=variant-style><link href=/css/print.css rel=stylesheet media=print><script src=/js/variant.js?1743775370></script>
<script>var root_url="/",baseUriFull,baseUri=root_url.replace(/\/$/,"");window.T_Copy_to_clipboard="",window.T_Copied_to_clipboard="",window.T_Copy_link_to_clipboard="",window.T_Link_copied_to_clipboard="",baseUriFull="http://localhost/",window.variants&&variants.init(["relearn-light"])</script><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.119.0"><meta itemprop=description property="description" content="How to create and use SmartGraphs"><meta property="og:url" content="http://localhost/3.11/graphs/smartgraphs/getting-started/"><meta property="og:title" content="Getting started with SmartGraphs"><meta property="og:type" content="website"><meta property="og:description" content="How to create and use SmartGraphs"><meta name=docsearch:version content="3.11"><title>Getting started with SmartGraphs | ArangoDB Documentation</title><link href=/images/favicon.png rel=icon type=image/png><script src=/js/jquery.min.js></script>
<script src=/js/clipboard.min.js?1743775370 defer></script>
<script src=/js/featherlight.min.js?1743775370 defer></script>
<script>var versions=[{alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"},{alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"},{alias:"3.11",deprecated:!1,name:"3.11",version:"3.11.13"},{alias:"3.10",deprecated:!0,name:"3.10",version:"3.10.14"}]</script><script>var develVersion={alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"}</script><script>var stableVersion={alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"}</script><script src=/js/codeblocks.js?1743775370 defer></script>
<script src=/js/theme.js?1743775370 defer></script></head><body><noscript>You need to enable JavaScript to use the ArangoDB documentation.</noscript><div id=page-wrapper class=page_content_splash style=height:auto;opacity:0><section id=page-main><section class=page-container id=page-container><header id=header style="transition:.5s padding ease-out,.15s" class="zn_header_white header-splash-new nav-down header-splash-wrap header1"><div class=header-block-left><div class=mobile-menu-toggle><button id=sidebar-toggle-navigation onclick=showSidebarHandler()><svg width="1.33em" height="1.33em" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button></div><div class=version-logo-container><div class="logo-container hasinfocard_img arangodb-logo-large"><div class=logo><a href=https://www.arangodb.com/><img src=/images/logo_main.png alt=ArangoDB title></a></div></div><div class=arangodb-logo-small><a href=https://arangodb.com/><img alt="ArangoDB Logo" src=/images/ArangoDB_Logo_White_small.png></a></div></div></div><div class=container-right style=display:hidden></div><div class=search-and-version-container><a href=# class="home-link is-current" aria-label="Go to home page" onclick=goToHomepage(event)></a><div id=searchbox></div><script type=text/javascript>const SCRIPT_SRC="https://unpkg.com/@inkeep/widgets-embed@0.2.290/dist/embed.js";function loadAndInitializeInkeep(){if(document.querySelector(`script[src="${SCRIPT_SRC}]"`))return;const e=document.createElement("script");e.type="module",e.src=SCRIPT_SRC,e.onload=initializeInkeep,document.head.appendChild(e)}function initializeInkeep(){const e=Inkeep({integrationId:"clo4lx6jk0000s601cp21x2ok",apiKey:"13b4e56966a76e86c6ff359cd795ee6a0412f751d75d6383",organizationId:"org_HGBkkzGAa4KeGJGh",organizationDisplayName:"ArangoDB",primaryBrandColor:"#80a54d",stringReplacementRules:[{matchingRule:{ruleType:"Substring",string:"Arangograph"},replaceWith:"ArangoGraph"},{matchingRule:{ruleType:"Substring",string:"Aql"},replaceWith:"AQL"},{matchingRule:{ruleType:"Substring",string:"Arangodb"},replaceWith:"ArangoDB"}],customCardSettings:[{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arango.qubitpi.org"}},searchTabLabel:"Official Docs"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"developer.arangodb.com"}},searchTabLabel:"Developer Hub"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arangodb.com"}},searchTabLabel:"Home"}]}),t=e.embed({componentType:"ChatButton",properties:{stylesheetUrls:["/css/fonts.css"],fixedPositionXOffset:"52px",baseSettings:{theme:{primaryColors:{textColorOnPrimary:"white"},tokens:{fonts:{body:"'Inter'",heading:"'Inter'"},zIndex:{overlay:1e4,modal:11e3,popover:12e3,skipLink:13e3,toast:14e3,tooltip:15e3}}}},aiChatSettings:{botAvatarSrcUrl:"/images/ArangoDB_Logo_White_small.png",quickQuestions:["What can you do with AQL that is not feasible with SQL?","How do I search for objects within arrays?","Where can I deploy my ArangoDB instance?"],getHelpCallToActions:[{icon:{builtIn:"FaSlack"},name:"Slack",url:"https://arangodb-community.slack.com/"}]},searchSettings:{tabSettings:{isAllTabEnabled:!1,alwaysDisplayedTabs:["Official Docs","Developer Hub","Home"]}}}})}loadAndInitializeInkeep()</script><div class=version-selector><select id=arangodb-version onchange=changeVersion()><option value=3.13>3.13</option><option value=3.12>3.12</option><option value=3.11>3.11</option><option value=3.10>3.10</option><option value=3.9>3.9</option><option value=3.8>3.8</option></select></div></div></header><iframe src=/nav.html title=description id=menu-iframe class="menu-iframe active" style=opacity:0></iframe><div class=container-main><div class=row-main><nav id=breadcrumbs><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><meta itemprop=itemListOrder content="Descending"><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="3.11"><a itemprop=item class=link href=/3.11/><span itemprop=name class=breadcrumb-entry>3.11.13</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Graphs"><a itemprop=item class=link href=/3.11/graphs/><span itemprop=name class=breadcrumb-entry>Graphs</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="SmartGraphs"><a itemprop=item class=link href=/3.11/graphs/smartgraphs/><span itemprop=name class=breadcrumb-entry>SmartGraphs</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Getting Started"><a itemprop=item class=link href=/3.11/graphs/smartgraphs/getting-started/><span itemprop=name class=breadcrumb-entry>Getting Started</span></a></li></ol></nav><article class=default><hgroup><h1>Getting started with SmartGraphs</h1><p class=lead>How to create and use SmartGraphs</p></hgroup><p>SmartGraphs <strong>cannot use existing collections</strong>. When switching to SmartGraph
from an existing dataset you have to import the data into a fresh SmartGraph.</p><p>All collections that are being used in SmartGraphs need to be part of the same
<code>distributeShardslike</code> group. The <code>smartGraphAttribute</code> and the number of
shards are immutable.
The <code>smartGraphAttribute</code> attribute is used to inform the database how to shard
data and, as a consequence, all vertices must have this attribute. The <code>_from</code>
and <code>_to</code> attributes that point <em>from</em> one document <em>to</em> another document
stored in vertex collections are set by default, following the same smart
sharding pattern.</p><h2 id=create-a-smartgraph-using-the-web-interface>Create a SmartGraph using the web interface <a href=/3.11/graphs/smartgraphs/getting-started/#create-a-smartgraph-using-the-web-interface class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>The web interface (also called Web UI) allows you to easily create and manage
SmartGraphs. To get started, follow the steps outlined below.</p><ol><li>In the web interface, navigate to the <strong>GRAPHS</strong> section.</li><li>To add a new graph, click <strong>Add Graph</strong>.</li><li>In the <strong>Create Graph</strong> dialog that appears, select the
<strong>SmartGraph</strong> tab.</li><li>Fill in all the following fields:<ul><li>For <strong>Name</strong>, enter a name for the SmartGraph.</li><li>For <strong>Shards</strong>, enter the number of parts to split the graph into.</li><li>Optional: For <strong>Replication factor</strong>, enter the total number of
desired copies of the data in the cluster.</li><li>Optional: For <strong>Write concern</strong>, enter the total number of copies
of the data in the cluster required for each write operation.</li><li>For <strong>SmartGraph Attribute</strong>, insert the attribute that is used to
smartly shard the vertices of the graph. Every vertex in your graph
needs to have this attribute. Note that it cannot be modified later.</li><li>Optional: For <strong>SatelliteCollections</strong>, insert vertex collections
that are used in your edge definitions. These collections are
then created as satellites, and thus replicated to all DB-Servers.</li></ul></li><li>Define the relations on the graph:<ul><li>For <strong>Edge definition</strong>, insert a single non-existent name to define
the relation of the graph. This automatically creates a new edge
collection, which is displayed in the <strong>COLLECTIONS</strong> section of the
left sidebar menu.<div class="box notices cstyle tip"><div class=box-content-container><div class=box-content><i class="fas fa-check"></i><div class=box-text>To define multiple relations, press the <strong>Add relation</strong> button.
To remove a relation, press the <strong>Remove relation</strong> button.</div></div></div></div></li><li>For <strong>fromCollections</strong>, insert a list of vertex collections
that contain the start vertices of the relation.</li><li>For <strong>toCollections</strong>, insert a list of vertex collections that
contain the end vertices of the relation.<div class="box notices cstyle tip"><div class=box-content-container><div class=box-content><i class="fas fa-check"></i><div class=box-text>Insert only non-existent collection names. Collections are automatically
created during the graph setup and are displayed in the
<strong>Collections</strong> tab of the left sidebar menu.</div></div></div></div></li><li>For <strong>Orphan collections</strong>, insert a list of vertex collections
that are part of the graph but not used in any edge definition.</li></ul></li><li>Click <strong>Create</strong>.</li><li>Click the card of the newly created graph and use the functions of the Graph
Viewer to visually interact with the graph and manage the graph data.</li></ol><p><figure class=image-caption><img alt="Create SmartGraph" src=/images/Create-SmartGraph.png><figcaption></figcaption></figure></p><h2 id=create-a-smartgraph-using-arangosh>Create a SmartGraph using <em>arangosh</em> <a href=/3.11/graphs/smartgraphs/getting-started/#create-a-smartgraph-using-arangosh class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>In contrast to General Graphs we have to add more options when creating the
SmartGraph. The two options <code>smartGraphAttribute</code> and <code>numberOfShards</code> are
required and cannot be modified later.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>graph_module</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s2>&#34;@arangodb/smart-graph&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>graph</span> <span class=o>=</span> <span class=nx>graph_module</span><span class=p>.</span><span class=nx>_create</span><span class=p>(</span><span class=s2>&#34;myGraph&#34;</span><span class=p>,</span> <span class=p>[],</span> <span class=p>[],</span> <span class=p>{</span><span class=nx>smartGraphAttribute</span><span class=o>:</span> <span class=s2>&#34;region&#34;</span><span class=p>,</span> <span class=nx>numberOfShards</span><span class=o>:</span> <span class=mi>9</span><span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nx>graph</span><span class=p>;</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>{[</span><span class=nx>SmartGraph</span><span class=p>]</span> 
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div></div><br><h2 id=create-a-disjoint-smartgraph-using-arangosh>Create a Disjoint SmartGraph using <em>arangosh</em> <a href=/3.11/graphs/smartgraphs/getting-started/#create-a-disjoint-smartgraph-using-arangosh class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>In contrast to regular SmartGraphs we have to add one option when creating the
graph. The boolean option <code>isDisjoint</code> is required, needs to be set to <code>true</code>
and cannot be modified later.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>graph_module</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s2>&#34;@arangodb/smart-graph&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>graph</span> <span class=o>=</span> <span class=nx>graph_module</span><span class=p>.</span><span class=nx>_create</span><span class=p>(</span><span class=s2>&#34;myGraph&#34;</span><span class=p>,</span> <span class=p>[],</span> <span class=p>[],</span> <span class=p>{</span><span class=nx>smartGraphAttribute</span><span class=o>:</span> <span class=s2>&#34;region&#34;</span><span class=p>,</span> <span class=nx>numberOfShards</span><span class=o>:</span> <span class=mi>9</span><span class=p>,</span> <span class=nx>isDisjoint</span><span class=o>:</span> <span class=kc>true</span><span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nx>graph</span><span class=p>;</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>{[</span><span class=nx>SmartGraph</span><span class=p>]</span> 
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div></div><br><h2 id=add-vertex-collections>Add vertex collections <a href=/3.11/graphs/smartgraphs/getting-started/#add-vertex-collections class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>This is analogous to General Graphs. Unlike with General Graphs, the
<strong>collections must not exist</strong> when creating the SmartGraph. The SmartGraph
module will create them for you automatically to set up the sharding for all
these collections correctly. If you create collections via the SmartGraph
module and remove them from the graph definition, then you may re-add them
without trouble however, as they will have the correct sharding.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>graph</span><span class=p>.</span><span class=nx>_addVertexCollection</span><span class=p>(</span><span class=s2>&#34;shop&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>graph</span><span class=p>.</span><span class=nx>_addVertexCollection</span><span class=p>(</span><span class=s2>&#34;customer&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>graph</span><span class=p>.</span><span class=nx>_addVertexCollection</span><span class=p>(</span><span class=s2>&#34;pet&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>graph</span> <span class=o>=</span> <span class=nx>graph_module</span><span class=p>.</span><span class=nx>_graph</span><span class=p>(</span><span class=s2>&#34;myGraph&#34;</span><span class=p>);</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>{[</span><span class=nx>SmartGraph</span><span class=p>]</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;customer&#34;</span> <span class=o>:</span> <span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>8011066</span><span class=p>,</span> <span class=s2>&#34;customer&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nb>document</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)],</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;pet&#34;</span> <span class=o>:</span> <span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>8011077</span><span class=p>,</span> <span class=s2>&#34;pet&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nb>document</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)],</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;shop&#34;</span> <span class=o>:</span> <span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>8011055</span><span class=p>,</span> <span class=s2>&#34;shop&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nb>document</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)]</span> 
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div></div><br><h2 id=define-relations-on-the-graph>Define relations on the Graph <a href=/3.11/graphs/smartgraphs/getting-started/#define-relations-on-the-graph class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>Adding edge collections works the same as with General Graphs, but again, the
collections are created by the SmartGraph module to set up sharding correctly
so they must not exist when creating the SmartGraph (unless they have the
correct sharding already).</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>rel</span> <span class=o>=</span> <span class=nx>graph_module</span><span class=p>.</span><span class=nx>_relation</span><span class=p>(</span><span class=s2>&#34;isCustomer&#34;</span><span class=p>,</span> <span class=p>[</span><span class=s2>&#34;shop&#34;</span><span class=p>],</span> <span class=p>[</span><span class=s2>&#34;customer&#34;</span><span class=p>]);</span>
</span></span><span class=line><span class=cl><span class=nx>graph</span><span class=p>.</span><span class=nx>_extendEdgeDefinitions</span><span class=p>(</span><span class=nx>rel</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>graph</span> <span class=o>=</span> <span class=nx>graph_module</span><span class=p>.</span><span class=nx>_graph</span><span class=p>(</span><span class=s2>&#34;myGraph&#34;</span><span class=p>);</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>{[</span><span class=nx>SmartGraph</span><span class=p>]</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;isCustomer&#34;</span> <span class=o>:</span> <span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>8011132</span><span class=p>,</span> <span class=s2>&#34;isCustomer&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nx>edge</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)],</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;shop&#34;</span> <span class=o>:</span> <span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>8011098</span><span class=p>,</span> <span class=s2>&#34;shop&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nb>document</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)],</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;customer&#34;</span> <span class=o>:</span> <span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>8011109</span><span class=p>,</span> <span class=s2>&#34;customer&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nb>document</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)],</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;pet&#34;</span> <span class=o>:</span> <span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>8011120</span><span class=p>,</span> <span class=s2>&#34;pet&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nb>document</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)]</span> 
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div></div><br><h2 id=using-satellitecollections-in-smartgraphs>Using SatelliteCollections in SmartGraphs <a href=/3.11/graphs/smartgraphs/getting-started/#using-satellitecollections-in-smartgraphs class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>When creating a collection, you can decide whether it&rsquo;s a SatelliteCollection
or not. For example, a vertex collection can be satellite as well.
SatelliteCollections don&rsquo;t require sharding as the data will be distributed
globally on all DB-Servers. The <code>smartGraphAttribute</code> is also not required.</p><h3 id=create-a-smartgraph-using-satellitecollections>Create a SmartGraph using SatelliteCollections <a href=/3.11/graphs/smartgraphs/getting-started/#create-a-smartgraph-using-satellitecollections class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>In addition to the attributes you would set to create a SmartGraph, there is an
additional attribute <code>satellites</code> you can optionally set. It needs to be an array of
one or more collection names. These names can be used in edge definitions
(relations) and these collections will be created as SatelliteCollections.
However, all vertex collections on one side of the relation have to be of
the same type - either all satellite or all smart. This is because <code>_from</code>
and <code>_to</code> can have different types based on the sharding pattern.</p><p>In this example, both vertex collections are created as SatelliteCollections.</p><div class="box notices cstyle info"><div class=box-content-container><div class=box-content><i class="fas fa-info-circle"></i><div class=box-text>When providing a satellite collection that is not used in a relation,
it will not be created. If you create the collection in a following
request, only then the option will count.</div></div></div></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>graph_module</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s2>&#34;@arangodb/smart-graph&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>rel</span> <span class=o>=</span> <span class=nx>graph_module</span><span class=p>.</span><span class=nx>_relation</span><span class=p>(</span><span class=s2>&#34;isCustomer&#34;</span><span class=p>,</span> <span class=s2>&#34;shop&#34;</span><span class=p>,</span> <span class=s2>&#34;customer&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>graph</span> <span class=o>=</span> <span class=nx>graph_module</span><span class=p>.</span><span class=nx>_create</span><span class=p>(</span><span class=s2>&#34;myGraph&#34;</span><span class=p>,</span> <span class=p>[</span><span class=nx>rel</span><span class=p>],</span> <span class=p>[],</span> <span class=p>{</span><span class=nx>satellites</span><span class=o>:</span> <span class=p>[</span><span class=s2>&#34;shop&#34;</span><span class=p>,</span> <span class=s2>&#34;customer&#34;</span><span class=p>],</span> <span class=nx>smartGraphAttribute</span><span class=o>:</span> <span class=s2>&#34;region&#34;</span><span class=p>,</span> <span class=nx>numberOfShards</span><span class=o>:</span> <span class=mi>9</span><span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nx>graph</span><span class=p>;</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>{[</span><span class=nx>SmartGraph</span><span class=p>]</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;isCustomer&#34;</span> <span class=o>:</span> <span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>8011176</span><span class=p>,</span> <span class=s2>&#34;isCustomer&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nx>edge</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)],</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;shop&#34;</span> <span class=o>:</span> <span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>8011174</span><span class=p>,</span> <span class=s2>&#34;shop&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nb>document</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)],</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;customer&#34;</span> <span class=o>:</span> <span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>8011175</span><span class=p>,</span> <span class=s2>&#34;customer&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nb>document</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)]</span> 
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div></div><br><h3 id=create-a-disjoint-smartgraph-using-satellitecollections>Create a Disjoint SmartGraph using SatelliteCollections <a href=/3.11/graphs/smartgraphs/getting-started/#create-a-disjoint-smartgraph-using-satellitecollections class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>The option <code>isDisjoint</code> needs to be set to <code>true</code> in addition to the other
options for a SmartGraph using SatelliteCollections. Only the <code>shop</code> vertex collection is created
as a SatelliteCollection in this example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>graph_module</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s2>&#34;@arangodb/smart-graph&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>rel</span> <span class=o>=</span> <span class=nx>graph_module</span><span class=p>.</span><span class=nx>_relation</span><span class=p>(</span><span class=s2>&#34;isCustomer&#34;</span><span class=p>,</span> <span class=s2>&#34;shop&#34;</span><span class=p>,</span> <span class=s2>&#34;customer&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>graph</span> <span class=o>=</span> <span class=nx>graph_module</span><span class=p>.</span><span class=nx>_create</span><span class=p>(</span><span class=s2>&#34;myGraph&#34;</span><span class=p>,</span> <span class=p>[</span><span class=nx>rel</span><span class=p>],</span> <span class=p>[],</span> <span class=p>{</span><span class=nx>satellites</span><span class=o>:</span> <span class=p>[</span><span class=s2>&#34;shop&#34;</span><span class=p>],</span> <span class=nx>smartGraphAttribute</span><span class=o>:</span> <span class=s2>&#34;region&#34;</span><span class=p>,</span> <span class=nx>isDisjoint</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span> <span class=nx>numberOfShards</span><span class=o>:</span> <span class=mi>9</span><span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nx>graph</span><span class=p>;</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>{[</span><span class=nx>SmartGraph</span><span class=p>]</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;isCustomer&#34;</span> <span class=o>:</span> <span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>8011199</span><span class=p>,</span> <span class=s2>&#34;isCustomer&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nx>edge</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)],</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;shop&#34;</span> <span class=o>:</span> <span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>8011198</span><span class=p>,</span> <span class=s2>&#34;shop&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nb>document</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)],</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;customer&#34;</span> <span class=o>:</span> <span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>8011188</span><span class=p>,</span> <span class=s2>&#34;customer&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nb>document</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)]</span> 
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div></div><br><nav class=pagination><span class=prev><a class="nav nav-prev link" href=/3.11/graphs/smartgraphs/><i class="fas fa-chevron-left fa-fw"></i><p>SmartGraphs</p></a></span><span class=next><a class="nav nav-next link" href=/3.11/graphs/smartgraphs/management/><p>Management</p><i class="fas fa-chevron-right fa-fw"></i></a></span></nav></article><div class=toc-container><a class=edit-page aria-label href=https://github.com/arangodb/docs-hugo/edit/main/site/content/3.11/graphs/smartgraphs/getting-started.md target=_blank><i class="fab fa-fw fa-github edit-page-icon"></i></a><div class=toc><div class=toc-content><div class=toc-header><p>On this page</p></div><nav id=TableOfContents><div class=level-2><a href=#create-a-smartgraph-using-the-web-interface>Create a SmartGraph using the web interface</a></div><div class=level-2><a href=#create-a-smartgraph-using-arangosh>Create a SmartGraph using <em>arangosh</em></a></div><div class=level-2><a href=#create-a-disjoint-smartgraph-using-arangosh>Create a Disjoint SmartGraph using <em>arangosh</em></a></div><div class=level-2><a href=#add-vertex-collections>Add vertex collections</a></div><div class=level-2><a href=#define-relations-on-the-graph>Define relations on the Graph</a></div><div class=level-2><a href=#using-satellitecollections-in-smartgraphs>Using SatelliteCollections in SmartGraphs</a></div><div class=level-3><a href=#create-a-smartgraph-using-satellitecollections>Create a SmartGraph using SatelliteCollections</a></div><div class=level-3><a href=#create-a-disjoint-smartgraph-using-satellitecollections>Create a Disjoint SmartGraph using SatelliteCollections</a></div></nav></div></div></div></div></div></section></section></div><button class="back-to-top hidden" onclick=goToTop(event) href=#><i class="fa fa-arrow-up"></i></button><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3>
<script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3></script>
<script type=text/javascript>window.setupDocSearch=function(e){if(!window.docsearch)return;docsearch({appId:"OK3ZBQ5982",apiKey:"500c85ccecb335d507fe4449aed12e1d",indexName:"arangodbdocs",insights:!0,container:"#searchbox",debug:!1,maxResultsPerGroup:10,searchParameters:{facetFilters:[`version:${e}`]}})}</script></body></html>