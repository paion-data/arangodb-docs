<!doctype html><html lang=en><head><link href=//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css rel=stylesheet><link href=//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css rel=stylesheet><link href=/css/fontawesome-all.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fontawesome-all.min.css rel=stylesheet></noscript><link href=/css/featherlight.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/featherlight.min.css rel=stylesheet></noscript><link href=/css/nucleus.css rel=stylesheet><link href=/css/fonts.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fonts.css rel=stylesheet></noscript><link href=/css/theme.css rel=stylesheet><link href=/css/theme-relearn-light.css rel=stylesheet id=variant-style><link href=/css/print.css rel=stylesheet media=print><script src=/js/variant.js?1743774193></script>
<script>var root_url="/",baseUriFull,baseUri=root_url.replace(/\/$/,"");window.T_Copy_to_clipboard="",window.T_Copied_to_clipboard="",window.T_Copy_link_to_clipboard="",window.T_Link_copied_to_clipboard="",baseUriFull="http://localhost/",window.variants&&variants.init(["relearn-light"])</script><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.119.0"><meta itemprop=description property="description" content="A summary of the changes to the HTTP API and other interfaces that are relevant for developers, like maintainers of drivers and integrations for ArangoDB"><meta property="og:url" content="http://localhost/3.12/release-notes/version-3.10/api-changes-in-3-10/"><meta property="og:title" content="API Changes in ArangoDB 3.10"><meta property="og:type" content="website"><meta property="og:description" content="A summary of the changes to the HTTP API and other interfaces that are relevant for developers, like maintainers of drivers and integrations for ArangoDB"><meta name=docsearch:version content="3.12"><title>API Changes in ArangoDB 3.10 | ArangoDB Documentation</title><link href=/images/favicon.png rel=icon type=image/png><script src=/js/jquery.min.js></script>
<script src=/js/clipboard.min.js?1743774193 defer></script>
<script src=/js/featherlight.min.js?1743774193 defer></script>
<script>var versions=[{alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"},{alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"},{alias:"3.11",deprecated:!1,name:"3.11",version:"3.11.13"},{alias:"3.10",deprecated:!0,name:"3.10",version:"3.10.14"}]</script><script>var develVersion={alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"}</script><script>var stableVersion={alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"}</script><script src=/js/codeblocks.js?1743774193 defer></script>
<script src=/js/theme.js?1743774193 defer></script></head><body><noscript>You need to enable JavaScript to use the ArangoDB documentation.</noscript><div id=page-wrapper class=page_content_splash style=height:auto;opacity:0><section id=page-main><section class=page-container id=page-container><header id=header style="transition:.5s padding ease-out,.15s" class="zn_header_white header-splash-new nav-down header-splash-wrap header1"><div class=header-block-left><div class=mobile-menu-toggle><button id=sidebar-toggle-navigation onclick=showSidebarHandler()><svg width="1.33em" height="1.33em" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button></div><div class=version-logo-container><div class="logo-container hasinfocard_img arangodb-logo-large"><div class=logo><a href=https://www.arangodb.com/><img src=/images/logo_main.png alt=ArangoDB title></a></div></div><div class=arangodb-logo-small><a href=https://arangodb.com/><img alt="ArangoDB Logo" src=/images/ArangoDB_Logo_White_small.png></a></div></div></div><div class=container-right style=display:hidden></div><div class=search-and-version-container><a href=# class="home-link is-current" aria-label="Go to home page" onclick=goToHomepage(event)></a><div id=searchbox></div><script type=text/javascript>const SCRIPT_SRC="https://unpkg.com/@inkeep/widgets-embed@0.2.290/dist/embed.js";function loadAndInitializeInkeep(){if(document.querySelector(`script[src="${SCRIPT_SRC}]"`))return;const e=document.createElement("script");e.type="module",e.src=SCRIPT_SRC,e.onload=initializeInkeep,document.head.appendChild(e)}function initializeInkeep(){const e=Inkeep({integrationId:"clo4lx6jk0000s601cp21x2ok",apiKey:"13b4e56966a76e86c6ff359cd795ee6a0412f751d75d6383",organizationId:"org_HGBkkzGAa4KeGJGh",organizationDisplayName:"ArangoDB",primaryBrandColor:"#80a54d",stringReplacementRules:[{matchingRule:{ruleType:"Substring",string:"Arangograph"},replaceWith:"ArangoGraph"},{matchingRule:{ruleType:"Substring",string:"Aql"},replaceWith:"AQL"},{matchingRule:{ruleType:"Substring",string:"Arangodb"},replaceWith:"ArangoDB"}],customCardSettings:[{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arango.qubitpi.org"}},searchTabLabel:"Official Docs"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"developer.arangodb.com"}},searchTabLabel:"Developer Hub"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arangodb.com"}},searchTabLabel:"Home"}]}),t=e.embed({componentType:"ChatButton",properties:{stylesheetUrls:["/css/fonts.css"],fixedPositionXOffset:"52px",baseSettings:{theme:{primaryColors:{textColorOnPrimary:"white"},tokens:{fonts:{body:"'Inter'",heading:"'Inter'"},zIndex:{overlay:1e4,modal:11e3,popover:12e3,skipLink:13e3,toast:14e3,tooltip:15e3}}}},aiChatSettings:{botAvatarSrcUrl:"/images/ArangoDB_Logo_White_small.png",quickQuestions:["What can you do with AQL that is not feasible with SQL?","How do I search for objects within arrays?","Where can I deploy my ArangoDB instance?"],getHelpCallToActions:[{icon:{builtIn:"FaSlack"},name:"Slack",url:"https://arangodb-community.slack.com/"}]},searchSettings:{tabSettings:{isAllTabEnabled:!1,alwaysDisplayedTabs:["Official Docs","Developer Hub","Home"]}}}})}loadAndInitializeInkeep()</script><div class=version-selector><select id=arangodb-version onchange=changeVersion()><option value=3.13>3.13</option><option value=3.12>3.12</option><option value=3.11>3.11</option><option value=3.10>3.10</option><option value=3.9>3.9</option><option value=3.8>3.8</option></select></div></div></header><iframe src=/nav.html title=description id=menu-iframe class="menu-iframe active" style=opacity:0></iframe><div class=container-main><div class=row-main><nav id=breadcrumbs><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><meta itemprop=itemListOrder content="Descending"><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="3.12"><a itemprop=item class=link href=/3.12/><span itemprop=name class=breadcrumb-entry>3.12.4</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Release Notes"><a itemprop=item class=link href=/3.12/release-notes/><span itemprop=name class=breadcrumb-entry>Release Notes</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Version 3.10"><a itemprop=item class=link href=/3.12/release-notes/version-3.10/><span itemprop=name class=breadcrumb-entry>Version 3.10</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="API changes in 3.10"><a itemprop=item class=link href=/3.12/release-notes/version-3.10/api-changes-in-3-10/><span itemprop=name class=breadcrumb-entry>API changes in 3.10</span></a></li></ol></nav><article class=default><hgroup><h1>API Changes in ArangoDB 3.10</h1><p class=lead>A summary of the changes to the HTTP API and other interfaces that are relevant for developers, like maintainers of drivers and integrations for ArangoDB</p></hgroup><h2 id=http-restful-api>HTTP RESTful API <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#http-restful-api class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><h3 id=behavior-changes>Behavior changes <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#behavior-changes class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><h4 id=early-connections>Early connections <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#early-connections class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h4><p>The HTTP interface of <em>arangod</em> instances can now optionally be started earlier
during the startup process, so that ping probes from monitoring tools can
already be responded to when the instance has not fully started.</p><p>By default, the HTTP interface is opened at the same point during the startup
sequence as in previous versions, but it can optionally be opened earlier by
setting the new <code>--server.early-connections</code> startup option to <code>true</code>.</p><p>The following APIs can reply early with an HTTP 200 status:</p><ul><li><code>GET /_api/version</code> and <code>GET /_admin/version</code>:
These APIs return the server version number, but can also be used as a
lifeliness probe, to check if the instance is responding to incoming HTTP requests.</li><li><code>GET /_admin/status</code>:
This API returns information about the instance&rsquo;s status, now also including
recovery progress and information about which server feature is currently starting.</li></ul><p>See <a href=/3.12/develop/http-api/general-request-handling/#respond-to-liveliness-probes class=link>Respond to liveliness probes</a> for more details.</p><h4 id=validation-of-collections-in-named-graphs>Validation of collections in named graphs <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#validation-of-collections-in-named-graphs class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h4><p>The <code>/_api/gharial</code> endpoints for named graphs have changed:</p><ul><li><p>If you reference a vertex collection in the <code>_from</code> or <code>_to</code> attribute of an
edge that doesn&rsquo;t belong to the graph, an error with the number <code>1947</code> is
returned. The HTTP status code of such an <code>ERROR_GRAPH_REFERENCED_VERTEX_COLLECTION_NOT_USED</code>
error has been changed from <code>400</code> to <code>404</code>. This change aligns the behavior to
the similar <code>ERROR_GRAPH_EDGE_COLLECTION_NOT_USED</code> error (number <code>1930</code>).</p></li><li><p>Write operations now check if the specified vertex or edge collection is part
of the graph definition. If you try to create a vertex via
<code>POST /_api/gharial/{graph}/vertex/{collection}</code> but the <code>collection</code> doesn&rsquo;t
belong to the <code>graph</code>, then the <code>ERROR_GRAPH_REFERENCED_VERTEX_COLLECTION_NOT_USED</code>
error is returned. If you try to create an edge via
<code>POST /_api/gharial/{graph}/edge/{collection}</code> but the <code>collection</code> doesn&rsquo;t
belong to the <code>graph</code>, then the error is <code>ERROR_GRAPH_EDGE_COLLECTION_NOT_USED</code>.</p></li></ul><h4 id=validation-of-smartgraphattribute-in-smartgraphs>Validation of <code>smartGraphAttribute</code> in SmartGraphs <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#validation-of-smartgraphattribute-in-smartgraphs class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h4><p><small>Introduced in: v3.10.13</small></p><p>The attribute defined by the <code>smartGraphAttribute</code> graph property is not allowed to be
changed in the documents of SmartGraph vertex collections. This is now strictly enforced.
You must set the attribute when creating a document. Any attempt to modify or remove
the attribute afterward by update or replace operations now throws an error. Previously,
the <code>smartGraphAttribute</code> value was checked only when inserting documents into a
SmartGraph vertex collection, but not for update or replace operations.</p><p>The missing checks on update and replace operations allowed to retroactively
modify the value of the <code>smartGraphAttribute</code> for existing documents, which
could have led to problems when the data of such a SmartGraph vertex collection was
replicated to a new follower shard. On the new follower shard, the documents
went through the full validation and led to documents with modified
<code>smartGraphAttribute</code> values being rejected on the follower. This could have
led to follower shards not getting in sync.</p><p>Now, the value of the <code>smartGraphAttribute</code> is fully validated with every
insert, update, or replace operation, and every attempt to modify the value of
the <code>smartGraphAttribute</code> retroactively fails with the <code>4003</code> error,
<code>ERROR_KEY_MUST_BE_PREFIXED_WITH_SMART_GRAPH_ATTRIBUTE</code>.
Additionally, if upon insertion the <code>smartGraphAttribute</code> is missing for a
SmartGraph vertex, the error code is error <code>4001</code>, <code>ERROR_NO_SMART_GRAPH_ATTRIBUTE</code>.</p><p>To retroactively repair the data in any of the affected collections, it is
possible to update every (affected) document with the correct value of the
<code>smartGraphAttribute</code> via an AQL query as follows:</p><pre tabindex=0><code>FOR doc IN @@collection
  LET expected = SUBSTRING(doc._key, 0, FIND_FIRST(doc._key, &#39;:&#39;))
  LET actual = doc.@attr
  FILTER expected != actual
  UPDATE doc WITH {@attr: expected} IN @@collection
  COLLECT WITH COUNT INTO updated
  RETURN updated
</code></pre><p>This updates all documents with the correct (expected) value of the
<code>smartGraphAttribute</code> if it deviates from the expected value. The query
returns the number of updated documents as well.</p><p>The bind parameters necessary to run this query are:</p><ul><li><code>@@collection</code>: name of a SmartGraph vertex collection to be updated</li><li><code>@attr</code>: attribute name of the <code>smartGraphAttribute</code> of the collection</li></ul><h4 id=disabled-foxx-apis>Disabled Foxx APIs <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#disabled-foxx-apis class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h4><p><small>Introduced in: v3.10.5</small></p><p>A <code>--foxx.enable</code> startup option has been added to <em>arangod</em>. It defaults to <code>true</code>.
If the option is set to <code>false</code>, access to Foxx services is forbidden and is
responded with an HTTP <code>403 Forbidden</code> error. Access to the management APIs for
Foxx services are also disabled as if <code>--foxx.api false</code> is set manually.</p><h4 id=configurable-whitespace-in-metrics>Configurable whitespace in metrics <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#configurable-whitespace-in-metrics class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h4><p><small>Introduced in: v3.10.6</small></p><p>The output format of the <code>/_admin/metrics</code> and <code>/_admin/metrics/v2</code> endpoints
slightly changes for metrics with labels. By default, the metric label and value
are separated by a space for improved compatibility with some tools. This is
controlled by the new <code>--server.ensure-whitespace-metrics-format</code> startup option,
which is enabled by default from v3.10.6 onward. Example:</p><p>Enabled:</p><pre tabindex=0><code>arangodb_agency_cache_callback_number{role=&#34;SINGLE&#34;} 0
</code></pre><p>Disabled:</p><pre tabindex=0><code>arangodb_agency_cache_callback_number{role=&#34;SINGLE&#34;}0
</code></pre><h4 id=cursor-api>Cursor API <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#cursor-api class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h4><p><small>Introduced in: v3.9.11, v3.10.7</small></p><p>In AQL graph traversals (<code>POST /_api/cursor</code> endpoint), you can restrict the
vertex and edge collections in the traversal options like so:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>FOR</span> <span class=n>v</span><span class=p>,</span> <span class=n>e</span><span class=p>,</span> <span class=n>p</span> <span class=kr>IN</span> <span class=mf>1</span><span class=o>..</span><span class=mi>3</span> <span class=kr>OUTBOUND</span> <span class=s1>&#39;products/123&#39;</span> <span class=n>components</span>
</span></span><span class=line><span class=cl>  <span class=kp>OPTIONS</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>vertexCollections</span><span class=o>:</span> <span class=p>[</span> <span class=s2>&#34;bolts&#34;</span><span class=p>,</span> <span class=s2>&#34;screws&#34;</span> <span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=n>edgeCollections</span><span class=o>:</span> <span class=p>[</span> <span class=s2>&#34;productsToBolts&#34;</span><span class=p>,</span> <span class=s2>&#34;productsToScrews&#34;</span> <span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=kr>RETURN</span> <span class=n>v</span> 
</span></span></code></pre></div><p>If you specify collections that don&rsquo;t exist, queries now fail with
a &ldquo;collection or view not found&rdquo; error (code <code>1203</code> and HTTP status
<code>404 Not Found</code>). In previous versions, unknown vertex collections were ignored,
and the behavior for unknown edge collections was undefined.</p><p>Additionally, the collection types are now validated. If a document collection
or View is specified in <code>edgeCollections</code>, an error is raised
(code <code>1218</code> and HTTP status <code>400 Bad Request</code>).</p><p>Furthermore, it is now an error if you specify a vertex collection that is not
part of the specified named graph (code <code>1926</code> and HTTP status <code>404 Not Found</code>).
It is also an error if you specify an edge collection that is not part of the
named graph&rsquo;s definition or of the list of edge collections (code <code>1939</code> and
HTTP status <code>400 Bad Request</code>).</p><h4 id=document-api>Document API <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#document-api class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h4><p><small>Introduced in: v3.9.12, v3.10.9</small></p><p>Using the Document API for reading multiple documents used to return an error
if the request body was an empty array. Example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>&gt; curl -XPUT -d <span class=s1>&#39;[]&#39;</span> <span class=s1>&#39;http://localhost:8529/_api/document/coll?onlyget=true&#39;</span>
</span></span><span class=line><span class=cl><span class=o>{</span><span class=s2>&#34;code&#34;</span>:500,<span class=s2>&#34;error&#34;</span>:true,<span class=s2>&#34;errorMessage&#34;</span>:<span class=s2>&#34;internal error&#34;</span>,<span class=s2>&#34;errorNum&#34;</span>:4<span class=o>}</span>
</span></span></code></pre></div><p>Now, a request like this succeeds and returns an empty array as response.</p><h4 id=limit-to-the-number-of-databases-in-a-deployment>Limit to the number of databases in a deployment <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#limit-to-the-number-of-databases-in-a-deployment class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h4><p><small>Introduced in: v3.10.10</small></p><p>The new <code>--database.max-databases</code> startup option can cap the number of databases
and creating databases using the <code>POST /_api/database</code> endpoint can thus now fail
for this reason if your deployment is at or above the configured maximum. Example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;code&#34;</span><span class=p>:</span> <span class=mi>400</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;error&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;errorMessage&#34;</span><span class=p>:</span> <span class=s2>&#34;unable to create additional database because it would exceed the configured maximum number of databases (2)&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;errorNum&#34;</span><span class=p>:</span> <span class=mi>32</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=endpoint-return-value-changes>Endpoint return value changes <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#endpoint-return-value-changes class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><ul><li><p>Since ArangoDB 3.8, there have been two APIs for retrieving the metrics in two
different formats: <code>/_admin/metrics</code> and <code>/_admin/metrics/v2</code>.
The metrics API v1 (<code>/_admin/metrics</code>) was deprecated in 3.8 and the usage of
<code>/_admin/metrics/v2</code> was encouraged.</p><p>In ArangoDB 3.10, <code>/_admin/metrics</code> and <code>/_admin/metrics/v2</code> now behave
identically and return the same output in a fully Prometheus-compatible format.
The old metrics format is not available anymore.</p><p>For the metrics APIs at <code>/_admin/metrics</code> and <code>/_admin/metrics/v2</code>, unnecessary
spaces have been removed between the <code>}</code> delimiting the labels and the value of
the metric.</p></li><li><p>Changed the encoding of revision IDs returned by the below listed REST APIs.</p><p><small>Introduced in: v3.8.8, v3.9.4, v3.10.1</small></p><ul><li><code>GET /_api/collection/&lt;collection-name>/revision</code>: The revision ID was
previously returned as numeric value, and now it is returned as
a string value with either numeric encoding or HLC-encoding inside.</li><li><code>GET /_api/collection/&lt;collection-name>/checksum</code>: The revision ID in
the <code>revision</code> attribute was previously encoded as a numeric value
in single server, and as a string in cluster. This is now unified so
that the <code>revision</code> attribute always contains a string value with
either numeric encoding or HLC-encoding inside.</li></ul></li></ul><h3 id=endpoints-deprecated>Endpoints deprecated <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#endpoints-deprecated class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>The <code>GET /_admin/database/target-version</code> endpoint is deprecated in favor of the
more general version API with the endpoint <code>GET /_api/version</code>.
The endpoint will be removed in ArangoDB v3.12.</p><h3 id=endpoints-added>Endpoints added <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#endpoints-added class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><h4 id=optimizer-rules-for-aql-queries>Optimizer rules for AQL queries <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#optimizer-rules-for-aql-queries class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h4><p>Added the <code>GET /_api/query/rules</code> endpoint that returns the available
optimizer rules for AQL queries. It returns an array of objects that contain
the name of each available rule and its respective flags.</p><p>The JavaScript API was not extended, but you can make a request using a
low-level method in <em>arangosh</em>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>arango</span><span class=p>.</span><span class=nx>GET</span><span class=p>(</span><span class=s2>&#34;/_api/query/rules&#34;</span><span class=p>)</span></span></span></code></pre></div><h4 id=shard-rebalancing>Shard rebalancing <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#shard-rebalancing class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h4><p>Starting with version 3.10, new endpoints are added that allow you to perform
move shard operations and improve balance in the cluster.</p><ul><li><code>GET /_admin/cluster/rebalance</code></li><li><code>POST /_admin/cluster/rebalance</code></li><li><code>POST /_admin/cluster/rebalance_execute</code></li><li><code>PUT /_admin/cluster/rebalance</code></li></ul><p>For more information, see the <a href=/3.12/develop/http-api/cluster/#get-the-current-cluster-imbalance class=link>Cluster</a>
section of the HTTP API documentation.</p><h4 id=maintenance-mode-for-db-servers>Maintenance mode for DB-Servers <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#maintenance-mode-for-db-servers class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h4><p><small>Introduced in: v3.10.1</small></p><p>For rolling upgrades or rolling restarts, DB-Servers can now be put into
maintenance mode, so that no attempts are made to re-distribute the data in a
cluster for such planned events. DB-Servers in maintenance mode are not
considered viable failover targets because they are likely restarted soon.</p><p>To query the maintenance status of a DB-Server, use this new endpoint:</p><p><code>GET /_admin/cluster/maintenance/&lt;DB-Server-ID></code></p><p>An example reply of a DB-Server that is in maintenance mode:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;error&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;code&#34;</span><span class=p>:</span> <span class=mi>200</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;result&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;Mode&#34;</span><span class=p>:</span> <span class=s2>&#34;maintenance&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;Until&#34;</span><span class=p>:</span> <span class=s2>&#34;2022-10-26T06:14:23Z&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>If the DB-Server is not in maintenance mode, then the <code>result</code> attribute is
omitted:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;error&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;code&#34;</span><span class=p>:</span> <span class=mi>200</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>To put a DB-Server into maintenance mode, use this new endpoint:</p><p><code>PUT /_admin/cluster/maintenance/&lt;DB-Server-ID></code></p><p>The payload of the request needs to be as follows, with the <code>timeout</code> in seconds:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;mode&#34;</span><span class=p>:</span> <span class=s2>&#34;maintenance&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;timeout&#34;</span><span class=p>:</span> <span class=mi>360</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>To turn the maintenance mode off, set <code>mode</code> to <code>"normal"</code> instead, and omit the
<code>timeout</code> attribute or set it to <code>0</code>.</p><p>You can send another request when the DB-Server is already in maintenance mode
to extend the timeout.</p><p>The maintenance mode ends automatically after the defined timeout.</p><p>Also see the <a href=/3.12/develop/http-api/cluster/#get-the-maintenance-status-of-a-db-server class=link>HTTP interface for cluster maintenance</a>.</p><h4 id=shard-usage-metrics>Shard usage metrics <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#shard-usage-metrics class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h4><p><small>Introduced in: v3.10.13</small></p><p>With <code>GET /_admin/usage-metrics</code> you can retrieve detailed shard usage metrics on
DB-Servers.</p><p>These metrics can be enabled by setting the <code>--server.export-shard-usage-metrics</code>
startup option to <code>enabled-per-shard</code> to make DB-Servers collect per-shard
usage metrics, or to <code>enabled-per-shard-per-user</code> to make DB-Servers collect
usage metrics per shard and per user whenever a shard is accessed.</p><p>For more information, see the <a href=/3.12/develop/http-api/monitoring/metrics/#get-usage-metrics class=link>HTTP API description</a>
and <a href=/3.12/release-notes/version-3.10/whats-new-in-3-10/#monitoring-per-collectiondatabaseuser class=link>Monitoring per collection/database/user</a>.</p><h3 id=endpoints-augmented>Endpoints augmented <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#endpoints-augmented class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><h4 id=enterprisegraphs-enterprise-edition>EnterpriseGraphs (Enterprise Edition) <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#enterprisegraphs-enterprise-edition class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h4><p>You can create EnterpriseGraphs by setting <code>isSmart</code> to <code>true</code>, the <code>numberOfShards</code>,
but no <code>smartGraphAttribute</code>. You can optionally specify which collections shall
be <code>satellites</code>. There are no new attributes for creating this type of graph.</p><p>The vertex collections of an EnterpriseGraph have a new <code>shardingStrategy</code> value
of <code>enterprise-hex-smart-vertex</code>.</p><p>Also see <a href=/3.12/graphs/enterprisegraphs/ class=link>EnterpriseGraphs</a>.</p><h4 id=inverted-indexes>Inverted Indexes <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#inverted-indexes class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h4><p>The <code>/_api/index</code> endpoints support a new <code>inverted</code> index type.</p><p>Options for creating an index (<code>POST /_api/index</code>):</p><ul><li><code>type</code> (string): needs to be set to <code>"inverted"</code></li><li><code>name</code> (string, <em>optional</em>)</li><li><code>fields</code> (array): required unless the top-level <code>includeAllFields</code> option is
set to <code>true</code>. The array elements can be a mix of strings and objects:<ul><li><code>name</code> (string, <em>required</em>): an attribute path. Passing a string instead of
an object is the same as passing an object with this name attribute</li><li><code>analyzer</code> (string, <em>optional</em>): default: the value defined by the top-level
<code>analyzer</code> option</li><li><code>features</code> (array, <em>optional</em>): an array of strings, possible values:
<code>"frequency"</code>, <code>"norm"</code>, <code>"position"</code>, <code>"offset"</code>. Default: the features as
defined by the Analyzer itself, or inherited from the top-level <code>features</code>
option if the <code>analyzer</code> option adjacent to this option is not set</li><li><code>includeAllFields</code> (boolean, <em>optional</em>): default: <code>false</code></li><li><code>searchField</code> (boolean, <em>optional</em>): default: the value defined by the
top-level <code>searchField</code> option</li><li><code>trackListPositions</code> (boolean, <em>optional</em>): default: the value of the
top-level <code>trackListPositions</code> option</li><li><code>cache</code> (boolean, <em>optional</em>): default: the value of the top-level <code>cache</code>
option (introduced in v3.10.2, Enterprise Edition only)</li><li><code>nested</code> (array, <em>optional</em>): Enterprise Edition only.
The array elements can be a mix of strings and objects:<ul><li><code>name</code> (string, <em>required</em>): an attribute path. Passing a string instead
of an object is the same as passing an object with this name attribute</li><li><code>analyzer</code> (string, <em>optional</em>): default: the value defined by the parent
field, or the top-level <code>analyzer</code> option</li><li><code>features</code> (array, <em>optional</em>): an array of strings, possible values:
<code>"frequency"</code>, <code>"norm"</code>, <code>"position"</code>, <code>"offset"</code>. Default: the features as
defined by the Analyzer itself, or inherited from the parent field&rsquo;s or
top-level <code>features</code> option if no <code>analyzer</code> option is set at a deeper
level, closer to this option</li><li><code>searchField</code> (boolean, <em>optional</em>): default: the value defined by the
top-level <code>searchField</code> option</li><li><code>nested</code> (array, <em>optional</em>): can be used recursively. See <code>nested</code> above</li></ul></li></ul></li><li><code>searchField</code> (boolean, <em>optional</em>): default: <code>false</code></li><li><code>cache</code> (boolean, <em>optional</em>): default: <code>false</code>
(introduced in v3.10.2, Enterprise Edition only)</li><li><code>storedValues</code> (array, <em>optional</em>): an array of objects (or an array of arrays
of strings as shorthand, or also an array of strings from v3.10.3 on):<ul><li><code>fields</code> (array, <em>required</em>): an array of strings</li><li><code>compression</code> (string, <em>optional</em>): possible values: <code>"lz4"</code>, <code>"none"</code>.
Default: <code>"lz"</code></li><li><code>cache</code> (boolean, <em>optional</em>): default: <code>false</code>
(introduced in v3.10.2, Enterprise Edition only)</li></ul></li><li><code>primarySort</code> (object, <em>optional</em>)<ul><li><code>fields</code> (array, <em>required</em>): an array of objects:<ul><li><code>field</code> (string, <em>required</em>)</li><li><code>direction</code> (string, <em>required</em>): possible values: <code>"asc"</code>, <code>"desc"</code></li></ul></li><li><code>compression</code> (string, <em>optional</em>): possible values: <code>"lz4"</code>, <code>"none"</code>.
Default: <code>"lz4"</code></li><li><code>cache</code> (boolean, <em>optional</em>): default: <code>false</code>
(introduced in v3.10.2, Enterprise Edition only)</li></ul></li><li><code>primaryKeyCache</code> (boolean, <em>optional</em>): default: <code>false</code>
(introduced in v3.10.2, Enterprise Edition only)</li><li><code>analyzer</code> (string, <em>optional</em>): default: <code>identity</code></li><li><code>features</code> (array, <em>optional</em>): an array of strings, possible values:
<code>"frequency"</code>, <code>"norm"</code>, <code>"position"</code>, <code>"offset"</code>. Default: the features as
defined by the Analyzer itself</li><li><code>includeAllFields</code> (boolean, <em>optional</em>): default: <code>false</code></li><li><code>trackListPositions</code> (boolean, <em>optional</em>): default: <code>false</code></li><li><code>parallelism</code> (integer, <em>optional</em>): default: <code>2</code></li><li><code>inBackground</code> (boolean, <em>optional</em>)</li><li><code>cleanupIntervalStep</code> (integer, <em>optional</em>): default: <code>2</code></li><li><code>commitIntervalMsec</code> (integer, <em>optional</em>): default: <code>1000</code></li><li><code>consolidationIntervalMsec</code> (integer, <em>optional</em>): default: <code>1000</code></li><li><code>consolidationPolicy</code> (object, <em>optional</em>):<ul><li><code>type</code> (string, <em>optional</em>): possible values: <code>"tier"</code>. Default: <code>"tier"</code></li><li><code>segmentsBytesFloor</code> (integer, <em>optional</em>): default: <code>2097152</code></li><li><code>segmentsBytesMax</code> (integer, <em>optional</em>): default: <code>5368709120</code></li><li><code>segmentsMax</code> (integer, <em>optional</em>): default: <code>10</code></li><li><code>segmentsMin</code> (integer, <em>optional</em>): default: <code>1</code></li><li><code>minScore</code>: (integer, <em>optional</em>): default: <code>0</code></li></ul></li><li><code>writebufferIdle</code> (integer, <em>optional</em>): default: <code>64</code></li><li><code>writebufferActive</code> (integer, <em>optional</em>): default: <code>0</code></li><li><code>writebufferSizeMax</code> (integer, <em>optional</em>): default: <code>33554432</code></li></ul><p>Index definition returned by index endpoints:</p><ul><li><code>id</code> (string)</li><li><code>isNewlyCreated</code> (boolean)</li><li><code>unique</code> (boolean): <code>false</code></li><li><code>sparse</code> (boolean): <code>true</code></li><li><code>version</code> (integer)</li><li><code>code</code> (integer)</li><li><code>type</code> (string): <code>"inverted"</code></li><li><code>name</code> (string)</li><li><code>fields</code> (array): array of objects:<ul><li><code>name</code> (string)</li><li><code>analyzer</code> (string): default: omitted</li><li><code>features</code> (array): an array of strings, possible values:
<code>"frequency"</code>, <code>"norm"</code>, <code>"position"</code>, <code>"offset"</code>. Default: omitted</li><li><code>includeAllFields</code> (boolean): default: omitted</li><li><code>searchField</code> (boolean): default: the value defined by the top-level
<code>searchField</code> option</li><li><code>trackListPositions</code> (boolean): default: omitted</li><li><code>cache</code> (boolean): default: omitted
(introduced in v3.10.2, Enterprise Edition only)</li><li><code>nested</code> (array): default: omitted. Enterprise Edition only. An array of objects:<ul><li><code>name</code> (string)</li><li><code>analyzer</code> (string), default: omitted</li><li><code>features</code> (array): an array of strings, possible values:
<code>"frequency"</code>, <code>"norm"</code>, <code>"position"</code>, <code>"offset"</code>. Default: the features
as defined by the Analyzer itself</li><li><code>searchField</code> (boolean): default: the value defined by the top-level
<code>searchField</code> option</li></ul></li></ul></li><li><code>searchField</code> (boolean): default: <code>false</code></li><li><code>cache</code> (boolean): default: omitted
(introduced in v3.10.2, Enterprise Edition only)</li><li><code>storedValues</code> (array): default: <code>[]</code>. An array of objects:<ul><li><code>fields</code> (array): an array of strings</li><li><code>compression</code> (string): possible values: <code>"lz4"</code>, <code>"none"</code>.
Default: <code>"lz"</code></li><li><code>cache</code> (boolean): default: omitted
(introduced in v3.10.2, Enterprise Edition only)</li></ul></li><li><code>primarySort</code> (object)<ul><li><code>fields</code> (array): default: <code>[]</code>. An array of objects:<ul><li><code>field</code> (string)</li><li><code>direction</code> (string): possible values: <code>"asc"</code>, <code>"desc"</code></li></ul></li><li><code>compression</code> (string): possible values: <code>"lz4"</code>, <code>"none"</code>.
Default: <code>"lz4"</code></li><li><code>cache</code> (boolean): default: omitted
(introduced in v3.10.2, Enterprise Edition only)</li></ul></li><li><code>analyzer</code> (string): default: <code>identity</code></li><li><code>features</code> (array): default: the features as defined by the Analyzer itself</li><li><code>includeAllFields</code> (boolean): default: <code>false</code></li><li><code>trackListPositions</code> (boolean): default: <code>false</code></li><li><code>cleanupIntervalStep</code> (integer): default: <code>2</code></li><li><code>commitIntervalMsec</code> (integer): default: <code>1000</code></li><li><code>consolidationIntervalMsec</code> (integer): default: <code>1000</code></li><li><code>consolidationPolicy</code> (object):<ul><li><code>type</code> (string): possible values: <code>"tier"</code>. Default: <code>"tier"</code></li><li><code>segmentsBytesFloor</code> (integer): default: <code>2097152</code></li><li><code>segmentsBytesMax</code> (integer): default: <code>5368709120</code></li><li><code>segmentsMax</code> (integer): default: <code>10</code></li><li><code>segmentsMin</code> (integer): default: <code>1</code></li><li><code>minScore</code>: (integer): default: <code>0</code></li></ul></li><li><code>writebufferIdle</code> (integer): default: <code>64</code></li><li><code>writebufferActive</code> (integer): default: <code>0</code></li><li><code>writebufferSizeMax</code> (integer): default: <code>33554432</code></li></ul><p>Also see the <a href=/3.12/develop/http-api/indexes/inverted/ class=link>HTTP API documentation</a>.</p><h4 id=search-alias-views><code>search-alias</code> Views <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#search-alias-views class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h4><p>The <code>/_api/view</code> endpoints support a new <code>search-alias</code> type.</p><p>Options for creating an <code>search-alias</code> View (<code>POST /_api/view</code>):</p><ul><li><code>name</code> (string, <em>required</em>)</li><li><code>type</code> (string, <em>required</em>): needs to be set to <code>"search-alias"</code></li><li><code>indexes</code> (array, <em>optional</em>): default: <code>[]</code>. An array of objects:<ul><li><code>collection</code> (string, <em>required</em>)</li><li><code>index</code> (string, <em>required</em>)</li></ul></li></ul><p>Options for partially changing properties (<code>PATCH /_api/view/&lt;view>/properties</code>),
to add or remove inverted indexes from the View definition:</p><ul><li><code>indexes</code> (array, <em>optional</em>): default: <code>[]</code>. An array of objects:<ul><li><code>collection</code> (string, <em>required</em>)</li><li><code>index</code> (string, <em>required</em>)</li><li><code>operation</code> (string, <em>optional</em>): possible values: <code>"add"</code> and <code>"del"</code>.
Default: <code>"add"</code></li></ul></li></ul><p>View definition returned by View endpoints:</p><ul><li><code>name</code> (string)</li><li><code>type</code> (string): <code>"search-alias"</code></li><li><code>indexes</code> (array): default: <code>[]</code>. An array of objects:<ul><li><code>collection</code> (string)</li><li><code>index</code> (string)</li></ul></li></ul><p>Also see the <a href=/3.12/develop/http-api/views/search-alias-views/ class=link>HTTP API documentation</a>.</p><h4 id=computed-values>Computed Values <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#computed-values class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h4><p>The <a href=/3.12/concepts/data-structure/documents/computed-values/ class=link>Computed Values</a> feature
extends the following endpoints with a new <code>computedValues</code> collection property
that you can read or write to manage the computed value definitions:</p><ul><li>Create a collection (<code>POST /_api/collection</code>)</li><li>Read the properties of a collection (<code>GET /_api/collection/{collection-name}/properties</code>)</li><li>Change the properties of a collection (<code>PUT /_api/collection/{collection-name}/properties</code>)</li></ul><p>The <code>computedValues</code> attribute is either <code>null</code> or an array of objects with the
following attributes:</p><ul><li><code>name</code> (string, <em>required</em>)</li><li><code>expression</code> (string, <em>required</em>)</li><li><code>overwrite</code> (boolean, <em>required</em>)</li><li><code>computeOn</code> (array of strings, <em>optional</em>, default: <code>["insert","update","replace"]</code>)</li><li><code>keepNull</code> (boolean, <em>optional</em>, default: <code>true</code>)</li><li><code>failOnWarning</code> (boolean, <em>optional</em>, default: <code>false</code>)</li></ul><h4 id=nested-search-enterprise-edition>Nested search (Enterprise Edition) <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#nested-search-enterprise-edition class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h4><p>The following endpoints accepts a new, optional link property called <code>nested</code>
for Views of type <code>arangosearch</code> in the Enterprise Edition:</p><ul><li><code>POST /_api/view</code></li><li><code>PUT /_api/view/{view-name}/properties</code></li><li><code>PATCH /_api/view/{view-name}/properties</code></li></ul><p>It is an object and similar to the existing <code>fields</code> property. However, it
cannot be used at the top-level of the link properties. It needs to have a
parent field (<code>"fields": { "&lt;field>": { "nested": { ... } } }</code>). It can be
nested, however (<code>"nested": { "&lt;field>": { "nested": { ... } } }</code>).</p><p>The <code>GET /_api/view/{view-name}/properties</code> endpoint may return link properties
including the new <code>nested</code> property.</p><p>For nested search with inverted indexes (and indirectly with <code>search-alias</code> Views),
see the <code>nested</code> property supported by <a href=#inverted-indexes class=link>inverted indexes</a>.</p><h4 id=offset-analyzer-feature><code>offset</code> Analyzer feature <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#offset-analyzer-feature class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h4><p>In the Enterprise Edition, the <code>POST /_api/analyzer</code> endpoint accepts <code>"offset"</code>
as a string in the <code>features</code> array attribute. The <code>/_api/analyzer</code> endpoints
may return this new value in the <code>features</code> attribute. It enables
search highlighting capabilities for Views.</p><h4 id=analyzer-types>Analyzer types <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#analyzer-types class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h4><p>The <code>/_api/analyzer</code> endpoint supports new Analyzer types in the
Enterprise Edition:</p><ul><li><p><a href=/3.12/index-and-search/analyzers/#minhash class=link><code>minhash</code></a>:
It has two properties, <code>analyzer</code> (object) and <code>numHashes</code> (number).
The <code>analyzer</code> object is an Analyzer-like definition with a <code>type</code> (string) and
a <code>properties</code> attribute (object). The properties depend on the Analyzer type.</p></li><li><p><a href=/3.12/index-and-search/analyzers/#classification class=link><code>classification</code></a> (experimental):
It has three properties, <code>model_location</code> (string), <code>top_k</code> (number, optional,
default: <code>1</code>), and <code>threshold</code> (number, optional, default: <code>0.99</code>).</p></li><li><p><a href=/3.12/index-and-search/analyzers/#nearest_neighbors class=link><code>nearest_neighbors</code></a> (experimental):
It has two properties, <code>model_location</code> (string) and <code>top_k</code> (number, optional,
default: <code>1</code>).</p></li><li><p><a href=/3.12/index-and-search/analyzers/#geo_s2 class=link><code>geo_s2</code></a> (introduced in v3.10.5):
Like the existing <code>geojson</code> Analyzer, but with an additional <code>format</code> property
that can be set to <code>"latLngDouble"</code> (default), <code>"latLngInt"</code>, or <code>"s2Point"</code>.</p></li></ul><h4 id=geojson-analyzer><code>geojson</code> Analyzer <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#geojson-analyzer class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h4><p><small>Introduced in: v3.10.5</small></p><p>Analyzers of the <code>geojson</code> type have a new <code>legacy</code> property. The default is <code>false</code>.</p><p>This option controls how GeoJSON Polygons are interpreted.
See the <a href=/3.12/index-and-search/analyzers/#geojson class=link><code>geojson</code> Analyzer</a>.</p><h4 id=views-api>Views API <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#views-api class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h4><p>Views of the type <code>arangosearch</code> support new caching options in the
Enterprise Edition.</p><p><small>Introduced in: v3.9.5, v3.10.2</small></p><ul><li>A <code>cache</code> option for individual View links or fields (boolean, default: <code>false</code>).</li><li>A <code>cache</code> option in the definition of a <code>storedValues</code> View property
(boolean, immutable, default: <code>false</code>).</li></ul><p><small>Introduced in: v3.9.6, v3.10.2</small></p><ul><li>A <code>primarySortCache</code> View property (boolean, immutable, default: <code>false</code>).</li><li>A <code>primaryKeyCache</code> View property (boolean, immutable, default: <code>false</code>).</li></ul><p>The <code>POST /_api/view</code> endpoint accepts these new options for <code>arangosearch</code>
Views, the <code>GET /_api/view/&lt;view-name>/properties</code> endpoint may return these
options, and you can change the <code>cache</code> View link/field property with the
<code>PUT /_api/view/&lt;view-name>/properties</code> and <code>PATCH /_api/view/&lt;view-name>/properties</code>
endpoints.</p><p><small>Introduced in: v3.10.3</small></p><p>You may use a shorthand notations on <code>arangosearch</code> View creation or the
<code>storedValues</code> option, like <code>["attr1", "attr2"]</code>, instead of using an array of
objects.</p><p>See the <a href=/3.12/index-and-search/arangosearch/arangosearch-views-reference/#link-properties class=link><code>arangosearch</code> Views Reference</a>
for details.</p><h4 id=geo-spatial-indexes>Geo-spatial indexes <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#geo-spatial-indexes class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h4><p>Indexes of the <code>geo</code> type have a new <code>legacyPolygons</code> option.</p><p>If <code>geoJson</code> is set to <code>true</code>, then this option controls how GeoJSON Polygons
are interpreted. Also see <a href=/3.12/index-and-search/indexing/working-with-indexes/geo-spatial-indexes/#legacy-polygons class=link>Legacy Polygons</a>.</p><p>The default is <code>true</code> for geo indexes that were created in versions
before 3.10, and <code>false</code> for geo indexes created in 3.10 or later.</p><h4 id=collection-truncation-markers>Collection truncation markers <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#collection-truncation-markers class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h4><p>APIs that return data from ArangoDB&rsquo;s write-ahead log (WAL) may now return
collection truncate markers in the cluster, too. Previously such truncate
markers were only issued in the single server and active failover modes, but not
in a cluster. Client applications that tail ArangoDB&rsquo;s WAL are thus supposed
to handle WAL markers of type <code>2004</code>.</p><p>The following HTTP APIs are affected:</p><ul><li><code>/_api/wal/tail</code></li><li><code>/_api/replication/logger-follow</code></li></ul><h4 id=startup-and-recovery-information>Startup and recovery information <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#startup-and-recovery-information class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h4><p>The GET <code>/_admin/status</code> API now also returns startup and recovery information. This
can be used to determine the instance&rsquo;s progress during startup. The new <code>progress</code>
attribute is returned inside the <code>serverInfo</code> object with the following subattributes:</p><ul><li><code>phase</code>: name of the lifecycle phase the instance is currently in. Normally one of
<code>"in prepare"</code>, <code>"in start"</code>, <code>"in wait"</code>, <code>"in shutdown"</code>, <code>"in stop"</code>, or <code>"in unprepare"</code>.</li><li><code>feature</code>: internal name of the feature that is currently being prepared, started,
stopped or unprepared.</li><li><code>recoveryTick</code>: current recovery sequence number value if the instance is currently in
recovery. If the instance is already past the recovery, this attribute contains
the last handled recovery sequence number.</li></ul><p>See <a href=/3.12/develop/http-api/general-request-handling/#respond-to-liveliness-probes class=link>Respond to liveliness probes</a> for more information.</p><h4 id=read-from-followers>Read from followers <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#read-from-followers class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h4><p>A number of read-only APIs now observe the <code>x-arango-allow-dirty-read</code>
header, which was previously only used in Active Failover deployments.
This header allows reading from followers or &ldquo;dirty reads&rdquo;. See
<a href=/3.12/develop/http-api/documents/#read-from-followers class=link>Read from followers</a>
for details.</p><p>The following APIs are affected:</p><ul><li>Single document reads (<code>GET /_api/document</code>)</li><li>Batch document reads (<code>PUT /_api/document?onlyget=true</code>)</li><li>Read-only AQL queries (<code>POST /_api/cursor</code>)</li><li>The edge API (<code>GET /_api/edges</code>)</li><li>Read-only Stream Transactions and their sub-operations
(<code>POST /_api/transaction/begin</code> etc.)</li></ul><p>If the header is not specified, the behavior is the same as before.</p><h4 id=cursor-api-1>Cursor API <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#cursor-api-1 class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h4><p>The cursor API can now return additional statistics values in its <code>stats</code> subattribute:</p><ul><li><strong>cursorsCreated</strong>: the total number of cursor objects created during query execution. Cursor
objects are created for index lookups.</li><li><strong>cursorsRearmed</strong>: the total number of times an existing cursor object was repurposed.
Repurposing an existing cursor object is normally more efficient compared to destroying an
existing cursor object and creating a new one from scratch.</li><li><strong>cacheHits</strong>: the total number of index entries read from in-memory caches for indexes
of type edge or persistent. This value will only be non-zero when reading from indexes
that have an in-memory cache enabled, and when the query allows using the in-memory
cache (i.e. using equality lookups on all index attributes).</li><li><strong>cacheMisses</strong>: the total number of cache read attempts for index entries that could not
be served from in-memory caches for indexes of type edge or persistent. This value will
only be non-zero when reading from indexes that have an in-memory cache enabled, the
query allows using the in-memory cache (i.e. using equality lookups on all index attributes)
and the looked up values are not present in the cache.</li></ul><p>These attributes are optional and only useful for detailed performance analyses.</p><p>The <code>POST /_api/cursor</code> endpoint accepts two new parameters in the <code>options</code>
object to set per-query thresholds for the
<a href=/3.12/release-notes/version-3.10/whats-new-in-3-10/#query-result-spillover-to-decrease-memory-usage class=link>query spillover feature</a>:</p><ul><li><code>spillOverThresholdMemoryUsage</code> (integer, <em>optional</em>): in bytes, default: <code>134217728</code> (128MB)</li><li><code>spillOverThresholdNumRows</code> (integer, <em>optional</em>): default: <code>5000000</code> rows</li></ul><h4 id=index-api>Index API <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#index-api class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h4><ul><li><p>The index creation API at POST <code>/_api/index</code> now accepts an optional <code>storedValues</code>
attribute to include additional attributes in a persistent index.
These additional attributes cannot be used for index lookups or sorts, but they
can be used for projections.</p><p>If set, <code>storedValues</code> must be an array of index attribute paths. There must be no
overlap of attribute paths between <code>fields</code> and <code>storedValues</code>. The maximum number
of values is 32.</p><p>All index APIs that return additional data about indexes (e.g. GET <code>/_api/index</code>)
will now also return the <code>storedValues</code> attribute for indexes that have their
<code>storedValues</code> attribute set.</p><p>The extra index information is also returned by inventory-like APIs that return
the full set of collections with their indexes.</p></li><li><p>The index creation API at POST <code>/_api/index</code> now accepts an optional <code>cacheEnabled</code>
attribute to enable an in-memory cache for index values for persistent indexes.</p><p>If <code>cacheEnabled</code> is set to <code>true</code>, the index is created with the cache. Otherwise
the index is created without it. Caching is turned off by default.</p><p>APIs that return information about all indexes such as GET <code>/_api/index</code>
or GET <code>/_api/index/&lt;index-id></code> can now also return the <code>cacheEnabled</code>
attribute.</p></li></ul><p>You cannot create multiple persistent indexes with the same <code>fields</code> attributes
and uniqueness option but different <code>storedValues</code> or <code>cacheEnabled</code> attributes.
The values of <code>storedValues</code> and <code>cacheEnabled</code> are not considered in index
creation calls when checking if a persistent index is already present or a new
one needs to be created.</p><p>The index API may now include <code>figures</code> for <code>arangosearch</code> View links and
inverted indexes. This information was previously not available for these index
types. The <code>withStats</code> query parameter needs to be set to <code>true</code> to retrieve
figures, and for <code>arangosearch</code> Views, <code>withHidden</code> needs to be enabled, too:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;figures&#34;</span> <span class=p>:</span> <span class=p>{</span> 
</span></span><span class=line><span class=cl>    <span class=nt>&#34;numDocs&#34;</span> <span class=p>:</span> <span class=mi>4</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;numLiveDocs&#34;</span> <span class=p>:</span> <span class=mi>4</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;numSegments&#34;</span> <span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;numFiles&#34;</span> <span class=p>:</span> <span class=mi>8</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;indexSize&#34;</span> <span class=p>:</span> <span class=mi>1358</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span> <span class=err>...</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h4 id=progress-indication-on-the-index-generation>Progress indication on the index generation <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#progress-indication-on-the-index-generation class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h4><p><small>Introduced in: v3.10.13</small></p><p>The <code>GET /_api/index</code> endpoint may now include a <code>progress</code> attribute for the
elements in the <code>indexes</code> array. For every index that is currently being created,
it indicates the progress of the index generation (in percent).</p><p>To return indexes that are not yet fully built but are in the building phase,
add the <code>withHidden=true</code> query parameter to the call of the endpoint.</p><pre tabindex=0><code>curl &#34;http://localhost:8529/_api/index?collection=myCollection&amp;withHidden=true&#34;
</code></pre><h4 id=document-api-1>Document API <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#document-api-1 class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h4><p><small>Introduced in: v3.9.6, v3.10.2</small></p><p>The following endpoints support a new, experimental <code>refillIndexCaches</code> query
parameter to repopulate the edge cache after requests that insert, update,
replace, or remove single or multiple edge documents:</p><ul><li><code>POST /_api/document/{collection}</code></li><li><code>PATCH /_api/document/{collection}/{key}</code></li><li><code>PUT /_api/document/{collection}/{key}</code></li><li><code>DELETE /_api/document/{collection}/{key}</code></li></ul><p>It is a boolean option and the default is <code>false</code>.</p><p>This also applies to the <code>INSERT</code>, <code>UPDATE</code>, <code>REPLACE</code>, and <code>REMOVE</code> operations
in AQL queries, which support a <code>refillIndexCache</code> option, too.</p><h4 id=metrics-api>Metrics API <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#metrics-api class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h4><p>The <code>GET /_admin/metrics/v2</code> (and <code>GET /_admin/metrics</code>) endpoints provide
newly added metrics for <code>arangosearch</code> View links and inverted indexes:</p><ul><li><code>arangodb_search_cleanup_time</code></li><li><code>arangodb_search_commit_time</code></li><li><code>arangodb_search_consolidation_time</code></li><li><code>arangodb_search_index_size</code></li><li><code>arangodb_search_num_docs</code></li><li><code>arangodb_search_num_failed_cleanups</code></li><li><code>arangodb_search_num_failed_commits</code></li><li><code>arangodb_search_num_failed_consolidations</code></li><li><code>arangodb_search_num_files</code></li><li><code>arangodb_search_num_live_docs</code></li><li><code>arangodb_search_num_out_of_sync_links</code></li><li><code>arangodb_search_num_segments</code></li></ul><hr><p><small>Introduced in: v3.10.7</small></p><p>This new metric reports the number of RocksDB <code>.sst</code> files:</p><table><thead><tr><th style=text-align:left>Label</th><th style=text-align:left>Description</th></tr></thead><tbody><tr><td style=text-align:left><code>rocksdb_total_sst_files</code></td><td style=text-align:left>Total number of RocksDB sst files, aggregated over all levels.</td></tr></tbody></table><hr><p><small>Introduced in: v3.8.9, v3.9.6, v3.10.2</small></p><p>The metrics endpoints include the following new traffic accounting metrics:</p><ul><li><code>arangodb_client_user_connection_statistics_bytes_received</code></li><li><code>arangodb_client_user_connection_statistics_bytes_sent</code></li><li><code>arangodb_http1_connections_total</code></li></ul><hr><p><small>Introduced in: v3.9.6, v3.10.2</small></p><p>The metrics endpoints include the following new edge cache (re-)filling metrics:</p><ul><li><code>rocksdb_cache_auto_refill_loaded_total</code></li><li><code>rocksdb_cache_auto_refill_dropped_total</code></li><li><code>rocksdb_cache_full_index_refills_total</code></li></ul><hr><p><small>Introduced in: v3.9.10, v3.10.5</small></p><p>The following metrics for write-ahead log (WAL) file tracking have been added:</p><table><thead><tr><th style=text-align:left>Label</th><th style=text-align:left>Description</th></tr></thead><tbody><tr><td style=text-align:left><code>rocksdb_live_wal_files</code></td><td style=text-align:left>Number of live RocksDB WAL files.</td></tr><tr><td style=text-align:left><code>rocksdb_wal_released_tick_flush</code></td><td style=text-align:left>Lower bound sequence number from which WAL files need to be kept because of external flushing needs.</td></tr><tr><td style=text-align:left><code>rocksdb_wal_released_tick_replication</code></td><td style=text-align:left>Lower bound sequence number from which WAL files need to be kept because of replication.</td></tr><tr><td style=text-align:left><code>arangodb_flush_subscriptions</code></td><td style=text-align:left>Number of currently active flush subscriptions.</td></tr></tbody></table><hr><p><small>Introduced in: v3.10.5</small></p><p>The following metric for the number of replication clients for a server has
been added:</p><table><thead><tr><th style=text-align:left>Label</th><th style=text-align:left>Description</th></tr></thead><tbody><tr><td style=text-align:left><code>arangodb_replication_clients</code></td><td style=text-align:left>Number of currently connected/active replication clients.</td></tr></tbody></table><hr><p><small>Introduced in: v3.9.11, v3.10.6</small></p><p>The following metrics for diagnosing delays in cluster-internal network requests
have been added:</p><table><thead><tr><th style=text-align:left>Label</th><th style=text-align:left>Description</th></tr></thead><tbody><tr><td style=text-align:left><code>arangodb_network_dequeue_duration</code></td><td style=text-align:left>Internal request duration for the dequeue in seconds.</td></tr><tr><td style=text-align:left><code>arangodb_network_response_duration</code></td><td style=text-align:left>Internal request duration from fully sent till response received in seconds.</td></tr><tr><td style=text-align:left><code>arangodb_network_send_duration</code></td><td style=text-align:left>Internal request send duration in seconds.</td></tr><tr><td style=text-align:left><code>arangodb_network_unfinished_sends_total</code></td><td style=text-align:left>Number of internal requests for which sending has not finished.</td></tr></tbody></table><hr><p><small>Introduced in: v3.10.7</small></p><p>The following metric stores the peak value of the <code>rocksdb_cache_allocated</code> metric:</p><table><thead><tr><th style=text-align:left>Label</th><th style=text-align:left>Description</th></tr></thead><tbody><tr><td style=text-align:left><code>rocksdb_cache_peak_allocated</code></td><td style=text-align:left>Global peak memory allocation of ArangoDB in-memory caches.</td></tr></tbody></table><hr><p><small>Introduced in: v3.10.7</small></p><p>The following metrics have been added:</p><table><thead><tr><th style=text-align:left>Label</th><th style=text-align:left>Description</th></tr></thead><tbody><tr><td style=text-align:left><code>arangodb_file_descriptors_limit</code></td><td style=text-align:left>System limit for the number of open files for the arangod process.</td></tr><tr><td style=text-align:left><code>arangodb_file_descriptors_current</code></td><td style=text-align:left>Number of file descriptors currently opened by the arangod process.</td></tr></tbody></table><hr><p><small>Introduced in: v3.10.11</small></p><p>The following metrics have been added to improve the observability of in-memory
cache subsystem:</p><ul><li><code>rocksdb_cache_free_memory_tasks_total</code></li><li><code>rocksdb_cache_free_memory_tasks_duration_total</code></li><li><code>rocksdb_cache_migrate_tasks_total</code></li><li><code>rocksdb_cache_migrate_tasks_duration_total</code></li></ul><h4 id=pregel-api>Pregel API <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#pregel-api class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h4><p>When loading the graph data into memory, a <code>"loading"</code> state is now returned by
the <code>GET /_api/control_pregel</code> and <code>GET /_api/control_pregel/{id}</code> endpoints.
The state changes to <code>"running"</code> when loading finishes.</p><p>In previous versions, the state was <code>"running"</code> when loading the data as well as
when running the algorithm.</p><p>Both endpoints return a new <code>detail</code> attribute with additional Pregel run details:</p><ul><li><code>detail</code> (object)<ul><li><code>aggregatedStatus</code> (object)<ul><li><code>timeStamp</code> (string)</li><li><code>graphStoreStatus</code> (object)<ul><li><code>verticesLoaded</code> (integer)</li><li><code>edgesLoaded</code> (integer)</li><li><code>memoryBytesUsed</code> (integer)</li><li><code>verticesStored</code> (integer)</li></ul></li><li><code>allGssStatus</code> (object)<ul><li><code>items</code> (array of objects)<ul><li><code>verticesProcessed</code> (integer)</li><li><code>messagesSent</code> (integer)</li><li><code>messagesReceived</code> (integer)</li><li><code>memoryBytesUsedForMessages</code> (integer)</li></ul></li></ul></li><li><code>workerStatus</code> (object)<ul><li><code>&lt;serverId></code> (object)<ul><li>(the same attributes like under <code>aggregatedStatus</code>)</li></ul></li></ul></li></ul></li></ul></li></ul><h4 id=log-level-api>Log level API <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#log-level-api class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h4><p><small>Introduced in: v3.10.2</small></p><p>The <code>GET /_admin/log/level</code> and <code>PUT /_admin/log/level</code> endpoints support a new
query parameter <code>serverId</code>, to forward log level get and set requests to a
specific server. This makes it easier to adjust the log levels in clusters
because DB-Servers require JWT authentication whereas Coordinators also support
authentication using usernames and passwords.</p><h4 id=explain-api>Explain API <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#explain-api class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h4><p><small>Introduced in: v3.10.4</small></p><p>The <code>POST /_api/explain</code> endpoint for explaining AQL queries includes the
following two new statistics in the <code>stats</code> attribute of the response now:</p><ul><li><code>peakMemoryUsage</code> (number): The maximum memory usage of the query during
explain (in bytes)</li><li><code>executionTime</code> (number): The (wall-clock) time in seconds needed to explain
the query.</li></ul><h4 id=optimizer-rule-descriptions>Optimizer rule descriptions <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#optimizer-rule-descriptions class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h4><p><small>Introduced in: v3.10.9</small></p><p>The <code>GET /_api/query/rules</code> endpoint now includes a <code>description</code> attribute for
every optimizer rule that briefly explains what it does.</p><h2 id=javascript-api>JavaScript API <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#javascript-api class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><h3 id=computed-values-1>Computed values <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#computed-values-1 class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>The Computed Values feature extends the collection properties with a new
<code>computedValues</code> attribute. See <a href=/3.12/concepts/data-structure/documents/computed-values/#javascript-api class=link>Computed Values</a>
for details.</p><h3 id=query-spillover-and-read-from-followers>Query spillover and Read from followers <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#query-spillover-and-read-from-followers class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>The <code>db._query()</code> and <code>db._createStatement()</code> methods accepts new query
options (<code>options</code> object) to set per-query thresholds for the
<a href=/3.12/release-notes/version-3.10/whats-new-in-3-10/#query-result-spillover-to-decrease-memory-usage class=link>query spillover feature</a>
and to <a href=/3.12/develop/http-api/documents/#read-from-followers class=link>Read from followers</a>:</p><ul><li><code>allowDirtyReads</code> (boolean, <em>optional</em>): default: <code>false</code></li><li><code>spillOverThresholdMemoryUsage</code> (integer, <em>optional</em>): in bytes, default: <code>134217728</code> (128MB)</li><li><code>spillOverThresholdNumRows</code> (integer, <em>optional</em>): default: <code>5000000</code> rows</li></ul><h3 id=aql-queries>AQL queries <a href=/3.12/release-notes/version-3.10/api-changes-in-3-10/#aql-queries class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p><small>Introduced in: v3.9.11, v3.10.7</small></p><p>If you specify collections that don&rsquo;t exist in the options of AQL graph traversals
(<code>vertexCollections</code>, <code>edgeCollections</code>), queries now fail. In previous versions,
unknown vertex collections were ignored, and the behavior for unknown
edge collections was undefined.</p><p>Additionally, queries now fail if you specify a document collection or View
in <code>edgeCollections</code>.</p><nav class=pagination><span class=prev><a class="nav nav-prev link" href=/3.12/release-notes/version-3.10/incompatible-changes-in-3-10/><i class="fas fa-chevron-left fa-fw"></i><p>Incompatible changes in 3.10</p></a></span><span class=next><a class="nav nav-next link" href=/3.12/release-notes/version-3.9/><p>Version 3.9</p><i class="fas fa-chevron-right fa-fw"></i></a></span></nav></article><div class=toc-container><a class=edit-page aria-label href=https://github.com/arangodb/docs-hugo/edit/main/site/content/3.12/release-notes/version-3.10/api-changes-in-3-10.md target=_blank><i class="fab fa-fw fa-github edit-page-icon"></i></a><div class=toc><div class=toc-content><div class=toc-header><p>On this page</p></div><nav id=TableOfContents><div class=level-2><a href=#http-restful-api>HTTP RESTful API</a></div><div class=level-3><a href=#behavior-changes>Behavior changes</a></div><div class=level-4><a href=#early-connections>Early connections</a></div><div class=level-4><a href=#validation-of-collections-in-named-graphs>Validation of collections in named graphs</a></div><div class=level-4><a href=#validation-of-smartgraphattribute-in-smartgraphs>Validation of <code>smartGraphAttribute</code> in SmartGraphs</a></div><div class=level-4><a href=#disabled-foxx-apis>Disabled Foxx APIs</a></div><div class=level-4><a href=#configurable-whitespace-in-metrics>Configurable whitespace in metrics</a></div><div class=level-4><a href=#cursor-api>Cursor API</a></div><div class=level-4><a href=#document-api>Document API</a></div><div class=level-4><a href=#limit-to-the-number-of-databases-in-a-deployment>Limit to the number of databases in a deployment</a></div><div class=level-3><a href=#endpoint-return-value-changes>Endpoint return value changes</a></div><div class=level-3><a href=#endpoints-deprecated>Endpoints deprecated</a></div><div class=level-3><a href=#endpoints-added>Endpoints added</a></div><div class=level-4><a href=#optimizer-rules-for-aql-queries>Optimizer rules for AQL queries</a></div><div class=level-4><a href=#shard-rebalancing>Shard rebalancing</a></div><div class=level-4><a href=#maintenance-mode-for-db-servers>Maintenance mode for DB-Servers</a></div><div class=level-4><a href=#shard-usage-metrics>Shard usage metrics</a></div><div class=level-3><a href=#endpoints-augmented>Endpoints augmented</a></div><div class=level-4><a href=#enterprisegraphs-enterprise-edition>EnterpriseGraphs (Enterprise Edition)</a></div><div class=level-4><a href=#inverted-indexes>Inverted Indexes</a></div><div class=level-4><a href=#search-alias-views><code>search-alias</code> Views</a></div><div class=level-4><a href=#computed-values>Computed Values</a></div><div class=level-4><a href=#nested-search-enterprise-edition>Nested search (Enterprise Edition)</a></div><div class=level-4><a href=#offset-analyzer-feature><code>offset</code> Analyzer feature</a></div><div class=level-4><a href=#analyzer-types>Analyzer types</a></div><div class=level-4><a href=#geojson-analyzer><code>geojson</code> Analyzer</a></div><div class=level-4><a href=#views-api>Views API</a></div><div class=level-4><a href=#geo-spatial-indexes>Geo-spatial indexes</a></div><div class=level-4><a href=#collection-truncation-markers>Collection truncation markers</a></div><div class=level-4><a href=#startup-and-recovery-information>Startup and recovery information</a></div><div class=level-4><a href=#read-from-followers>Read from followers</a></div><div class=level-4><a href=#cursor-api-1>Cursor API</a></div><div class=level-4><a href=#index-api>Index API</a></div><div class=level-4><a href=#progress-indication-on-the-index-generation>Progress indication on the index generation</a></div><div class=level-4><a href=#document-api-1>Document API</a></div><div class=level-4><a href=#metrics-api>Metrics API</a></div><div class=level-4><a href=#pregel-api>Pregel API</a></div><div class=level-4><a href=#log-level-api>Log level API</a></div><div class=level-4><a href=#explain-api>Explain API</a></div><div class=level-4><a href=#optimizer-rule-descriptions>Optimizer rule descriptions</a></div><div class=level-2><a href=#javascript-api>JavaScript API</a></div><div class=level-3><a href=#computed-values-1>Computed values</a></div><div class=level-3><a href=#query-spillover-and-read-from-followers>Query spillover and Read from followers</a></div><div class=level-3><a href=#aql-queries>AQL queries</a></div></nav></div></div></div></div></div></section></section></div><button class="back-to-top hidden" onclick=goToTop(event) href=#><i class="fa fa-arrow-up"></i></button><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3>
<script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3></script>
<script type=text/javascript>window.setupDocSearch=function(e){if(!window.docsearch)return;docsearch({appId:"OK3ZBQ5982",apiKey:"500c85ccecb335d507fe4449aed12e1d",indexName:"arangodbdocs",insights:!0,container:"#searchbox",debug:!1,maxResultsPerGroup:10,searchParameters:{facetFilters:[`version:${e}`]}})}</script></body></html>