<!doctype html><html lang=en><head><link href=//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css rel=stylesheet><link href=//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css rel=stylesheet><link href=/css/fontawesome-all.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fontawesome-all.min.css rel=stylesheet></noscript><link href=/css/featherlight.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/featherlight.min.css rel=stylesheet></noscript><link href=/css/nucleus.css rel=stylesheet><link href=/css/fonts.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fonts.css rel=stylesheet></noscript><link href=/css/theme.css rel=stylesheet><link href=/css/theme-relearn-light.css rel=stylesheet id=variant-style><link href=/css/print.css rel=stylesheet media=print><script src=/js/variant.js?1743774193></script>
<script>var root_url="/",baseUriFull,baseUri=root_url.replace(/\/$/,"");window.T_Copy_to_clipboard="",window.T_Copied_to_clipboard="",window.T_Copy_link_to_clipboard="",window.T_Link_copied_to_clipboard="",baseUriFull="http://localhost/",window.variants&&variants.init(["relearn-light"])</script><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.119.0"><meta itemprop=description property="description" content="AQL functions that do not fall into other categories are listed here"><meta property="og:url" content="http://localhost/3.12/aql/functions/miscellaneous/"><meta property="og:title" content="Miscellaneous functions in AQL"><meta property="og:type" content="website"><meta property="og:description" content="AQL functions that do not fall into other categories are listed here"><meta name=docsearch:version content="3.12"><title>Miscellaneous functions in AQL | ArangoDB Documentation</title><link href=/images/favicon.png rel=icon type=image/png><script src=/js/jquery.min.js></script>
<script src=/js/clipboard.min.js?1743774193 defer></script>
<script src=/js/featherlight.min.js?1743774193 defer></script>
<script>var versions=[{alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"},{alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"},{alias:"3.11",deprecated:!1,name:"3.11",version:"3.11.13"},{alias:"3.10",deprecated:!0,name:"3.10",version:"3.10.14"}]</script><script>var develVersion={alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"}</script><script>var stableVersion={alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"}</script><script src=/js/codeblocks.js?1743774193 defer></script>
<script src=/js/theme.js?1743774193 defer></script></head><body><noscript>You need to enable JavaScript to use the ArangoDB documentation.</noscript><div id=page-wrapper class=page_content_splash style=height:auto;opacity:0><section id=page-main><section class=page-container id=page-container><header id=header style="transition:.5s padding ease-out,.15s" class="zn_header_white header-splash-new nav-down header-splash-wrap header1"><div class=header-block-left><div class=mobile-menu-toggle><button id=sidebar-toggle-navigation onclick=showSidebarHandler()><svg width="1.33em" height="1.33em" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button></div><div class=version-logo-container><div class="logo-container hasinfocard_img arangodb-logo-large"><div class=logo><a href=https://www.arangodb.com/><img src=/images/logo_main.png alt=ArangoDB title></a></div></div><div class=arangodb-logo-small><a href=https://arangodb.com/><img alt="ArangoDB Logo" src=/images/ArangoDB_Logo_White_small.png></a></div></div></div><div class=container-right style=display:hidden></div><div class=search-and-version-container><a href=# class="home-link is-current" aria-label="Go to home page" onclick=goToHomepage(event)></a><div id=searchbox></div><script type=text/javascript>const SCRIPT_SRC="https://unpkg.com/@inkeep/widgets-embed@0.2.290/dist/embed.js";function loadAndInitializeInkeep(){if(document.querySelector(`script[src="${SCRIPT_SRC}]"`))return;const e=document.createElement("script");e.type="module",e.src=SCRIPT_SRC,e.onload=initializeInkeep,document.head.appendChild(e)}function initializeInkeep(){const e=Inkeep({integrationId:"clo4lx6jk0000s601cp21x2ok",apiKey:"13b4e56966a76e86c6ff359cd795ee6a0412f751d75d6383",organizationId:"org_HGBkkzGAa4KeGJGh",organizationDisplayName:"ArangoDB",primaryBrandColor:"#80a54d",stringReplacementRules:[{matchingRule:{ruleType:"Substring",string:"Arangograph"},replaceWith:"ArangoGraph"},{matchingRule:{ruleType:"Substring",string:"Aql"},replaceWith:"AQL"},{matchingRule:{ruleType:"Substring",string:"Arangodb"},replaceWith:"ArangoDB"}],customCardSettings:[{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arango.qubitpi.org"}},searchTabLabel:"Official Docs"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"developer.arangodb.com"}},searchTabLabel:"Developer Hub"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arangodb.com"}},searchTabLabel:"Home"}]}),t=e.embed({componentType:"ChatButton",properties:{stylesheetUrls:["/css/fonts.css"],fixedPositionXOffset:"52px",baseSettings:{theme:{primaryColors:{textColorOnPrimary:"white"},tokens:{fonts:{body:"'Inter'",heading:"'Inter'"},zIndex:{overlay:1e4,modal:11e3,popover:12e3,skipLink:13e3,toast:14e3,tooltip:15e3}}}},aiChatSettings:{botAvatarSrcUrl:"/images/ArangoDB_Logo_White_small.png",quickQuestions:["What can you do with AQL that is not feasible with SQL?","How do I search for objects within arrays?","Where can I deploy my ArangoDB instance?"],getHelpCallToActions:[{icon:{builtIn:"FaSlack"},name:"Slack",url:"https://arangodb-community.slack.com/"}]},searchSettings:{tabSettings:{isAllTabEnabled:!1,alwaysDisplayedTabs:["Official Docs","Developer Hub","Home"]}}}})}loadAndInitializeInkeep()</script><div class=version-selector><select id=arangodb-version onchange=changeVersion()><option value=3.13>3.13</option><option value=3.12>3.12</option><option value=3.11>3.11</option><option value=3.10>3.10</option><option value=3.9>3.9</option><option value=3.8>3.8</option></select></div></div></header><iframe src=/nav.html title=description id=menu-iframe class="menu-iframe active" style=opacity:0></iframe><div class=container-main><div class=row-main><nav id=breadcrumbs><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><meta itemprop=itemListOrder content="Descending"><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="3.12"><a itemprop=item class=link href=/3.12/><span itemprop=name class=breadcrumb-entry>3.12.4</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="AQL"><a itemprop=item class=link href=/3.12/aql/><span itemprop=name class=breadcrumb-entry>AQL</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Functions"><a itemprop=item class=link href=/3.12/aql/functions/><span itemprop=name class=breadcrumb-entry>Functions</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Miscellaneous"><a itemprop=item class=link href=/3.12/aql/functions/miscellaneous/><span itemprop=name class=breadcrumb-entry>Miscellaneous</span></a></li></ol></nav><article class=default><hgroup><h1>Miscellaneous functions in AQL</h1><p class=lead>AQL functions that do not fall into other categories are listed here</p></hgroup><h2 id=control-flow-functions>Control flow functions <a href=/3.12/aql/functions/miscellaneous/#control-flow-functions class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><h3 id=first_document>FIRST_DOCUMENT() <a href=/3.12/aql/functions/miscellaneous/#first_document class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p><code>FIRST_DOCUMENT(alternative, ...) → doc</code></p><p>Return the first alternative that is a document, and <em>null</em> if none of the
alternatives is a document.</p><ul><li><strong>alternative</strong> (any, <em>repeatable</em>): input of arbitrary type</li><li>returns <strong>doc</strong> (object|null): document / object or null</li></ul><h3 id=first_list>FIRST_LIST() <a href=/3.12/aql/functions/miscellaneous/#first_list class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p><code>FIRST_LIST(alternative, ...) → list</code></p><p>Return the first alternative that is an array, and <em>null</em> if none of the
alternatives is an array.</p><ul><li><strong>alternative</strong> (any, <em>repeatable</em>): input of arbitrary type</li><li>returns <strong>list</strong> (array|null): array / list or null</li></ul><h3 id=min_match>MIN_MATCH() <a href=/3.12/aql/functions/miscellaneous/#min_match class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p><code>MIN_MATCH(expr1, ... exprN, minMatchCount) → fulfilled</code></p><p>Match documents where at least <strong>minMatchCount</strong> of the specified
AQL expressions are satisfied.</p><p>There is a corresponding <a href=/3.12/aql/functions/arangosearch/#min_match class=link><code>MIN_MATCH()</code> ArangoSearch function</a>
that can utilize View indexes.</p><ul><li><strong>expr</strong> (expression, <em>repeatable</em>): any valid AQL expression</li><li><strong>minMatchCount</strong> (number): minimum number of expressions that should
be satisfied</li><li>returns <strong>fulfilled</strong> (bool): whether at least <strong>minMatchCount</strong> of the
specified expressions are <code>true</code></li></ul><p>You can use <code>MIN_MATCH()</code> to filter if two out of three conditions evaluate to
<code>true</code> for instance:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kd>LET</span> <span class=n>members</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span> <span class=n>name</span><span class=o>:</span> <span class=s2>&#34;Carol&#34;</span><span class=p>,</span> <span class=n>age</span><span class=o>:</span> <span class=mi>41</span><span class=p>,</span> <span class=n>active</span><span class=o>:</span> <span class=kc>true</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span> <span class=n>name</span><span class=o>:</span> <span class=s2>&#34;Doug&#34;</span><span class=p>,</span> <span class=n>age</span><span class=o>:</span> <span class=mi>56</span><span class=p>,</span> <span class=n>active</span><span class=o>:</span> <span class=kc>true</span> <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=kr>FOR</span> <span class=n>doc</span> <span class=kr>IN</span> <span class=n>members</span>
</span></span><span class=line><span class=cl>  <span class=kr>FILTER</span> <span class=nf>MIN_MATCH</span><span class=p>(</span><span class=nf>LENGTH</span><span class=p>(</span><span class=n>doc</span><span class=p>.</span><span class=n>name</span><span class=p>)</span> <span class=o>==</span> <span class=mi>5</span><span class=p>,</span> <span class=n>doc</span><span class=p>.</span><span class=n>age</span> <span class=o>&gt;=</span> <span class=mi>50</span><span class=p>,</span> <span class=n>doc</span><span class=p>.</span><span class=n>active</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=kr>RETURN</span> <span class=n>doc</span></span></span></code></pre></div><p>An equivalent filter expression without <code>MIN_MATCH()</code> would be more cumbersome:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl>  <span class=kr>FILTER</span> <span class=p>(</span><span class=nf>LENGTH</span><span class=p>(</span><span class=n>doc</span><span class=p>.</span><span class=n>name</span><span class=p>)</span> <span class=o>==</span> <span class=mi>5</span> <span class=kr>AND</span> <span class=n>doc</span><span class=p>.</span><span class=n>age</span> <span class=o>&gt;=</span> <span class=mi>50</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=kr>OR</span> <span class=p>(</span><span class=n>doc</span><span class=p>.</span><span class=n>age</span> <span class=o>&gt;=</span> <span class=mi>50</span> <span class=kr>AND</span> <span class=n>doc</span><span class=p>.</span><span class=n>active</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=kr>OR</span> <span class=p>(</span><span class=n>doc</span><span class=p>.</span><span class=n>active</span> <span class=kr>AND</span> <span class=nf>LENGTH</span><span class=p>(</span><span class=n>doc</span><span class=p>.</span><span class=n>name</span><span class=p>)</span> <span class=o>==</span> <span class=mi>5</span><span class=p>)</span></span></span></code></pre></div><h3 id=not_null>NOT_NULL() <a href=/3.12/aql/functions/miscellaneous/#not_null class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p><code>NOT_NULL(alternative, ...) → value</code></p><p>Return the first element that is not <em>null</em>, and <em>null</em> if all alternatives
are <em>null</em> themselves. It is also known as <code>COALESCE()</code> in SQL.</p><ul><li><strong>alternative</strong> (any, <em>repeatable</em>): input of arbitrary type</li><li>returns <strong>value</strong> (any): first non-null parameter, or <em>null</em> if all arguments
are <em>null</em></li></ul><h3 id=ternary-operator>Ternary operator <a href=/3.12/aql/functions/miscellaneous/#ternary-operator class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>For conditional evaluation, check out the
<a href=/3.12/aql/operators/#ternary-operator class=link>ternary operator</a>.</p><h2 id=database-functions>Database functions <a href=/3.12/aql/functions/miscellaneous/#database-functions class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><h3 id=check_document>CHECK_DOCUMENT() <a href=/3.12/aql/functions/miscellaneous/#check_document class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p><code>CHECK_DOCUMENT(document) → checkResult</code></p><p>Returns <em>true</em> if <em>document</em> is a valid document object, i.e. a document
without any duplicate attribute names. Will return <em>false</em> for any
non-objects/non-documents or documents with duplicate attribute names.</p><div class="box notices cstyle warning"><div class=box-content-container><div class=box-content><i class="fas fa-exclamation-triangle"></i><div class=box-text>This is an internal function for validating database objects and
is not supposed to be useful for anything else.</div></div></div></div><p>The primary use case for this function is to apply it on all
documents in a given collection as follows:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>FOR</span> <span class=n>doc</span> <span class=kr>IN</span> <span class=n>collection</span>
</span></span><span class=line><span class=cl>  <span class=kr>FILTER</span> <span class=o>!</span><span class=nf>CHECK_DOCUMENT</span><span class=p>(</span><span class=n>doc</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=kr>RETURN</span> <span class=nf>JSON_STRINGIFY</span><span class=p>(</span><span class=n>doc</span><span class=p>)</span></span></span></code></pre></div><p>This query will return all documents in the given collection with redundant
attribute names and export them. This output can be used for subsequent
cleanup operations.</p><div class="box notices cstyle info"><div class=box-content-container><div class=box-content><i class="fas fa-info-circle"></i><div class=box-text>When using object literals in AQL, there will be an automatic
removal/cleanup of duplicate attribute names, so the function will be effective
only for <strong>already stored</strong> database documents. Therefore,
<code>RETURN CHECK_DOCUMENT( { a: 1, a: 2 } )</code> is expected to return <code>true</code>.</div></div></div></div><ul><li><strong>document</strong> (object): an arbitrary document / object</li><li>returns <strong>checkResult</strong> (bool): <em>true</em> for any valid objects/documents without
duplicate attribute names, and <em>false</em> for any non-objects/non-documents or
objects/documents with duplicate attribute names</li></ul><h3 id=collection_count>COLLECTION_COUNT() <a href=/3.12/aql/functions/miscellaneous/#collection_count class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p><code>COLLECTION_COUNT(coll) → count</code></p><p>Determine the amount of documents in a collection. <a href=#length class=link><code>LENGTH()</code></a>
is preferred.</p><h3 id=collections>COLLECTIONS() <a href=/3.12/aql/functions/miscellaneous/#collections class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p><code>COLLECTIONS() → docArray</code></p><p>Return an array of collections.</p><ul><li>returns <strong>docArray</strong> (array): each collection as a document with attributes
<em>name</em> and <em>_id</em> in an array</li></ul><h3 id=count>COUNT() <a href=/3.12/aql/functions/miscellaneous/#count class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>This is an alias for <a href=#length class=link><code>LENGTH()</code></a>.</p><h3 id=current_database>CURRENT_DATABASE() <a href=/3.12/aql/functions/miscellaneous/#current_database class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p><code>CURRENT_DATABASE() → databaseName</code></p><p>Returns the name of the current database.</p><p>The current database is the database name that was specified in the URL path of the request (or defaults to _system database).</p><ul><li>returns <strong>databaseName</strong> (string): the current database name</li></ul><h3 id=current_user>CURRENT_USER() <a href=/3.12/aql/functions/miscellaneous/#current_user class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p><code>CURRENT_USER() → userName</code></p><p>Return the name of the current user.</p><p>The current user is the user account name that was specified in the
<em>Authorization</em> HTTP header of the request. It will only be populated if
authentication on the server is turned on, and if the query was executed inside
a request context. Otherwise, the return value of this function will be <em>null</em>.</p><ul><li>returns <strong>userName</strong> (string|null): the current user name, or <em>null</em> if
authentication is disabled</li></ul><h3 id=decode_rev>DECODE_REV() <a href=/3.12/aql/functions/miscellaneous/#decode_rev class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p><code>DECODE_REV(revision) → details</code></p><p>Decompose the specified <code>revision</code> string into its components.
The resulting object has a <code>date</code> and a <code>count</code> attribute.
This function is supposed to be called with the <code>_rev</code> attribute value
of a database document as argument.</p><ul><li><strong>revision</strong> (string): revision ID string</li><li>returns <strong>details</strong> (object|null): object with two attributes
<em>date</em> (string in ISO 8601 format) and <em>count</em> (integer number),
or <em>null</em></li></ul><p>If the input revision ID is not a string or cannot be processed, the function
issues a warning and returns <em>null</em>.</p><p>Please note that the result structure may change in future versions of
ArangoDB in case the internal format of revision strings is modified. Please
also note that the <em>date</em> value in the current result provides the date and
time of when the document record was put together on the server, but not
necessarily the time of insertion into the underlying storage engine. Therefore
in case of concurrent document operations the exact document storage order
cannot be derived unambiguously from the revision value. It should thus be
treated as a rough estimate of when a document was created or last updated.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=nf>DECODE_REV</span><span class=p>(</span> <span class=s2>&#34;_YU0HOEG---&#34;</span> <span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>// { &#34;date&#34; : &#34;2019-03-11T16:15:05.314Z&#34;, &#34;count&#34; : 0 }
</span></span></span></code></pre></div><h3 id=document>DOCUMENT() <a href=/3.12/aql/functions/miscellaneous/#document class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>Dynamically look up one or multiple documents from any collections, either using
a collection name and one or more document keys, or one or more document
identifiers. The collections do not need to be known at query compile time, they
can be computed at runtime.</p><div class="box notices cstyle info"><div class=box-content-container><div class=box-content><i class="fas fa-info-circle"></i><div class=box-text><p>It is recommended to use subqueries with the <a href=/3.12/aql/high-level-operations/for/ class=link><code>FOR</code> operation</a>
and filters over <code>DOCUMENT()</code> whenever the collections are known in advance,
especially for <a href=/3.12/aql/examples-and-query-patterns/joins/ class=link>joins</a>, because they perform better, you
can add additional filters, and combine it with sorting to get an array of
documents in a guaranteed order.</p><p>Queries that use the <code>DOCUMENT()</code> function cannot be
<a href=/3.12/aql/execution-and-performance/caching-query-results/ class=link><strong>cached</strong></a>, each lookup is executed as
a single operation, the lookups need to be executed on Coordinators for
sharded collections in cluster deployments, and only primary indexes and no
projections can be utilized.</p></div></div></div></div><p><code>DOCUMENT(collection, id) → doc</code></p><p>Return the document identified by <code>id</code> (document key or identifier) from the
specified <code>collection</code>.</p><p>If the document cannot be found, <code>null</code> will be returned.
If there is a mismatch between the <code>collection</code> passed and the collection in
the document identifier, then <code>null</code> will be returned, too.</p><p>The <code>id</code> parameter can also be an array of document keys or identifiers. In this
case, the function will return an array of all documents that could be found.
The results are not guaranteed to be in the requested order. Documents that
could not be found are not indicated in the result (no <code>null</code> values) and do
also not raise warnings.</p><ul><li><strong>collection</strong> (string): name of a collection</li><li><strong>id</strong> (string|array): a document key, a document identifier, or an array of
document keys, identifiers, or both</li><li>returns <strong>doc</strong> (document|array|null): the found document (or <code>null</code> if it
was not found), or an array of all found documents <strong>in any order</strong></li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>DOCUMENT</span><span class=p>(</span> <span class=n>persons</span><span class=p>,</span> <span class=s2>&#34;persons/alice&#34;</span> <span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=p>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;alice&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;persons/alice&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdoYcW---&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> <span class=o>:</span> <span class=s2>&#34;Alice&#34;</span> 
</span></span><span class=line><span class=cl>  <span class=p>}</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>DOCUMENT</span><span class=p>(</span> <span class=n>persons</span><span class=p>,</span> <span class=s2>&#34;alice&#34;</span> <span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=p>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;alice&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;persons/alice&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdoYdC---&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> <span class=o>:</span> <span class=s2>&#34;Alice&#34;</span> 
</span></span><span class=line><span class=cl>  <span class=p>}</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>DOCUMENT</span><span class=p>(</span> <span class=n>persons</span><span class=p>,</span> <span class=p>[</span> <span class=s2>&#34;persons/alice&#34;</span><span class=p>,</span> <span class=s2>&#34;persons/bob&#34;</span> <span class=p>]</span> <span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span> 
</span></span><span class=line><span class=cl>    <span class=p>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;alice&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;persons/alice&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdoYeK---&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;name&#34;</span> <span class=o>:</span> <span class=s2>&#34;Alice&#34;</span> 
</span></span><span class=line><span class=cl>    <span class=p>},</span> 
</span></span><span class=line><span class=cl>    <span class=p>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;bob&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;persons/bob&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdoYeK--_&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;name&#34;</span> <span class=o>:</span> <span class=s2>&#34;Bob&#34;</span> 
</span></span><span class=line><span class=cl>    <span class=p>}</span> 
</span></span><span class=line><span class=cl>  <span class=p>]</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>DOCUMENT</span><span class=p>(</span> <span class=n>persons</span><span class=p>,</span> <span class=p>[</span> <span class=s2>&#34;alice&#34;</span><span class=p>,</span> <span class=s2>&#34;bob&#34;</span> <span class=p>]</span> <span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span> 
</span></span><span class=line><span class=cl>    <span class=p>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;alice&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;persons/alice&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdoYeu--_&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;name&#34;</span> <span class=o>:</span> <span class=s2>&#34;Alice&#34;</span> 
</span></span><span class=line><span class=cl>    <span class=p>},</span> 
</span></span><span class=line><span class=cl>    <span class=p>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;bob&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;persons/bob&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdoYey---&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;name&#34;</span> <span class=o>:</span> <span class=s2>&#34;Bob&#34;</span> 
</span></span><span class=line><span class=cl>    <span class=p>}</span> 
</span></span><span class=line><span class=cl>  <span class=p>]</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>DOCUMENT</span><span class=p>(</span> <span class=vg>@@coll</span><span class=p>,</span> <span class=nv>@key</span> <span class=p>)</span> 
</span></span></code></pre></div><strong>Bind Parameters</strong><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;@coll&#34;</span><span class=p>:</span> <span class=s2>&#34;persons&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;key&#34;</span><span class=p>:</span> <span class=s2>&#34;alice&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=p>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;alice&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;persons/alice&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdoYfS---&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> <span class=o>:</span> <span class=s2>&#34;Alice&#34;</span> 
</span></span><span class=line><span class=cl>  <span class=p>}</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>DOCUMENT</span><span class=p>(</span> <span class=vg>@@coll</span><span class=p>,</span> <span class=nv>@keys</span> <span class=p>)</span></span></span></code></pre></div><strong>Bind Parameters</strong><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;@coll&#34;</span><span class=p>:</span> <span class=s2>&#34;persons&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;keys&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;alice&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;bob&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span> 
</span></span><span class=line><span class=cl>    <span class=p>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;alice&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;persons/alice&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdoYf6---&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;name&#34;</span> <span class=o>:</span> <span class=s2>&#34;Alice&#34;</span> 
</span></span><span class=line><span class=cl>    <span class=p>},</span> 
</span></span><span class=line><span class=cl>    <span class=p>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;bob&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;persons/bob&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdoYg----&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;name&#34;</span> <span class=o>:</span> <span class=s2>&#34;Bob&#34;</span> 
</span></span><span class=line><span class=cl>    <span class=p>}</span> 
</span></span><span class=line><span class=cl>  <span class=p>]</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><hr><p><code>DOCUMENT(id) → doc</code></p><p>The function can also be used with a single <code>id</code> parameter as follows:</p><ul><li><strong>id</strong> (string|array): a document identifier, or an array of identifiers</li><li>returns <strong>doc</strong> (document|array|null): the found document (or <code>null</code> if it
was not found), or an array of the found documents <strong>in any order</strong></li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>DOCUMENT</span><span class=p>(</span><span class=s2>&#34;persons/alice&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=p>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;alice&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;persons/alice&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdoYgi---&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> <span class=o>:</span> <span class=s2>&#34;Alice&#34;</span> 
</span></span><span class=line><span class=cl>  <span class=p>}</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>DOCUMENT</span><span class=p>(</span> <span class=p>[</span> <span class=s2>&#34;persons/alice&#34;</span><span class=p>,</span> <span class=s2>&#34;persons/bob&#34;</span> <span class=p>]</span> <span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span> 
</span></span><span class=line><span class=cl>    <span class=p>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;alice&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;persons/alice&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdoYhe---&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;name&#34;</span> <span class=o>:</span> <span class=s2>&#34;Alice&#34;</span> 
</span></span><span class=line><span class=cl>    <span class=p>},</span> 
</span></span><span class=line><span class=cl>    <span class=p>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;bob&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;persons/bob&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdoYhe--_&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;name&#34;</span> <span class=o>:</span> <span class=s2>&#34;Bob&#34;</span> 
</span></span><span class=line><span class=cl>    <span class=p>}</span> 
</span></span><span class=line><span class=cl>  <span class=p>]</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>DOCUMENT</span><span class=p>(</span> <span class=nv>@key</span> <span class=p>)</span></span></span></code></pre></div><strong>Bind Parameters</strong><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;key&#34;</span><span class=p>:</span> <span class=s2>&#34;persons/alice&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=p>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;alice&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;persons/alice&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdoYi----&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> <span class=o>:</span> <span class=s2>&#34;Alice&#34;</span> 
</span></span><span class=line><span class=cl>  <span class=p>}</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>DOCUMENT</span><span class=p>(</span> <span class=nv>@keys</span> <span class=p>)</span></span></span></code></pre></div><strong>Bind Parameters</strong><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;keys&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;persons/alice&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;persons/bob&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span> 
</span></span><span class=line><span class=cl>    <span class=p>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;alice&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;persons/alice&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdoYii---&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;name&#34;</span> <span class=o>:</span> <span class=s2>&#34;Alice&#34;</span> 
</span></span><span class=line><span class=cl>    <span class=p>},</span> 
</span></span><span class=line><span class=cl>    <span class=p>{</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;bob&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;persons/bob&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdoYii--_&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>      <span class=s2>&#34;name&#34;</span> <span class=o>:</span> <span class=s2>&#34;Bob&#34;</span> 
</span></span><span class=line><span class=cl>    <span class=p>}</span> 
</span></span><span class=line><span class=cl>  <span class=p>]</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>DOCUMENT</span><span class=p>(</span> <span class=nf>CONCAT</span><span class=p>(</span><span class=s2>&#34;persons/&#34;</span><span class=p>,</span> <span class=nv>@key</span><span class=p>)</span> <span class=p>)</span></span></span></code></pre></div><strong>Bind Parameters</strong><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;key&#34;</span><span class=p>:</span> <span class=s2>&#34;bob&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=p>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;bob&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;persons/bob&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdoYjK--_&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span> <span class=o>:</span> <span class=s2>&#34;Bob&#34;</span> 
</span></span><span class=line><span class=cl>  <span class=p>}</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h3 id=length>LENGTH() <a href=/3.12/aql/functions/miscellaneous/#length class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p><code>LENGTH(coll) → documentCount</code></p><p>Determine the amount of documents in a collection.</p><p>It calls <a href=#collection_count class=link><code>COLLECTION_COUNT()</code></a> internally.</p><ul><li><strong>coll</strong> (collection): a collection (not string)</li><li>returns <strong>documentCount</strong> (number): the total amount of documents in <em>coll</em></li></ul><p><code>LENGTH()</code> can also determine the <a href=/3.12/aql/functions/array/#length class=link>number of elements</a> in an array,
the <a href=/3.12/aql/functions/document-object/#length class=link>number of attribute keys</a> of an object / document and
the <a href=/3.12/aql/functions/string/#length class=link>character length</a> of a string.</p><h3 id=shard_id>SHARD_ID() <a href=/3.12/aql/functions/miscellaneous/#shard_id class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p><code>SHARD_ID(collection, shardKeys) → shardId</code></p><p>Return the shard in a collection that contains the specified shard keys.</p><ul><li><strong>collection</strong> (string): a collection name</li><li><strong>shardKeys</strong> (object): a set of shard keys and values. Any missing shard key
is substituted with the <code>null</code> value.</li><li>returns <strong>shardId</strong> (string): the responsible shard for the specified
shard keys in the given collection. On deployments other than clusters,
the collection name itself is returned.</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>SHARD_ID</span><span class=p>(</span><span class=s2>&#34;observations&#34;</span><span class=p>,</span> <span class=p>{</span> <span class=s2>&#34;time&#34;</span><span class=o>:</span> <span class=s2>&#34;2021-05-25 07:15:00&#34;</span><span class=p>,</span> <span class=s2>&#34;subject&#34;</span><span class=o>:</span> <span class=s2>&#34;xh458&#34;</span><span class=p>,</span> <span class=s2>&#34;val&#34;</span><span class=o>:</span> <span class=mi>10</span> <span class=p>})</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;s6010020&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=hash-functions>Hash functions <a href=/3.12/aql/functions/miscellaneous/#hash-functions class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><h3 id=hash>HASH() <a href=/3.12/aql/functions/miscellaneous/#hash class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p><code>HASH(value) → hashNumber</code></p><p>Calculate a hash value for <em>value</em>.</p><ul><li><strong>value</strong> (any): an element of arbitrary type</li><li>returns <strong>hashNumber</strong> (number): a hash value of <em>value</em></li></ul><p><em>value</em> is not required to be a string, but can have any data type. The calculated
hash value will take the data type of <em>value</em> into account, so for example the
number <em>1</em> and the string <em>&ldquo;1&rdquo;</em> will have different hash values. For arrays the
hash values will be equal if the arrays contain exactly the same values
(including value types) in the same order. For objects the same hash values will
be created if the objects have exactly the same attribute names and values
(including value types). The order in which attributes appear inside objects
is not important for hashing.</p><p>The hash value returned by this function is a number. The hash algorithm is not
guaranteed to remain the same in future versions of ArangoDB. The hash values
should therefore be used only for temporary calculations, e.g. to compare if two
documents are the same, or for grouping values in queries.</p><h3 id=minhash>MINHASH() <a href=/3.12/aql/functions/miscellaneous/#minhash class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p><code>MINHASH(values, numHashes) → hashes</code></p><p>Calculate MinHash signatures for the <em>values</em> using locality-sensitive hashing.
The result can be used to approximate the Jaccard similarity of sets.</p><ul><li><strong>values</strong> (array): an array with elements of arbitrary type to hash</li><li><strong>numHashes</strong> (number): the size of the MinHash signature. Must be
greater or equal to <code>1</code>. The signature size defines the probabilistic error
(<code>err = rsqrt(numHashes)</code>). For an error amount that does not exceed 5%
(<code>0.05</code>), use a size of <code>1 / (0.05 * 0.05) = 400</code>.</li><li>returns <strong>hashes</strong> (array): an array of strings with the encoded hash values</li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>MINHASH</span><span class=p>([</span><span class=s2>&#34;foo&#34;</span><span class=p>,</span> <span class=s2>&#34;bar&#34;</span><span class=p>,</span> <span class=s2>&#34;baz&#34;</span><span class=p>],</span> <span class=mi>5</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;OmvEOSfAYs8&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;Jcz+LQgakgs&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;YfBzyXaSXIA&#34;</span> 
</span></span><span class=line><span class=cl>  <span class=p>]</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h3 id=minhash_count>MINHASH_COUNT() <a href=/3.12/aql/functions/miscellaneous/#minhash_count class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p><code>MINHASH_COUNT(error) → numHashes</code></p><p>Calculate the number of hashes (MinHash signature size) needed to not exceed the
specified error amount.</p><ul><li><strong>error</strong> (number): the probabilistic error you can tolerate in the range <code>[0, 1)</code></li><li>returns <strong>numHashes</strong> (number): the required number of hashes to not exceed
the specified error amount</li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>MINHASH_COUNT</span><span class=p>(</span><span class=mf>0.05</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=mi>400</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h3 id=minhash_error>MINHASH_ERROR() <a href=/3.12/aql/functions/miscellaneous/#minhash_error class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p><code>MINHASH_ERROR(numHashes) → error</code></p><p>Calculate the error amount based on the number of hashes (MinHash signature size).</p><ul><li><strong>numHashes</strong> (number): the number of hashes you want to check</li><li>returns <strong>error</strong> (number): the probabilistic error to expect with the specified
number of hashes</li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>MINHASH_ERROR</span><span class=p>(</span><span class=mi>400</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=mf>0.05</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h3 id=string-based-hashing>String-based hashing <a href=/3.12/aql/functions/miscellaneous/#string-based-hashing class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>See the following string functions:</p><ul><li><a href=/3.12/aql/functions/string/#crc32 class=link><code>CRC32()</code></a></li><li><a href=/3.12/aql/functions/string/#fnv64 class=link><code>FNV64()</code></a></li><li><a href=/3.12/aql/functions/string/#md5 class=link><code>MD5()</code></a></li><li><a href=/3.12/aql/functions/string/#sha1 class=link><code>SHA1()</code></a></li><li><a href=/3.12/aql/functions/string/#sha512 class=link><code>SHA512()</code></a></li></ul><h2 id=function-calling>Function calling <a href=/3.12/aql/functions/miscellaneous/#function-calling class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><h3 id=apply>APPLY() <a href=/3.12/aql/functions/miscellaneous/#apply class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p><code>APPLY(functionName, arguments) → retVal</code></p><p>Dynamically call the function <em>funcName</em> with the arguments specified.
Arguments are given as array and are passed as separate parameters to
the called function.</p><p>Both built-in and user-defined functions can be called.</p><ul><li><strong>funcName</strong> (string): a function name</li><li><strong>arguments</strong> (array, <em>optional</em>): an array with elements of arbitrary type</li><li>returns <strong>retVal</strong> (any): the return value of the called function</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=nf>APPLY</span><span class=p>(</span> <span class=s2>&#34;SUBSTRING&#34;</span><span class=p>,</span> <span class=p>[</span> <span class=s2>&#34;this is a test&#34;</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>7</span> <span class=p>]</span> <span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>// &#34;this is&#34;
</span></span></span></code></pre></div><h3 id=call>CALL() <a href=/3.12/aql/functions/miscellaneous/#call class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p><code>CALL(funcName, arg1, arg2, ... argN) → retVal</code></p><p>Dynamically call the function <em>funcName</em> with the arguments specified.
Arguments are given as multiple parameters and passed as separate
parameters to the called function.</p><p>Both built-in and user-defined functions can be called.</p><ul><li><strong>funcName</strong> (string): a function name</li><li><strong>args</strong> (any, <em>repeatable</em>): an arbitrary number of elements as
multiple arguments, can be omitted</li><li>returns <strong>retVal</strong> (any): the return value of the called function</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=nf>CALL</span><span class=p>(</span> <span class=s2>&#34;SUBSTRING&#34;</span><span class=p>,</span> <span class=s2>&#34;this is a test&#34;</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>4</span> <span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>// &#34;this&#34;
</span></span></span></code></pre></div><h2 id=other-functions>Other functions <a href=/3.12/aql/functions/miscellaneous/#other-functions class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><h3 id=assert--warn>ASSERT() / WARN() <a href=/3.12/aql/functions/miscellaneous/#assert--warn class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p><code>ASSERT(expr, message) → retVal</code><br><code>WARN(expr, message) → retVal</code></p><p>The two functions evaluate an expression. In case the expression evaluates to
<em>true</em> both functions will return <em>true</em>. If the expression evaluates to
<em>false</em> <em>ASSERT</em> will throw an error and <em>WARN</em> will issue a warning and return
<em>false</em>. This behavior allows the use of <em>ASSERT</em> and <em>WARN</em> in <code>FILTER</code>
conditions.</p><ul><li><strong>expr</strong> (expression): AQL expression to be evaluated</li><li><strong>message</strong> (string): message that will be used in exception or warning if expression evaluates to false</li><li>returns <strong>retVal</strong> (bool): returns true if expression evaluates to true</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>FOR</span> <span class=n>i</span> <span class=kr>IN</span> <span class=mf>1</span><span class=o>..</span><span class=mi>3</span> <span class=kr>FILTER</span> <span class=nf>ASSERT</span><span class=p>(</span><span class=n>i</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>,</span> <span class=s2>&#34;i is not greater 0&#34;</span><span class=p>)</span> <span class=kr>RETURN</span> <span class=n>i</span>
</span></span><span class=line><span class=cl><span class=kr>FOR</span> <span class=n>i</span> <span class=kr>IN</span> <span class=mf>1</span><span class=o>..</span><span class=mi>3</span> <span class=kr>FILTER</span> <span class=nf>WARN</span><span class=p>(</span><span class=n>i</span> <span class=o>&lt;</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>&#34;i is not smaller 2&#34;</span><span class=p>)</span> <span class=kr>RETURN</span> <span class=n>i</span></span></span></code></pre></div><h3 id=in_range>IN_RANGE() <a href=/3.12/aql/functions/miscellaneous/#in_range class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p><code>IN_RANGE(value, low, high, includeLow, includeHigh) → included</code></p><p>Returns true if <em>value</em> is greater than (or equal to) <em>low</em> and less than
(or equal to) <em>high</em>. The values can be of different types. They are compared
as described in <a href=/3.12/aql/fundamentals/type-and-value-order/ class=link>Type and value order</a> and
is thus identical to the comparison operators <code>&lt;</code>, <code>&lt;=</code>, <code>></code> and <code>>=</code> in
behavior.</p><ul><li><strong>value</strong> (any): an element of arbitrary type</li><li><strong>low</strong> (any): minimum value of the desired range</li><li><strong>high</strong> (any): maximum value of the desired range</li><li><strong>includeLow</strong> (bool): whether the minimum value shall be included in
the range (left-closed interval) or not (left-open interval)</li><li><strong>includeHigh</strong> (bool): whether the maximum value shall be included in
the range (right-closed interval) or not (right-open interval)</li><li>returns <strong>included</strong> (bool): whether <em>value</em> is in the range</li></ul><p>If <em>low</em> and <em>high</em> are the same, but <em>includeLow</em> and/or <em>includeHigh</em> is set
to <code>false</code>, then nothing will match. If <em>low</em> is greater than <em>high</em> nothing will
match either.</p><div class="box notices cstyle info"><div class=box-content-container><div class=box-content><i class="fas fa-info-circle"></i><div class=box-text>The regular <code>IN_RANGE()</code> function cannot utilize indexes, unlike its
ArangoSearch counterpart which can use the View index.</div></div></div></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kd>LET</span> <span class=n>value</span> <span class=o>=</span> <span class=mi>4</span>
</span></span><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>IN_RANGE</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=kc>true</span><span class=p>,</span> <span class=kc>true</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=cm>/* same as:
</span></span></span><span class=line><span class=cl><span class=cm>   RETURN value &gt;= 3 AND value &lt;= 5
</span></span></span><span class=line><span class=cl><span class=cm>*/</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=kc>true</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>FOR</span> <span class=n>value</span> <span class=kr>IN</span> <span class=mf>2</span><span class=o>..</span><span class=mi>6</span>
</span></span><span class=line><span class=cl>  <span class=kr>RETURN</span> <span class=p>{</span> <span class=n>value</span><span class=p>,</span> <span class=n>in_range</span><span class=o>:</span> <span class=nf>IN_RANGE</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=kc>false</span><span class=p>,</span> <span class=kc>true</span><span class=p>)</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=cm>/* same as:
</span></span></span><span class=line><span class=cl><span class=cm>     RETURN { value, in_range: value &gt; 3 AND value &lt;= 5 }
</span></span></span><span class=line><span class=cl><span class=cm>  */</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=p>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;value&#34;</span> <span class=o>:</span> <span class=mi>2</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;in_range&#34;</span> <span class=o>:</span> <span class=kc>false</span> 
</span></span><span class=line><span class=cl>  <span class=p>},</span> 
</span></span><span class=line><span class=cl>  <span class=p>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;value&#34;</span> <span class=o>:</span> <span class=mi>3</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;in_range&#34;</span> <span class=o>:</span> <span class=kc>false</span> 
</span></span><span class=line><span class=cl>  <span class=p>},</span> 
</span></span><span class=line><span class=cl>  <span class=p>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;value&#34;</span> <span class=o>:</span> <span class=mi>4</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;in_range&#34;</span> <span class=o>:</span> <span class=kc>true</span> 
</span></span><span class=line><span class=cl>  <span class=p>},</span> 
</span></span><span class=line><span class=cl>  <span class=p>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;value&#34;</span> <span class=o>:</span> <span class=mi>5</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;in_range&#34;</span> <span class=o>:</span> <span class=kc>true</span> 
</span></span><span class=line><span class=cl>  <span class=p>},</span> 
</span></span><span class=line><span class=cl>  <span class=p>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;value&#34;</span> <span class=o>:</span> <span class=mi>6</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;in_range&#34;</span> <span class=o>:</span> <span class=kc>false</span> 
</span></span><span class=line><span class=cl>  <span class=p>}</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kd>LET</span> <span class=n>coll</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span> <span class=n>text</span><span class=o>:</span> <span class=s2>&#34;fennel&#34;</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span> <span class=n>text</span><span class=o>:</span> <span class=s2>&#34;fox grape&#34;</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span> <span class=n>text</span><span class=o>:</span> <span class=s2>&#34;forest strawberry&#34;</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span> <span class=n>text</span><span class=o>:</span> <span class=s2>&#34;fungus&#34;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=kr>FOR</span> <span class=n>doc</span> <span class=kr>IN</span> <span class=n>coll</span>
</span></span><span class=line><span class=cl>  <span class=kr>FILTER</span> <span class=nf>IN_RANGE</span><span class=p>(</span><span class=n>doc</span><span class=p>.</span><span class=n>text</span><span class=p>,</span><span class=s2>&#34;fo&#34;</span><span class=p>,</span> <span class=s2>&#34;fp&#34;</span><span class=p>,</span> <span class=kc>true</span><span class=p>,</span> <span class=kc>false</span><span class=p>)</span> <span class=c1>// values with prefix &#34;fo&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=cm>/* same as:
</span></span></span><span class=line><span class=cl><span class=cm>     FILTER doc.text &gt;= &#34;fo&#34; AND doc.text &lt; &#34;fp&#34;
</span></span></span><span class=line><span class=cl><span class=cm>  */</span>
</span></span><span class=line><span class=cl>  <span class=kr>RETURN</span> <span class=n>doc</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=p>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;text&#34;</span> <span class=o>:</span> <span class=s2>&#34;fox grape&#34;</span> 
</span></span><span class=line><span class=cl>  <span class=p>},</span> 
</span></span><span class=line><span class=cl>  <span class=p>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;text&#34;</span> <span class=o>:</span> <span class=s2>&#34;forest strawberry&#34;</span> 
</span></span><span class=line><span class=cl>  <span class=p>}</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h2 id=internal-functions>Internal functions <a href=/3.12/aql/functions/miscellaneous/#internal-functions class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>The following functions are used during development of ArangoDB as a database
system, primarily for unit testing. They are not intended to be used by end
users, especially not in production environments.</p><h3 id=fail>FAIL() <a href=/3.12/aql/functions/miscellaneous/#fail class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p><code>FAIL(reason)</code></p><p>Let a query fail on purpose. Can be used in a conditional branch, or to verify
if lazy evaluation / short circuiting is used for instance.</p><ul><li><strong>reason</strong> (string): an error message</li><li>returns nothing, because the query is aborted</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=mi>1</span> <span class=o>==</span> <span class=mi>1</span> <span class=o>?</span> <span class=s2>&#34;okay&#34;</span> <span class=o>:</span> <span class=nf>FAIL</span><span class=p>(</span><span class=s2>&#34;error&#34;</span><span class=p>)</span> <span class=c1>// &#34;okay&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>RETURN</span> <span class=mi>1</span> <span class=o>==</span> <span class=mi>1</span> <span class=o>||</span> <span class=nf>FAIL</span><span class=p>(</span><span class=s2>&#34;error&#34;</span><span class=p>)</span> <span class=o>?</span> <span class=kc>true</span> <span class=o>:</span> <span class=kc>false</span> <span class=c1>// true
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>RETURN</span> <span class=mi>1</span> <span class=o>==</span> <span class=mi>2</span> <span class=o>&amp;&amp;</span> <span class=nf>FAIL</span><span class=p>(</span><span class=s2>&#34;error&#34;</span><span class=p>)</span> <span class=o>?</span> <span class=kc>true</span> <span class=o>:</span> <span class=kc>false</span> <span class=c1>// false
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>RETURN</span> <span class=mi>1</span> <span class=o>==</span> <span class=mi>1</span> <span class=o>&amp;&amp;</span> <span class=nf>FAIL</span><span class=p>(</span><span class=s2>&#34;error&#34;</span><span class=p>)</span> <span class=o>?</span> <span class=kc>true</span> <span class=o>:</span> <span class=kc>false</span> <span class=c1>// aborted with error
</span></span></span></code></pre></div><h3 id=noopt--noeval>NOOPT() / NOEVAL() <a href=/3.12/aql/functions/miscellaneous/#noopt--noeval class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p><code>NOOPT(value) → retVal</code></p><p>No-operation that prevents certain query compile-time and run-time optimizations.
Constant expressions can be forced to be evaluated at runtime with this.
This function is marked as non-deterministic so its argument withstands
query optimization.</p><p><code>NOEVAL(value) → retVal</code></p><p>Same as <code>NOOPT()</code>, except that it is marked as deterministic.</p><p>There is no need to call these functions explicitly, they are mainly used for
internal testing.</p><ul><li><strong>value</strong> (any): a value of arbitrary type</li><li>returns <strong>retVal</strong> (any): <em>value</em></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=c1>// differences in execution plan (explain)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>FOR</span> <span class=n>i</span> <span class=kr>IN</span> <span class=mf>1</span><span class=o>..</span><span class=mi>3</span> <span class=kr>RETURN</span> <span class=p>(</span><span class=mi>1</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span>       <span class=c1>// const assignment
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>FOR</span> <span class=n>i</span> <span class=kr>IN</span> <span class=mf>1</span><span class=o>..</span><span class=mi>3</span> <span class=kr>RETURN</span> <span class=nf>NOOPT</span><span class=p>(</span><span class=mi>1</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span>  <span class=c1>// simple expression
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>FOR</span> <span class=n>i</span> <span class=kr>IN</span> <span class=mf>1</span><span class=o>..</span><span class=mi>3</span> <span class=kr>RETURN</span> <span class=nf>NOEVAL</span><span class=p>(</span><span class=mi>1</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span> <span class=c1>// simple expression
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>NOOPT</span><span class=p>(</span> <span class=mi>123</span> <span class=p>)</span> <span class=c1>// evaluates 123 at runtime
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>RETURN</span> <span class=nf>NOOPT</span><span class=p>(</span> <span class=nf>CONCAT</span><span class=p>(</span><span class=s2>&#34;a&#34;</span><span class=p>,</span> <span class=s2>&#34;b&#34;</span><span class=p>)</span> <span class=p>)</span> <span class=c1>// evaluates concatenation at runtime
</span></span></span></code></pre></div><h3 id=passthru>PASSTHRU() <a href=/3.12/aql/functions/miscellaneous/#passthru class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p><code>PASSTHRU(value) → retVal</code></p><p>Simply returns its call argument unmodified. There is no need to call this function
explicitly, it is mainly used for internal testing.</p><ul><li><strong>value</strong> (any): a value of arbitrary type</li><li>returns <strong>retVal</strong> (any): <em>value</em></li></ul><h3 id=schema_get>SCHEMA_GET() <a href=/3.12/aql/functions/miscellaneous/#schema_get class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p><code>SCHEMA_GET(collection) → schema</code></p><p>Return the schema definition as defined in the properties of the
specified collection.</p><ul><li><strong>collection</strong> (string): name of a collection</li><li>returns <strong>schema</strong> (object): schema definition object</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>SCHEMA_GET</span><span class=p>(</span><span class=s2>&#34;myColl&#34;</span><span class=p>)</span></span></span></code></pre></div><h3 id=schema_validate>SCHEMA_VALIDATE() <a href=/3.12/aql/functions/miscellaneous/#schema_validate class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p><code>SCHEMA_VALIDATE(doc, schema) → result</code></p><p>Test if the given document is valid according to the schema definition.</p><ul><li><strong>doc</strong> (doc): document</li><li><strong>schema</strong> (object): schema definition object</li><li>returns <strong>result</strong> (object): an object with the following attributes:<ul><li><strong>valid</strong> (bool): <code>true</code> if the document fulfills the schema&rsquo;s requirements,
otherwise it will be <code>false</code> and <em>errorMessage</em> will be set</li><li><strong>errorMessage</strong> (string): details about the validation failure</li></ul></li></ul><p>If the input document <strong>doc</strong> is not an object, the function will return
a <em>null</em> value and register a warning in the query.</p><p>Using an empty <strong>schema</strong> object is equivalent to specifying a <strong>schema</strong>
value of <em>null</em>, which will make all input objects successfully pass the
validation.</p><h3 id=sleep>SLEEP() <a href=/3.12/aql/functions/miscellaneous/#sleep class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p><code>SLEEP(seconds) → null</code></p><p>Wait for a certain amount of time before continuing the query.</p><ul><li><strong>seconds</strong> (number): amount of time to wait</li><li>returns a <em>null</em> value</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=nf>SLEEP</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>    <span class=c1>// wait 1 second
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nf>SLEEP</span><span class=p>(</span><span class=mf>0.02</span><span class=p>)</span> <span class=c1>// wait 20 milliseconds
</span></span></span></code></pre></div><h3 id=v8>V8() <a href=/3.12/aql/functions/miscellaneous/#v8 class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p><code>V8(expression) → retVal</code></p><p>No-operation that enforces the usage of the V8 JavaScript engine. There is
no need to call this function explicitly, it is mainly used for internal
testing.</p><ul><li><strong>expression</strong> (any): arbitrary expression</li><li>returns <strong>retVal</strong> (any): the return value of the <em>expression</em></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=c1>// differences in execution plan (explain)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>FOR</span> <span class=n>i</span> <span class=kr>IN</span> <span class=mf>1</span><span class=o>..</span><span class=mi>3</span> <span class=kr>RETURN</span> <span class=p>(</span><span class=mi>1</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span>          <span class=c1>// const assignment
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>FOR</span> <span class=n>i</span> <span class=kr>IN</span> <span class=mf>1</span><span class=o>..</span><span class=mi>3</span> <span class=kr>RETURN</span> <span class=nf>V8</span><span class=p>(</span><span class=mi>1</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span>        <span class=c1>// simple expression
</span></span></span></code></pre></div><h3 id=version>VERSION() <a href=/3.12/aql/functions/miscellaneous/#version class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p><code>VERSION() → serverVersion</code></p><p>Returns the server version as a string. In a cluster, returns the version
of the Coordinator.</p><ul><li>returns <strong>serverVersion</strong> (string): the server version string</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-aql data-lang=aql><span class=line><span class=cl><span class=kr>RETURN</span> <span class=nf>VERSION</span><span class=p>()</span>        <span class=c1>// e.g. &#34;3.10.0&#34; 
</span></span></span></code></pre></div><nav class=pagination><span class=prev><a class="nav nav-prev link" href=/3.12/aql/functions/geo/><i class="fas fa-chevron-left fa-fw"></i><p>Geo</p></a></span><span class=next><a class="nav nav-next link" href=/3.12/aql/functions/numeric/><p>Numeric</p><i class="fas fa-chevron-right fa-fw"></i></a></span></nav></article><div class=toc-container><a class=edit-page aria-label href=https://github.com/arangodb/docs-hugo/edit/main/site/content/3.12/aql/functions/miscellaneous.md target=_blank><i class="fab fa-fw fa-github edit-page-icon"></i></a><div class=toc><div class=toc-content><div class=toc-header><p>On this page</p></div><nav id=TableOfContents><div class=level-2><a href=#control-flow-functions>Control flow functions</a></div><div class=level-3><a href=#first_document>FIRST_DOCUMENT()</a></div><div class=level-3><a href=#first_list>FIRST_LIST()</a></div><div class=level-3><a href=#min_match>MIN_MATCH()</a></div><div class=level-3><a href=#not_null>NOT_NULL()</a></div><div class=level-3><a href=#ternary-operator>Ternary operator</a></div><div class=level-2><a href=#database-functions>Database functions</a></div><div class=level-3><a href=#check_document>CHECK_DOCUMENT()</a></div><div class=level-3><a href=#collection_count>COLLECTION_COUNT()</a></div><div class=level-3><a href=#collections>COLLECTIONS()</a></div><div class=level-3><a href=#count>COUNT()</a></div><div class=level-3><a href=#current_database>CURRENT_DATABASE()</a></div><div class=level-3><a href=#current_user>CURRENT_USER()</a></div><div class=level-3><a href=#decode_rev>DECODE_REV()</a></div><div class=level-3><a href=#document>DOCUMENT()</a></div><div class=level-3><a href=#length>LENGTH()</a></div><div class=level-3><a href=#shard_id>SHARD_ID()</a></div><div class=level-2><a href=#hash-functions>Hash functions</a></div><div class=level-3><a href=#hash>HASH()</a></div><div class=level-3><a href=#minhash>MINHASH()</a></div><div class=level-3><a href=#minhash_count>MINHASH_COUNT()</a></div><div class=level-3><a href=#minhash_error>MINHASH_ERROR()</a></div><div class=level-3><a href=#string-based-hashing>String-based hashing</a></div><div class=level-2><a href=#function-calling>Function calling</a></div><div class=level-3><a href=#apply>APPLY()</a></div><div class=level-3><a href=#call>CALL()</a></div><div class=level-2><a href=#other-functions>Other functions</a></div><div class=level-3><a href=#assert--warn>ASSERT() / WARN()</a></div><div class=level-3><a href=#in_range>IN_RANGE()</a></div><div class=level-2><a href=#internal-functions>Internal functions</a></div><div class=level-3><a href=#fail>FAIL()</a></div><div class=level-3><a href=#noopt--noeval>NOOPT() / NOEVAL()</a></div><div class=level-3><a href=#passthru>PASSTHRU()</a></div><div class=level-3><a href=#schema_get>SCHEMA_GET()</a></div><div class=level-3><a href=#schema_validate>SCHEMA_VALIDATE()</a></div><div class=level-3><a href=#sleep>SLEEP()</a></div><div class=level-3><a href=#v8>V8()</a></div><div class=level-3><a href=#version>VERSION()</a></div></nav></div></div></div></div></div></section></section></div><button class="back-to-top hidden" onclick=goToTop(event) href=#><i class="fa fa-arrow-up"></i></button><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3>
<script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3></script>
<script type=text/javascript>window.setupDocSearch=function(e){if(!window.docsearch)return;docsearch({appId:"OK3ZBQ5982",apiKey:"500c85ccecb335d507fe4449aed12e1d",indexName:"arangodbdocs",insights:!0,container:"#searchbox",debug:!1,maxResultsPerGroup:10,searchParameters:{facetFilters:[`version:${e}`]}})}</script></body></html>