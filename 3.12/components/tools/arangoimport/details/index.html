<!doctype html><html lang=en><head><link href=//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css rel=stylesheet><link href=//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css rel=stylesheet><link href=/css/fontawesome-all.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fontawesome-all.min.css rel=stylesheet></noscript><link href=/css/featherlight.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/featherlight.min.css rel=stylesheet></noscript><link href=/css/nucleus.css rel=stylesheet><link href=/css/fonts.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fonts.css rel=stylesheet></noscript><link href=/css/theme.css rel=stylesheet><link href=/css/theme-relearn-light.css rel=stylesheet id=variant-style><link href=/css/print.css rel=stylesheet media=print><script src=/js/variant.js?1747031427></script>
<script>var root_url="/",baseUriFull,baseUri=root_url.replace(/\/$/,"");window.T_Copy_to_clipboard="",window.T_Copied_to_clipboard="",window.T_Copy_link_to_clipboard="",window.T_Link_copied_to_clipboard="",baseUriFull="http://localhost/",window.variants&&variants.init(["relearn-light"])</script><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.119.0"><meta itemprop=description property="description" content="The most convenient method to import a lot of data into ArangoDB is to use the arangoimport command-line tool"><meta property="og:url" content="http://localhost/3.12/components/tools/arangoimport/details/"><meta property="og:title" content="arangoimport Details"><meta property="og:type" content="website"><meta property="og:description" content="The most convenient method to import a lot of data into ArangoDB is to use the arangoimport command-line tool"><meta name=docsearch:version content="3.12"><title>arangoimport Details | ArangoDB Documentation</title><link href=/images/favicon.png rel=icon type=image/png><script src=/js/jquery.min.js></script>
<script src=/js/clipboard.min.js?1747031427 defer></script>
<script src=/js/featherlight.min.js?1747031427 defer></script>
<script>var versions=[{alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"},{alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"},{alias:"3.11",deprecated:!1,name:"3.11",version:"3.11.13"},{alias:"3.10",deprecated:!0,name:"3.10",version:"3.10.14"}]</script><script>var develVersion={alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"}</script><script>var stableVersion={alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"}</script><script src=/js/codeblocks.js?1747031427 defer></script>
<script src=/js/theme.js?1747031427 defer></script></head><body><noscript>You need to enable JavaScript to use the ArangoDB documentation.</noscript><div id=page-wrapper class=page_content_splash style=height:auto;opacity:0><section id=page-main><section class=page-container id=page-container><header id=header style="transition:.5s padding ease-out,.15s" class="zn_header_white header-splash-new nav-down header-splash-wrap header1"><div class=header-block-left><div class=mobile-menu-toggle><button id=sidebar-toggle-navigation onclick=showSidebarHandler()><svg width="1.33em" height="1.33em" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button></div><div class=version-logo-container><div class="logo-container hasinfocard_img arangodb-logo-large"><div class=logo><a href=https://www.arangodb.com/><img src=/images/logo_main.png alt=ArangoDB title></a></div></div><div class=arangodb-logo-small><a href=https://arangodb.com/><img alt="ArangoDB Logo" src=/images/ArangoDB_Logo_White_small.png></a></div></div></div><div class=container-right style=display:hidden></div><div class=search-and-version-container><a href=# class="home-link is-current" aria-label="Go to home page" onclick=goToHomepage(event)></a><div id=searchbox></div><script type=text/javascript>const SCRIPT_SRC="https://unpkg.com/@inkeep/widgets-embed@0.2.290/dist/embed.js";function loadAndInitializeInkeep(){if(document.querySelector(`script[src="${SCRIPT_SRC}]"`))return;const e=document.createElement("script");e.type="module",e.src=SCRIPT_SRC,e.onload=initializeInkeep,document.head.appendChild(e)}function initializeInkeep(){const e=Inkeep({integrationId:"clo4lx6jk0000s601cp21x2ok",apiKey:"13b4e56966a76e86c6ff359cd795ee6a0412f751d75d6383",organizationId:"org_HGBkkzGAa4KeGJGh",organizationDisplayName:"ArangoDB",primaryBrandColor:"#80a54d",stringReplacementRules:[{matchingRule:{ruleType:"Substring",string:"Arangograph"},replaceWith:"ArangoGraph"},{matchingRule:{ruleType:"Substring",string:"Aql"},replaceWith:"AQL"},{matchingRule:{ruleType:"Substring",string:"Arangodb"},replaceWith:"ArangoDB"}],customCardSettings:[{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arango.qubitpi.org"}},searchTabLabel:"Official Docs"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"developer.arangodb.com"}},searchTabLabel:"Developer Hub"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arangodb.com"}},searchTabLabel:"Home"}]}),t=e.embed({componentType:"ChatButton",properties:{stylesheetUrls:["/css/fonts.css"],fixedPositionXOffset:"52px",baseSettings:{theme:{primaryColors:{textColorOnPrimary:"white"},tokens:{fonts:{body:"'Inter'",heading:"'Inter'"},zIndex:{overlay:1e4,modal:11e3,popover:12e3,skipLink:13e3,toast:14e3,tooltip:15e3}}}},aiChatSettings:{botAvatarSrcUrl:"/images/ArangoDB_Logo_White_small.png",quickQuestions:["What can you do with AQL that is not feasible with SQL?","How do I search for objects within arrays?","Where can I deploy my ArangoDB instance?"],getHelpCallToActions:[{icon:{builtIn:"FaSlack"},name:"Slack",url:"https://arangodb-community.slack.com/"}]},searchSettings:{tabSettings:{isAllTabEnabled:!1,alwaysDisplayedTabs:["Official Docs","Developer Hub","Home"]}}}})}loadAndInitializeInkeep()</script><div class=version-selector><select id=arangodb-version onchange=changeVersion()><option value=3.13>3.13</option><option value=3.12>3.12</option><option value=3.11>3.11</option><option value=3.10>3.10</option><option value=3.9>3.9</option><option value=3.8>3.8</option></select></div></div></header><iframe src=/nav.html title=description id=menu-iframe class="menu-iframe active" style=opacity:0></iframe><div class=container-main><div class=row-main><nav id=breadcrumbs><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><meta itemprop=itemListOrder content="Descending"><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="3.12"><a itemprop=item class=link href=/3.12/><span itemprop=name class=breadcrumb-entry>3.12.4</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Components"><a itemprop=item class=link href=/3.12/components/><span itemprop=name class=breadcrumb-entry>Components</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Tools"><a itemprop=item class=link href=/3.12/components/tools/><span itemprop=name class=breadcrumb-entry>Tools</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="arangoimport"><a itemprop=item class=link href=/3.12/components/tools/arangoimport/><span itemprop=name class=breadcrumb-entry>arangoimport</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Details"><a itemprop=item class=link href=/3.12/components/tools/arangoimport/details/><span itemprop=name class=breadcrumb-entry>Details</span></a></li></ol></nav><article class=default><hgroup><h1><em>arangoimport</em> Details</h1><p class=lead>The most convenient method to import a lot of data into ArangoDB is to use the arangoimport command-line tool</p></hgroup><p>The most convenient method to import a lot of data into ArangoDB is to use the
<em>arangoimport</em> command-line tool. It allows you to bulk import data records
from a file into a database collection. Multiple files can be imported into
the same or different collections by invoking it multiple times.</p><div class="box notices cstyle tip"><div class=box-content-container><div class=box-content><i class="fas fa-check"></i><div class=box-text><p>Import files are expected to be UTF-8 encoded <strong>without</strong>
<a href=https://en.wikipedia.org/wiki/Byte_order_mark target=_blank rel="noopener noreferrer" class=link>byte order mark (BOM)</a>&nbsp;<i class="fas fa-external-link-alt"></i>.
Other encodings are not supported, but may not raise warnings or errors.</p><p>In case of CSV/TSV files, BOMs become part of the first column&rsquo;s name
(possibly mangled), so be sure the files have none.</p></div></div></div></div><h2 id=importing-into-an-edge-collection>Importing into an Edge Collection <a href=/3.12/components/tools/arangoimport/details/#importing-into-an-edge-collection class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><em>arangoimport</em> can also be used to import data into an existing edge collection.
The import data must, for each edge to import, contain at least the <code>_from</code> and
<code>_to</code> attributes. These indicate which other two documents the edge should connect.
It is necessary that these attributes are set for all records, and point to
valid document IDs in existing collections.</p><p><em>Example</em></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>{</span> <span class=s2>&#34;_from&#34;</span> <span class=o>:</span> <span class=s2>&#34;users/1234&#34;</span><span class=p>,</span> <span class=s2>&#34;_to&#34;</span> <span class=o>:</span> <span class=s2>&#34;users/4321&#34;</span><span class=p>,</span> <span class=s2>&#34;desc&#34;</span> <span class=o>:</span> <span class=s2>&#34;1234 is connected to 4321&#34;</span> <span class=p>}</span></span></span></code></pre></div><p><strong>Note</strong>: The edge collection must already exist when the import is started. Using
the <code>--create-collection</code> flag does not work because arangoimport always tries to
create a regular document collection if the target collection does not exist.</p><h2 id=attribute-naming-and-special-attributes>Attribute Naming and Special Attributes <a href=/3.12/components/tools/arangoimport/details/#attribute-naming-and-special-attributes class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>Attributes whose names start with an underscore are treated in a special way by
ArangoDB:</p><ul><li>the optional <code>_key</code> attribute contains the document&rsquo;s key. If specified, the value
must be formally valid (e.g. must be a string and conform to the naming restrictions<br>described in <a href=/3.12/concepts/data-structure/documents/#document-keys class=link>Document keys</a>).
Additionally, the key value must be unique within the
collection the import is run for.</li><li><code>_from</code>: when importing into an edge collection, this attribute contains the id
of one of the documents connected by the edge. The value of <code>_from</code> must be a
syntactically valid document id and the referred collection must exist.</li><li><code>_to</code>: when importing into an edge collection, this attribute contains the id
of the other document connected by the edge. The value of <code>_to</code> must be a
syntactically valid document id and the referred collection must exist.</li><li><code>_rev</code>: this attribute contains the revision number of a document. However, the
revision numbers are managed by ArangoDB and cannot be specified on import. Thus
any value in this attribute is ignored on import.</li></ul><p>If you import values into <code>_key</code>, you should make sure they are valid and unique.</p><p>When importing data into an edge collection, you should make sure that all import
documents can <code>_from</code> and <code>_to</code> and that their values point to existing documents.</p><p>To avoid specifying complete document ids (consisting of collection names and document
keys) for <code>_from</code> and <code>_to</code> values, there are the options <code>--from-collection-prefix</code> and
<code>--to-collection-prefix</code>. If specified, these values are automatically prepended
to each value in <code>_from</code> (or <code>_to</code> resp.). This allows specifying only document keys
inside <code>_from</code> and/or <code>_to</code>.</p><p><em>Example</em></p><pre tabindex=0><code>arangoimport --from-collection-prefix users --to-collection-prefix products ...
</code></pre><p>Importing the following document creates an edge between <code>users/1234</code> and
<code>products/4321</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>{</span> <span class=s2>&#34;_from&#34;</span> <span class=o>:</span> <span class=s2>&#34;1234&#34;</span><span class=p>,</span> <span class=s2>&#34;_to&#34;</span> <span class=o>:</span> <span class=s2>&#34;4321&#34;</span><span class=p>,</span> <span class=s2>&#34;desc&#34;</span> <span class=o>:</span> <span class=s2>&#34;users/1234 is connected to products/4321&#34;</span> <span class=p>}</span></span></span></code></pre></div><h2 id=updating-existing-documents>Updating existing documents <a href=/3.12/components/tools/arangoimport/details/#updating-existing-documents class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>By default, arangoimport tries to insert all documents from the import file into the
specified collection. In case the import file contains documents that are already present
in the target collection (matching is done via the <code>_key</code> attributes), then a default
arangoimport run does not import these documents and complain about unique key constraint
violations.</p><p>However, arangoimport can be used to update or replace existing documents in case they
already exist in the target collection. It provides the command-line option <code>--on-duplicate</code>
to control the behavior in case a document is already present in the database.</p><p>The default value of <code>--on-duplicate</code> is <code>error</code>. This means that when the import file
contains a document that is present in the target collection already, then trying to
re-insert a document with the same <code>_key</code> value is considered an error, and the document in
the database is not modified.</p><p>Other possible values for <code>--on-duplicate</code> are:</p><ul><li><p><code>update</code>: each document present in the import file that is also present in the target
collection already is updated by arangoimport. <code>update</code> performs a partial update
of the existing document, modifying only the attributes that are present in the import
file and leaving all other attributes untouched.</p><p>The values of system attributes <code>_id</code>, <code>_key</code>, and <code>_rev</code> cannot be
updated or replaced in existing documents.</p></li><li><p><code>replace</code>: each document present in the import file that is already present in the
target collection is replaced by arangoimport. <code>replace</code> replaces the existing
document entirely, resulting in a document with only the attributes specified in the import
file.</p><p>The values of system attributes <code>_id</code>, <code>_key</code>, and <code>_rev</code> cannot be
updated or replaced in existing documents.</p></li><li><p><code>ignore</code>: each document present in the import file that is also present in the target
collection already is ignored and not modified in the target collection.</p></li></ul><p>When <code>--on-duplicate</code> is set to either <code>update</code> or <code>replace</code>, arangoimport returns the
number of documents updated/replaced in the <code>updated</code> return value. When set to another
value, the value of <code>updated</code> is always zero. When <code>--on-duplicate</code> is set to <code>ignore</code>,
arangoimport returns the number of ignored documents in the <code>ignored</code> return value.
When set to another value, <code>ignored</code> is always zero.</p><p>It is possible to perform a combination of inserts and updates/replaces with a single
arangoimport run. When <code>--on-duplicate</code> is set to <code>update</code> or <code>replace</code>, all documents present
in the import file are inserted into the target collection provided they are valid
and do not already exist with the specified <code>_key</code>. Documents that are already present
in the target collection (identified by <code>_key</code> attribute) are instead updated/replaced.</p><h2 id=result-output>Result output <a href=/3.12/components/tools/arangoimport/details/#result-output class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>An <em>arangoimport</em> import run prints out the final results on the command line.
It shows the</p><ul><li>number of documents created (<code>created</code>)</li><li>number of documents updated/replaced (<code>updated/replaced</code>, only non-zero if
<code>--on-duplicate</code> was set to <code>update</code> or <code>replace</code>, see below)</li><li>number of warnings or errors that occurred on the server side (<code>warnings/errors</code>)</li><li>number of ignored documents (only non-zero if <code>--on-duplicate</code> was set to <code>ignore</code>).</li></ul><p><em>Example</em></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>created:          <span class=m>2</span>
</span></span><span class=line><span class=cl>warnings/errors:  <span class=m>0</span>
</span></span><span class=line><span class=cl>updated/replaced: <span class=m>0</span>
</span></span><span class=line><span class=cl>ignored:          <span class=m>0</span>
</span></span></code></pre></div><p>For CSV and TSV imports, the total number of input file lines read is also printed
(<code>lines read</code>).</p><p><em>arangoimport</em> also prints out details about warnings and errors that happened on the
server-side (if any).</p><h2 id=automatic-pacing-with-busy-or-low-throughput-disk-subsystems>Automatic pacing with busy or low throughput disk subsystems <a href=/3.12/components/tools/arangoimport/details/#automatic-pacing-with-busy-or-low-throughput-disk-subsystems class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><em>arangoimport</em> has an optional automatic pacing algorithm that can limit
how fast data is sent to the ArangoDB servers. This pacing algorithm
exists to prevent the import operation from failing due to slow responses.</p><p>Google Cloud and other VM providers limit the throughput of disk
devices. Similarly, other users&rsquo; processes on the shared VMs can limit
the available throughput of the disk devices.</p><p>The automatic pacing algorithm adjusts the transmit block size dynamically
based upon the actual throughput of the server over the last few seconds.
Automatic pacing intentionally may not use the full throughput of a
disk device. An unlimited (really fast) disk device might not need
pacing. Raising the number of threads via the <code>--threads X</code> command
line to any value of <code>X</code> greater than 2 increases the total
throughput used.</p><div class="box notices cstyle warning"><div class=box-content-container><div class=box-content><i class="fas fa-exclamation-triangle"></i><div class=box-text>Using parallelism with the <code>--threads X</code> parameter
together with the <code>--on-duplicate</code> parameter set to <code>ignore</code>, <code>update</code> or <code>replace</code> can
lead to a race condition, when there are duplicates e.g. multiple identical <code>_key</code>
values. Even ignoring the duplicates makes the result unpredictable, meaning
it is not possible to predict which versions of the documents are inserted.</div></div></div></div><p>Automatic pacing frees the user from adjusting the throughput used to
match available resources. It is disabled by default, and can be enabled
by invoking arangoimport with the <code>--auto-rate-limit true</code> parameter.</p><p>When enabling the pacing, the initial chunk size is 8MB per second. This
may be too high or too low, depending on the available disk throughput of
the target system. To start off with a different chunk size, one can
adjust the value of the <code>--batch-size</code> parameter.</p><div class="box notices cstyle tip"><div class=box-content-container><div class=box-content><i class="fas fa-check"></i><div class=box-text>The pacing algorithm is disabled by default.</div></div></div></div><nav class=pagination><span class=prev><a class="nav nav-prev link" href=/3.12/components/tools/arangoimport/examples-csv/><i class="fas fa-chevron-left fa-fw"></i><p>Examples CSV</p></a></span><span class=next><a class="nav nav-next link" href=/3.12/components/tools/arangoimport/options/><p>Options</p><i class="fas fa-chevron-right fa-fw"></i></a></span></nav></article><div class=toc-container><a class=edit-page aria-label href=https://github.com/arangodb/docs-hugo/edit/main/site/content/3.12/components/tools/arangoimport/details.md target=_blank><i class="fab fa-fw fa-github edit-page-icon"></i></a><div class=toc><div class=toc-content><div class=toc-header><p>On this page</p></div><nav id=TableOfContents><div class=level-2><a href=#importing-into-an-edge-collection>Importing into an Edge Collection</a></div><div class=level-2><a href=#attribute-naming-and-special-attributes>Attribute Naming and Special Attributes</a></div><div class=level-2><a href=#updating-existing-documents>Updating existing documents</a></div><div class=level-2><a href=#result-output>Result output</a></div><div class=level-2><a href=#automatic-pacing-with-busy-or-low-throughput-disk-subsystems>Automatic pacing with busy or low throughput disk subsystems</a></div></nav></div></div></div></div></div></section></section></div><button class="back-to-top hidden" onclick=goToTop(event) href=#><i class="fa fa-arrow-up"></i></button><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3>
<script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3></script>
<script type=text/javascript>window.setupDocSearch=function(e){if(!window.docsearch)return;docsearch({appId:"OK3ZBQ5982",apiKey:"500c85ccecb335d507fe4449aed12e1d",indexName:"arangodbdocs",insights:!0,container:"#searchbox",debug:!1,maxResultsPerGroup:10,searchParameters:{facetFilters:[`version:${e}`]}})}</script></body></html>