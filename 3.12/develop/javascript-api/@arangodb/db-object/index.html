<!doctype html><html lang=en><head><link href=//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css rel=stylesheet><link href=//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css rel=stylesheet><link href=/css/fontawesome-all.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fontawesome-all.min.css rel=stylesheet></noscript><link href=/css/featherlight.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/featherlight.min.css rel=stylesheet></noscript><link href=/css/nucleus.css rel=stylesheet><link href=/css/fonts.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fonts.css rel=stylesheet></noscript><link href=/css/theme.css rel=stylesheet><link href=/css/theme-relearn-light.css rel=stylesheet id=variant-style><link href=/css/print.css rel=stylesheet media=print><script src=/js/variant.js?1743775370></script>
<script>var root_url="/",baseUriFull,baseUri=root_url.replace(/\/$/,"");window.T_Copy_to_clipboard="",window.T_Copied_to_clipboard="",window.T_Copy_link_to_clipboard="",window.T_Link_copied_to_clipboard="",baseUriFull="http://localhost/",window.variants&&variants.init(["relearn-light"])</script><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.119.0"><meta itemprop=description property="description" content="The database object represents the currently selected database and provides access to information and methods for executing operations in the context of this database"><meta property="og:url" content="http://localhost/3.12/develop/javascript-api/@arangodb/db-object/"><meta property="og:title" content="The db object of the JavaScript API"><meta property="og:type" content="website"><meta property="og:description" content="The database object represents the currently selected database and provides access to information and methods for executing operations in the context of this database"><meta name=docsearch:version content="3.12"><title>The db object of the JavaScript API | ArangoDB Documentation</title><link href=/images/favicon.png rel=icon type=image/png><script src=/js/jquery.min.js></script>
<script src=/js/clipboard.min.js?1743775370 defer></script>
<script src=/js/featherlight.min.js?1743775370 defer></script>
<script>var versions=[{alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"},{alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"},{alias:"3.11",deprecated:!1,name:"3.11",version:"3.11.13"},{alias:"3.10",deprecated:!0,name:"3.10",version:"3.10.14"}]</script><script>var develVersion={alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"}</script><script>var stableVersion={alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"}</script><script src=/js/codeblocks.js?1743775370 defer></script>
<script src=/js/theme.js?1743775370 defer></script></head><body><noscript>You need to enable JavaScript to use the ArangoDB documentation.</noscript><div id=page-wrapper class=page_content_splash style=height:auto;opacity:0><section id=page-main><section class=page-container id=page-container><header id=header style="transition:.5s padding ease-out,.15s" class="zn_header_white header-splash-new nav-down header-splash-wrap header1"><div class=header-block-left><div class=mobile-menu-toggle><button id=sidebar-toggle-navigation onclick=showSidebarHandler()><svg width="1.33em" height="1.33em" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button></div><div class=version-logo-container><div class="logo-container hasinfocard_img arangodb-logo-large"><div class=logo><a href=https://www.arangodb.com/><img src=/images/logo_main.png alt=ArangoDB title></a></div></div><div class=arangodb-logo-small><a href=https://arangodb.com/><img alt="ArangoDB Logo" src=/images/ArangoDB_Logo_White_small.png></a></div></div></div><div class=container-right style=display:hidden></div><div class=search-and-version-container><a href=# class="home-link is-current" aria-label="Go to home page" onclick=goToHomepage(event)></a><div id=searchbox></div><script type=text/javascript>const SCRIPT_SRC="https://unpkg.com/@inkeep/widgets-embed@0.2.290/dist/embed.js";function loadAndInitializeInkeep(){if(document.querySelector(`script[src="${SCRIPT_SRC}]"`))return;const e=document.createElement("script");e.type="module",e.src=SCRIPT_SRC,e.onload=initializeInkeep,document.head.appendChild(e)}function initializeInkeep(){const e=Inkeep({integrationId:"clo4lx6jk0000s601cp21x2ok",apiKey:"13b4e56966a76e86c6ff359cd795ee6a0412f751d75d6383",organizationId:"org_HGBkkzGAa4KeGJGh",organizationDisplayName:"ArangoDB",primaryBrandColor:"#80a54d",stringReplacementRules:[{matchingRule:{ruleType:"Substring",string:"Arangograph"},replaceWith:"ArangoGraph"},{matchingRule:{ruleType:"Substring",string:"Aql"},replaceWith:"AQL"},{matchingRule:{ruleType:"Substring",string:"Arangodb"},replaceWith:"ArangoDB"}],customCardSettings:[{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arango.qubitpi.org"}},searchTabLabel:"Official Docs"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"developer.arangodb.com"}},searchTabLabel:"Developer Hub"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arangodb.com"}},searchTabLabel:"Home"}]}),t=e.embed({componentType:"ChatButton",properties:{stylesheetUrls:["/css/fonts.css"],fixedPositionXOffset:"52px",baseSettings:{theme:{primaryColors:{textColorOnPrimary:"white"},tokens:{fonts:{body:"'Inter'",heading:"'Inter'"},zIndex:{overlay:1e4,modal:11e3,popover:12e3,skipLink:13e3,toast:14e3,tooltip:15e3}}}},aiChatSettings:{botAvatarSrcUrl:"/images/ArangoDB_Logo_White_small.png",quickQuestions:["What can you do with AQL that is not feasible with SQL?","How do I search for objects within arrays?","Where can I deploy my ArangoDB instance?"],getHelpCallToActions:[{icon:{builtIn:"FaSlack"},name:"Slack",url:"https://arangodb-community.slack.com/"}]},searchSettings:{tabSettings:{isAllTabEnabled:!1,alwaysDisplayedTabs:["Official Docs","Developer Hub","Home"]}}}})}loadAndInitializeInkeep()</script><div class=version-selector><select id=arangodb-version onchange=changeVersion()><option value=3.13>3.13</option><option value=3.12>3.12</option><option value=3.11>3.11</option><option value=3.10>3.10</option><option value=3.9>3.9</option><option value=3.8>3.8</option></select></div></div></header><iframe src=/nav.html title=description id=menu-iframe class="menu-iframe active" style=opacity:0></iframe><div class=container-main><div class=row-main><nav id=breadcrumbs><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><meta itemprop=itemListOrder content="Descending"><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="3.12"><a itemprop=item class=link href=/3.12/><span itemprop=name class=breadcrumb-entry>3.12.4</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Develop"><a itemprop=item class=link href=/3.12/develop/><span itemprop=name class=breadcrumb-entry>Develop</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="JavaScript API"><a itemprop=item class=link href=/3.12/develop/javascript-api/><span itemprop=name class=breadcrumb-entry>JavaScript API</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="@arangodb"><a itemprop=item class=link href=/3.12/develop/javascript-api/@arangodb/><span itemprop=name class=breadcrumb-entry>@arangodb</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="db object"><a itemprop=item class=link href=/3.12/develop/javascript-api/@arangodb/db-object/><span itemprop=name class=breadcrumb-entry><code>db</code> object</span></a></li></ol></nav><article class=default><hgroup><h1>The <code>db</code> object of the JavaScript API</h1><p class=lead>The database object represents the currently selected database and provides access to information and methods for executing operations in the context of this database</p></hgroup><p>The <code>db</code> object of the JavaScript API is available in <a href=/3.12/components/tools/arangodb-shell/ class=link>arangosh</a>
by default, and can also be imported and used in Foxx services and other
server-side JavaScript contexts from the <code>@arangodb</code> module.</p><h2 id=property-access>Property access <a href=/3.12/develop/javascript-api/@arangodb/db-object/#property-access class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><ul><li><p><code>db.&lt;collection-name></code> and <code>db["&lt;collection-name>"]</code> return a
<a href=/3.12/develop/javascript-api/@arangodb/collection-object/ class=link><em>collection</em> object</a> for the
specified collection if it exists.</p></li><li><p><code>db.&lt;view-name></code> and <code>db["&lt;view-name>"]</code> return a
<a href=/3.12/develop/javascript-api/@arangodb/view-object/ class=link><em>view</em> object</a> for the
specified View if it exists.</p></li></ul><h2 id=databases>Databases <a href=/3.12/develop/javascript-api/@arangodb/db-object/#databases class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><h3 id=db_createdatabasename--options--users><code>db._createDatabase(name [, options [, users]])</code> <a href=/3.12/develop/javascript-api/@arangodb/db-object/#db_createdatabasename--options--users class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>Creates a new database with the specified name.
There are restrictions for database names
(see <a href=/3.12/concepts/data-structure/databases/#database-names class=link>Database names</a>).</p><div class="box notices cstyle info"><div class=box-content-container><div class=box-content><i class="fas fa-info-circle"></i><div class=box-text>You can only create new databases from within the <code>_system</code> database.</div></div></div></div><p>Note that even if the database is created successfully, there will be no
change into the current database to the new database. Changing the current
database must explicitly be requested by using the
<code>db._useDatabase()</code> method.</p><p>The <code>options</code> attribute can be used to set defaults for collections that will
be created in the new database (<em>cluster only</em>):</p><ul><li><code>sharding</code>: The sharding method to use. Valid values are: <code>""</code> or <code>"single"</code>.
Setting this option to <code>"single"</code> will enable the OneShard feature in the
Enterprise Edition.</li><li><code>replicationFactor</code>: Default replication factor. Special values include
<code>"satellite"</code>, which will replicate the collection to every DB-Server, and
<code>1</code>, which disables replication.</li><li><code>writeConcern</code>: how many copies of each shard are required to be in sync on
the different DB-Servers. If there are less then these many copies in the
cluster a shard will refuse to write. The value of <code>writeConcern</code> cannot be
greater than <code>replicationFactor</code>.</li></ul><p>The optional <code>users</code> attribute can be used to create initial users for
the new database. If specified, it must be a list of user objects. Each user
object can contain the following attributes:</p><ul><li><code>username</code>: the user name as a string. This attribute is mandatory.</li><li><code>passwd</code>: the user password as a string. If not specified, then it defaults
to an empty string.</li><li><code>active</code>: a boolean flag indicating whether the user account should be
active or not. The default value is <code>true</code>.</li><li><code>extra</code>: an optional JSON object with extra user information. The data
contained in <code>extra</code> will be stored for the user but not be interpreted
further by ArangoDB.</li></ul><p>If no initial users are specified, a default user <code>root</code> will be created
with an empty string password. This ensures that the new database will be
accessible via HTTP after it is created.</p><p>You can create users in a database if no initial user is specified. Switch
into the new database (username and password must be identical to the current
session) and add or modify users with the following commands.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>require</span><span class=p>(</span><span class=s2>&#34;@arangodb/users&#34;</span><span class=p>).</span><span class=nx>save</span><span class=p>(</span><span class=nx>username</span><span class=p>,</span> <span class=nx>password</span><span class=p>,</span> <span class=kc>true</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>require</span><span class=p>(</span><span class=s2>&#34;@arangodb/users&#34;</span><span class=p>).</span><span class=nx>update</span><span class=p>(</span><span class=nx>username</span><span class=p>,</span> <span class=nx>password</span><span class=p>,</span> <span class=kc>true</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>require</span><span class=p>(</span><span class=s2>&#34;@arangodb/users&#34;</span><span class=p>).</span><span class=nx>remove</span><span class=p>(</span><span class=nx>username</span><span class=p>);</span></span></span></code></pre></div><p>Alternatively, you can specify user data directly. For example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>db</span><span class=p>.</span><span class=nx>_createDatabase</span><span class=p>(</span><span class=s2>&#34;newDB&#34;</span><span class=p>,</span> <span class=p>{},</span> <span class=p>[{</span> <span class=nx>username</span><span class=o>:</span> <span class=s2>&#34;newUser&#34;</span><span class=p>,</span> <span class=nx>passwd</span><span class=o>:</span> <span class=s2>&#34;123456&#34;</span><span class=p>,</span> <span class=nx>active</span><span class=o>:</span> <span class=kc>true</span><span class=p>}])</span></span></span></code></pre></div><h3 id=db_usedatabasename><code>db._useDatabase(name)</code> <a href=/3.12/develop/javascript-api/@arangodb/db-object/#db_usedatabasename class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>Changes the current database to the specified database.
Note that the database specified by <code>name</code> must already exist.</p><p>Changing the database might be disallowed in some contexts, for example,
in server-side actions (including Foxx).</p><p>When performing this command from arangosh, the current credentials (username
and password) will be re-used. These credentials might not be valid to
connect to the database specified by <code>name</code>. Additionally, the database
only be accessed from certain endpoints only. In this case, switching the
database might not work, and the connection / session should be closed and
restarted with different username and password credentials and/or
endpoint data.</p><h3 id=db_databases><code>db._databases()</code> <a href=/3.12/develop/javascript-api/@arangodb/db-object/#db_databases class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>Returns the list of all existing databases.</p><div class="box notices cstyle info"><div class=box-content-container><div class=box-content><i class="fas fa-info-circle"></i><div class=box-text>The databases can only be listed from within the <code>_system</code> database.</div></div></div></div><h3 id=db_dropdatabasename><code>db._dropDatabase(name)</code> <a href=/3.12/develop/javascript-api/@arangodb/db-object/#db_dropdatabasename class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>Drops the specified database. The database specified by <code>name</code> must exist.</p><div class="box notices cstyle info"><div class=box-content-container><div class=box-content><i class="fas fa-info-circle"></i><div class=box-text>Databases can only be dropped from within the <code>_system</code> database.
The <code>_system</code> database itself cannot be dropped.</div></div></div></div><p>Databases are dropped asynchronously, and will be physically removed if
all clients have disconnected and references have been garbage-collected.</p><h3 id=db_name><code>db._name()</code> <a href=/3.12/develop/javascript-api/@arangodb/db-object/#db_name class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>Returns the name of the current database as a string.</p><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>require</span><span class=p>(</span><span class=s2>&#34;@arangodb&#34;</span><span class=p>).</span><span class=nx>db</span><span class=p>.</span><span class=nx>_name</span><span class=p>();</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>_system</span></span></span></code></pre></div></div></div><br><h3 id=db_id><code>db._id()</code> <a href=/3.12/develop/javascript-api/@arangodb/db-object/#db_id class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>Returns the identifier of the current database as a string.</p><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>require</span><span class=p>(</span><span class=s2>&#34;@arangodb&#34;</span><span class=p>).</span><span class=nx>db</span><span class=p>.</span><span class=nx>_id</span><span class=p>();</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=mi>1</span></span></span></code></pre></div></div></div><br><h3 id=db_issystem><code>db._isSystem()</code> <a href=/3.12/develop/javascript-api/@arangodb/db-object/#db_issystem class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>Returns whether the currently used database is the <code>_system</code> database.</p><p>The system database has some special privileges and properties, for example,
database management operations such as creating or dropping databases can only
be executed from within the <code>_system</code> database. The <code>_system</code> database itself
cannot be dropped.</p><h3 id=db_path><code>db._path()</code> <a href=/3.12/develop/javascript-api/@arangodb/db-object/#db_path class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>Returns the filesystem path of the current database as a string.</p><div class="box notices cstyle info"><div class=box-content-container><div class=box-content><i class="fas fa-info-circle"></i><div class=box-text>This is a legacy method and always returns the string <code>none</code> with the
RocksDB storage engine.</div></div></div></div><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>require</span><span class=p>(</span><span class=s2>&#34;@arangodb&#34;</span><span class=p>).</span><span class=nx>db</span><span class=p>.</span><span class=nx>_path</span><span class=p>();</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>none</span></span></span></code></pre></div></div></div><br><h3 id=db_properties><code>db._properties()</code> <a href=/3.12/develop/javascript-api/@arangodb/db-object/#db_properties class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>Returns the properties of the current database as an object with the following
attributes:</p><ul><li><code>id</code>: the database identifier</li><li><code>name</code>: the database name</li><li><code>isSystem</code>: the database type</li><li><code>path</code>: the path to the database files (not used anymore, always <code>""</code>)</li><li><code>sharding</code>: the sharding method to use for new collections <em>(cluster only)</em></li><li><code>replicationFactor</code>: default replication factor for new collections
<em>(cluster only)</em></li><li><code>writeConcern</code>: a shard will refuse to write if less than this amount
of copies are in sync <em>(cluster only)</em></li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>require</span><span class=p>(</span><span class=s2>&#34;@arangodb&#34;</span><span class=p>).</span><span class=nx>db</span><span class=p>.</span><span class=nx>_properties</span><span class=p>();</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;id&#34;</span> <span class=o>:</span> <span class=s2>&#34;1&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;name&#34;</span> <span class=o>:</span> <span class=s2>&#34;_system&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;isSystem&#34;</span> <span class=o>:</span> <span class=kc>true</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;sharding&#34;</span> <span class=o>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;replicationFactor&#34;</span> <span class=o>:</span> <span class=mi>1</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;writeConcern&#34;</span> <span class=o>:</span> <span class=mi>1</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;replicationVersion&#34;</span> <span class=o>:</span> <span class=s2>&#34;1&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;path&#34;</span> <span class=o>:</span> <span class=s2>&#34;&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div></div><br><h2 id=collections>Collections <a href=/3.12/develop/javascript-api/@arangodb/db-object/#collections class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><h3 id=db_createcollection-name--properties--type--options><code>db._create(collection-name [, properties [, type] [, options]])</code> <a href=/3.12/develop/javascript-api/@arangodb/db-object/#db_createcollection-name--properties--type--options class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>Create a new document collection or edge collection.</p><p><code>db._create(collection-name)</code></p><p>Creates a new document collection named <code>collection-name</code> with the default
settings and returns a <a href=/3.12/develop/javascript-api/@arangodb/collection-object/ class=link><em>collection</em> object</a>.</p><p>If a collection or View with this name exists already, or if the name format is invalid, an
error is thrown. For information about the naming constraints for collections, see
<a href=/3.12/concepts/data-structure/collections/#collection-names class=link>Collection names</a>.</p><hr><p><code>db._create(collection-name, properties)</code></p><p><code>properties</code> must be an object with the following attributes:</p><ul><li><p><code>waitForSync</code> (boolean, <em>optional</em>, default <code>false</code>): If <code>true</code>, creating,
changing, or removing a document waits until the data is synchronized to disk.</p></li><li><p><code>keyOptions</code> (object, <em>optional</em>): The options for key generation. If
specified, then <code>keyOptions</code> should be an object containing the
following attributes:</p><ul><li><p><code>type</code> (string): specifies the type of the key generator.
The available generators are <code>"traditional"</code> (default), <code>"autoincrement"</code>,
<code>"uuid"</code> and <code>"padded"</code>.</p><ul><li>The <code>traditional</code> key generator generates numerical keys in ascending order.
The sequence of keys is not guaranteed to be gap-free.</li><li>The <code>autoincrement</code> key generator generates numerical keys in ascending order,
the initial offset and the spacing can be configured (<strong>note</strong>:
<code>autoincrement</code> is only supported for non-sharded or
single-sharded collections).
The sequence of generated keys is not guaranteed to be gap-free, because a new key
is generated on every document insert attempt, not just for successful
inserts.</li><li>The <code>padded</code> key generator generates keys of a fixed length (16 bytes) in
ascending lexicographical sort order. This is ideal for the RocksDB storage engine,
which slightly benefits keys that are inserted in lexicographically
ascending order. The key generator can be used in a single-server or cluster.
The sequence of generated keys is not guaranteed to be gap-free.</li><li>The <code>uuid</code> key generator generates universally unique 128 bit keys, which
are stored in hexadecimal human-readable format. This key generator can be used
in a single-server or cluster to generate &ldquo;seemingly random&rdquo; keys. The keys
produced by this key generator are not lexicographically sorted.</li></ul><p>Please note that keys are only guaranteed to be truly ascending in single
server deployments and for collections that only have a single shard (that includes
collections in a OneShard database).
The reason is that for collections with more than a single shard, document keys
are generated on Coordinator(s). For collections with a single shard, the document
keys are generated on the leader DB-Server, which has full control over the key
sequence.</p></li><li><p><code>allowUserKeys</code> (boolean, <em>optional</em>): If set to <code>true</code>, then you are allowed
to supply own key values in the <code>_key</code> attribute of documents. If set to
<code>false</code>, then the key generator is solely responsible for generating keys and
an error is raised if you supply own key values in the <code>_key</code> attribute
of documents.</p><div class="box notices cstyle warning"><div class=box-content-container><div class=box-content><i class="fas fa-exclamation-triangle"></i><div class=box-text>You should not use both user-specified and automatically generated document keys
in the same collection in cluster deployments for collections with more than a
single shard. Mixing the two can lead to conflicts because Coordinators that
auto-generate keys in this case are not aware of all keys which are already used.</div></div></div></div></li><li><p><code>increment</code>: The increment value for the <code>autoincrement</code> key generator.
Not allowed for other key generator types.</p></li><li><p><code>offset</code>: The initial offset value for the <code>autoincrement</code> key generator.
Not allowed for other key generator types.</p></li><li><p><code>lastValue</code>: the offset value for the <code>autoincrement</code> or <code>padded</code>
key generator. This is an internal property for restoring dumps properly.</p></li></ul></li><li><p><code>schema</code> (object|null, <em>optional</em>, default: <code>null</code>):
An object that specifies the collection-level document schema for documents.
The attribute keys <code>rule</code>, <code>level</code> and <code>message</code> must follow the rules
documented in <a href=/3.12/concepts/data-structure/documents/schema-validation/ class=link>Document Schema Validation</a></p></li><li><p><code>computedValues</code> (array|null, <em>optional</em>, default: <code>null</code>): An array of objects,
each representing a <a href=/3.12/concepts/data-structure/documents/computed-values/ class=link>Computed Value</a>.</p></li><li><p><code>cacheEnabled</code> (boolean): Whether the in-memory hash cache for documents should be
enabled for this collection (default: <code>false</code>). Can be controlled globally
with the <code>--cache.size</code> startup option. The cache can speed up repeated reads
of the same documents via their document keys. If the same documents are not
fetched often or are modified frequently, then you may disable the cache to
avoid the maintenance costs.</p></li><li><p><code>isSystem</code> (boolean, <em>optional</em>, default: <code>false</code>): If <code>true</code>, create a
system collection. In this case, the collection name should start with
an underscore. End-users should normally create non-system collections
only. API implementors may be required to create system collections in
very special occasions, but normally a regular collection is sufficient.</p></li><li><p><code>syncByRevision</code> (boolean, <em>optional</em>, default: <code>true</code>):
Whether the newer revision-based replication protocol
is enabled for this collection. This is an internal property.</p></li><li><p><code>numberOfShards</code> (number, <em>optional</em>, default <code>1</code>): In a cluster, this value
determines the number of shards to create for the collection. In a single
server setup, this option is meaningless.</p></li><li><p><code>shardKeys</code> (array, <em>optional</em>, default: <code>["_key"]</code>): In a cluster, this
attribute determines which document attributes are used to determine the
target shard for documents. Documents are sent to shards based on the
values they have in their shard key attributes. The values of all shard
key attributes in a document are hashed, and the hash value is used to
determine the target shard. Note that values of shard key attributes cannot
be changed once set.
This option is meaningless in a single server setup.</p><p>When choosing the shard keys, you must be aware of the following
rules and limitations: In a sharded collection with more than
one shard it is not possible to set up a unique constraint on
an attribute that is not the one and only shard key given in
<code>shardKeys</code>. This is because enforcing a unique constraint
would otherwise make a global index necessary or need extensive
communication for every single write operation. Furthermore, if
<code>_key</code> is not the one and only shard key, then it is not possible
to set the <code>_key</code> attribute when inserting a document, provided
the collection has more than one shard. Again, this is because
the database has to enforce the unique constraint on the <code>_key</code>
attribute and this can only be done efficiently if this is the
only shard key by delegating to the individual shards.</p></li><li><p><code>replicationFactor</code> (number|string, <em>optional</em>, default <code>1</code>): In a cluster, this
attribute determines how many copies of each shard are kept on
different DB-Servers. The value 1 means that only one copy (no
synchronous replication) is kept. A value of k means that
k-1 replicas are kept. Any two copies reside on different DB-Servers.
Replication between them is synchronous, that is, every write operation
to the &ldquo;leader&rdquo; copy is replicated to all &ldquo;follower&rdquo; replicas,
before the write operation is reported successful.</p><p>If a server fails, this is detected automatically and one of the
servers holding copies take over, usually without an error being
reported.</p><p>When using the <em>Enterprise Edition</em> of ArangoDB the replicationFactor
may be set to &ldquo;satellite&rdquo; making the collection locally joinable
on every DB-Server. This reduces the number of network hops
dramatically when using joins in AQL at the costs of reduced write
performance on these collections.</p></li><li><p><code>writeConcern</code> (number, <em>optional</em>, default <code>1</code>): In a cluster, this
attribute determines how many copies of each shard are required
to be in sync on the different DB-Servers. If there are less then these
many copies in the cluster, a shard refuses to write. The value of
<code>writeConcern</code> cannot be greater than <code>replicationFactor</code>.
Please note: during server failures this might lead to writes
not being possible until the failover is sorted out and might cause
write slow downs in trade for data durability.</p></li><li><p><code>shardingStrategy</code> (optional): specifies the name of the sharding
strategy to use for the collection. There are
different sharding strategies to select from when creating a new
collection. The selected <code>shardingStrategy</code> value remains
fixed for the collection and cannot be changed afterwards. This is
important to make the collection keep its sharding settings and
always find documents already distributed to shards using the same
initial sharding algorithm.</p><p>The available sharding strategies are:</p><ul><li><code>"community-compat"</code>: default sharding used by ArangoDB
Community Edition before version 3.4</li><li><code>"enterprise-compat"</code>: default sharding used by ArangoDB
Enterprise Edition before version 3.4</li><li><code>"enterprise-smart-edge-compat"</code>: default sharding used by smart edge
collections in ArangoDB Enterprise Edition before version 3.4</li><li><code>"hash"</code>: default sharding used for new collections starting from version 3.4
(excluding smart edge collections)</li><li><code>"enterprise-hash-smart-edge"</code>: default sharding used for new
smart edge collections starting from version 3.4</li><li><code>enterprise-hex-smart-vertex</code>: sharding used for vertex collections of
EnterpriseGraphs</li></ul><p>If no sharding strategy is specified, the default is <code>hash</code> for
all normal collections, <code>enterprise-hash-smart-edge</code> for all smart edge
collections, and <code>enterprise-hex-smart-vertex</code> for EnterpriseGraph
vertex collections (the latter two require the <em>Enterprise Edition</em> of ArangoDB).
Manually overriding the sharding strategy does not yet provide a
benefit, but it may later in case other sharding strategies are added.</p><p>In single-server mode, the <code>shardingStrategy</code> attribute is meaningless
and is ignored.</p></li><li><p><code>distributeShardsLike</code> (string, <em>optional</em>, default: <code>""</code>):
The name of another collection. If this property is set in a cluster, the
collection copies the <code>replicationFactor</code>, <code>numberOfShards</code> and <code>shardingStrategy</code>
properties from the specified collection (referred to as the <em>prototype collection</em>)
and distributes the shards of this collection in the same way as the shards of
the other collection. In an Enterprise Edition cluster, this data co-location is
utilized to optimize queries.</p><p>You need to use the same number of <code>shardKeys</code> as the prototype collection, but
you can use different attributes.</p><div class="box notices cstyle info"><div class=box-content-container><div class=box-content><i class="fas fa-info-circle"></i><div class=box-text>Using this parameter has consequences for the prototype collection.
It can no longer be dropped unless the sharding-imitating collections are
dropped beforehand. Equally, backups and restores of imitating collections
alone result in errors about missing sharding prototypes.</div></div></div></div></li><li><p><code>isSmart</code> (boolean): Whether the collection is for a SmartGraph or
EnterpriseGraph (Enterprise Edition only). This is an internal property.</p></li><li><p><code>isDisjoint</code> (boolean): Whether the collection is for a Disjoint SmartGraph
(Enterprise Edition only). This is an internal property.</p></li><li><p><code>smartGraphAttribute</code> (string, <em>optional</em>):
The attribute that is used for sharding: vertices with the same value of
this attribute are placed in the same shard. All vertices are required to
have this attribute set and it has to be a string. Edges derive the
attribute from their connected vertices.</p><p>This feature can only be used in the <em>Enterprise Edition</em>.</p></li><li><p><code>smartJoinAttribute</code> (string, <em>optional</em>): In an <em>Enterprise Edition</em> cluster, this attribute
determines an attribute of the collection that must contain the shard key value
of the referred-to SmartJoin collection. Additionally, the sharding key
for a document in this collection must contain the value of this attribute,
followed by a colon, followed by the actual primary key of the document.</p><p>This feature can only be used in the <em>Enterprise Edition</em> and requires the
<code>distributeShardsLike</code> attribute of the collection to be set to the name
of another collection. It also requires the <code>shardKeys</code> attribute of the
collection to be set to a single shard key attribute, with an additional <code>:</code>
at the end.
A further restriction is that whenever documents are stored or updated in the
collection, the value stored in the <code>smartJoinAttribute</code> must be a string.</p></li></ul><hr><p><code>db._create(collection-name, properties, type)</code></p><p>Specifies the optional <code>type</code> of the collection, it can either be <code>document</code>
or <code>edge</code>. On default it is document. Instead of giving a type you can also use
<code>db._createEdgeCollection()</code> or <code>db._createDocumentCollection()</code>.</p><hr><p><code>db._create(collection-name, properties [, type], options)</code></p><p>As an optional third parameter (if the <code>type</code> string is omitted) or as fourth
parameter, you can specify an optional options map that controls how the
cluster creates the collection. These options are only relevant at
creation time and are not persisted:</p><ul><li><p><code>waitForSyncReplication</code> (default: <code>true</code>)
If enabled, the server only reports success back to the client
if all replicas have created the collection. Set to <code>false</code> if you want faster
server responses and don&rsquo;t care about full replication.</p></li><li><p><code>enforceReplicationFactor</code> (default: <code>true</code>)
If enabled, the server checks if there are enough replicas
available at creation time and bails out otherwise. Set to <code>false</code> to disable
this extra check.</p></li></ul><p><strong>Examples</strong></p><p>With defaults:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>coll</span> <span class=o>=</span> <span class=nx>db</span><span class=p>.</span><span class=nx>_create</span><span class=p>(</span><span class=s2>&#34;users&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>coll</span><span class=p>.</span><span class=nx>properties</span><span class=p>();</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;globallyUniqueId&#34;</span> <span class=o>:</span> <span class=s2>&#34;h3715BD071044/73366&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;isSystem&#34;</span> <span class=o>:</span> <span class=kc>false</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;waitForSync&#34;</span> <span class=o>:</span> <span class=kc>false</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;keyOptions&#34;</span> <span class=o>:</span> <span class=p>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;allowUserKeys&#34;</span> <span class=o>:</span> <span class=kc>true</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;type&#34;</span> <span class=o>:</span> <span class=s2>&#34;traditional&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;lastValue&#34;</span> <span class=o>:</span> <span class=mi>0</span> 
</span></span><span class=line><span class=cl>  <span class=p>},</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;writeConcern&#34;</span> <span class=o>:</span> <span class=mi>1</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;cacheEnabled&#34;</span> <span class=o>:</span> <span class=kc>false</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;computedValues&#34;</span> <span class=o>:</span> <span class=kc>null</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;syncByRevision&#34;</span> <span class=o>:</span> <span class=kc>true</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;schema&#34;</span> <span class=o>:</span> <span class=kc>null</span> 
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div></div><br><p>With properties:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>coll</span> <span class=o>=</span> <span class=nx>db</span><span class=p>.</span><span class=nx>_create</span><span class=p>(</span><span class=s2>&#34;users&#34;</span><span class=p>,</span> <span class=p>{</span> <span class=nx>waitForSync</span><span class=o>:</span> <span class=kc>true</span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nx>coll</span><span class=p>.</span><span class=nx>properties</span><span class=p>();</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;globallyUniqueId&#34;</span> <span class=o>:</span> <span class=s2>&#34;h3715BD071044/73376&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;isSystem&#34;</span> <span class=o>:</span> <span class=kc>false</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;waitForSync&#34;</span> <span class=o>:</span> <span class=kc>true</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;keyOptions&#34;</span> <span class=o>:</span> <span class=p>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;allowUserKeys&#34;</span> <span class=o>:</span> <span class=kc>true</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;type&#34;</span> <span class=o>:</span> <span class=s2>&#34;traditional&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;lastValue&#34;</span> <span class=o>:</span> <span class=mi>0</span> 
</span></span><span class=line><span class=cl>  <span class=p>},</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;writeConcern&#34;</span> <span class=o>:</span> <span class=mi>1</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;cacheEnabled&#34;</span> <span class=o>:</span> <span class=kc>false</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;computedValues&#34;</span> <span class=o>:</span> <span class=kc>null</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;syncByRevision&#34;</span> <span class=o>:</span> <span class=kc>true</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;schema&#34;</span> <span class=o>:</span> <span class=kc>null</span> 
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div></div><br><p>With a key generator:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>coll</span> <span class=o>=</span> <span class=nx>db</span><span class=p>.</span><span class=nx>_create</span><span class=p>(</span><span class=s2>&#34;users&#34;</span><span class=p>,</span> <span class=p>{</span> <span class=nx>keyOptions</span><span class=o>:</span> <span class=p>{</span> <span class=nx>type</span><span class=o>:</span> <span class=s2>&#34;autoincrement&#34;</span><span class=p>,</span> <span class=nx>offset</span><span class=o>:</span> <span class=mi>10</span><span class=p>,</span> <span class=nx>increment</span><span class=o>:</span> <span class=mi>5</span> <span class=p>}</span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nx>db</span><span class=p>.</span><span class=nx>users</span><span class=p>.</span><span class=nx>save</span><span class=p>({</span> <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;user 1&#34;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nx>db</span><span class=p>.</span><span class=nx>users</span><span class=p>.</span><span class=nx>save</span><span class=p>({</span> <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;user 2&#34;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nx>db</span><span class=p>.</span><span class=nx>users</span><span class=p>.</span><span class=nx>save</span><span class=p>({</span> <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;user 3&#34;</span> <span class=p>});</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;users/10&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;10&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdpQGu---&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;users/15&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;15&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdpQGu--_&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;users/20&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;20&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdpQGy---&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div></div><br><p>With a special key option:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>coll</span> <span class=o>=</span> <span class=nx>db</span><span class=p>.</span><span class=nx>_create</span><span class=p>(</span><span class=s2>&#34;users&#34;</span><span class=p>,</span> <span class=p>{</span> <span class=nx>keyOptions</span><span class=o>:</span> <span class=p>{</span> <span class=nx>allowUserKeys</span><span class=o>:</span> <span class=kc>false</span> <span class=p>}</span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nx>db</span><span class=p>.</span><span class=nx>users</span><span class=p>.</span><span class=nx>save</span><span class=p>({</span> <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;user 1&#34;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nx>db</span><span class=p>.</span><span class=nx>users</span><span class=p>.</span><span class=nx>save</span><span class=p>({</span> <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;user 2&#34;</span><span class=p>,</span> <span class=nx>_key</span><span class=o>:</span> <span class=s2>&#34;myuser&#34;</span> <span class=p>});</span> 
</span></span><span class=line><span class=cl><span class=nx>db</span><span class=p>.</span><span class=nx>users</span><span class=p>.</span><span class=nx>save</span><span class=p>({</span> <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;user 3&#34;</span> <span class=p>});</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;users/73404&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;73404&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdpQIO--_&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>ArangoError</span> <span class=mi>1222</span><span class=o>:</span> <span class=nx>unexpected</span> <span class=nb>document</span> <span class=nx>key</span><span class=p>]</span></span></span></code></pre></div></div></div><br><h3 id=db_createdocumentcollectioncollection-name--properties><code>db._createDocumentCollection(collection-name [, properties])</code> <a href=/3.12/develop/javascript-api/@arangodb/db-object/#db_createdocumentcollectioncollection-name--properties class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>See <a href=#db_createcollection-name--properties--type--options class=link><code>db._create(collection-name [, properties])</code></a>.</p><h3 id=db_createedgecollectioncollection-name--properties><code>db._createEdgeCollection(collection-name [, properties])</code> <a href=/3.12/develop/javascript-api/@arangodb/db-object/#db_createedgecollectioncollection-name--properties class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p><code>db._createEdgeCollection(collection-name)</code></p><p>Creates a new edge collection named <code>collection-name</code> with the default settings
and returns a <a href=/3.12/develop/javascript-api/@arangodb/collection-object/ class=link><em>collection</em> object</a>.</p><p>If a collection or View with this name exists already, an error is thrown.</p><hr><p><code>db._createEdgeCollection(collection-name, properties)</code></p><p>Creates a new edge collection with the specified properties.
See <a href=#db_createcollection-name--properties--type--options class=link><code>db._create(collection-name, properties)</code></a>
for the available properties.</p><h3 id=db_collections><code>db._collections()</code> <a href=/3.12/develop/javascript-api/@arangodb/db-object/#db_collections class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>Returns all collections of the current database.
Each array element is a <a href=/3.12/develop/javascript-api/@arangodb/collection-object/ class=link><em>collection</em> object</a>.</p><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>db</span><span class=p>.</span><span class=nx>_collections</span><span class=p>();</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>8</span><span class=p>,</span> <span class=s2>&#34;_analyzers&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nb>document</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)],</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>13</span><span class=p>,</span> <span class=s2>&#34;_appbundles&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nb>document</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)],</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>12</span><span class=p>,</span> <span class=s2>&#34;_apps&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nb>document</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)],</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>9</span><span class=p>,</span> <span class=s2>&#34;_aqlfunctions&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nb>document</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)],</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>14</span><span class=p>,</span> <span class=s2>&#34;_frontend&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nb>document</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)],</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>7</span><span class=p>,</span> <span class=s2>&#34;_graphs&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nb>document</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)],</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>11</span><span class=p>,</span> <span class=s2>&#34;_jobs&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nb>document</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)],</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>10</span><span class=p>,</span> <span class=s2>&#34;_queues&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nb>document</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)],</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>4</span><span class=p>,</span> <span class=s2>&#34;_statistics&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nb>document</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)],</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>5</span><span class=p>,</span> <span class=s2>&#34;_statistics15&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nb>document</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)],</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>6</span><span class=p>,</span> <span class=s2>&#34;_statisticsRaw&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nb>document</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)],</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>3</span><span class=p>,</span> <span class=s2>&#34;_users&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nb>document</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)],</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>154</span><span class=p>,</span> <span class=s2>&#34;animals&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nb>document</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)],</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>148</span><span class=p>,</span> <span class=s2>&#34;demo&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nb>document</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)],</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>73412</span><span class=p>,</span> <span class=s2>&#34;example&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nb>document</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)],</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>143</span><span class=p>,</span> <span class=s2>&#34;ignore&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nb>document</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)],</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>68153</span><span class=p>,</span> <span class=s2>&#34;mycollection&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nb>document</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)]</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h3 id=db_collectioncollection><code>db._collection(collection)</code> <a href=/3.12/develop/javascript-api/@arangodb/db-object/#db_collectioncollection class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p><code>db._collection(collection-name)</code></p><p>Returns the collection with the specified name as a <a href=/3.12/develop/javascript-api/@arangodb/collection-object/ class=link><em>collection</em> object</a>,
or <code>null</code> if no such collection exists.</p><hr><p><code>db._collection(collection-identifier)</code></p><p>Returns the collection with the given identifier as a <a href=/3.12/develop/javascript-api/@arangodb/collection-object/ class=link><em>collection</em> object</a>,
or <code>null</code> if no such collection exists.</p><div class="box notices cstyle warning"><div class=box-content-container><div class=box-content><i class="fas fa-exclamation-triangle"></i><div class=box-text>Accessing collections by identifier is discouraged for end-users.
Access collections using the collection name instead.</div></div></div></div><p><strong>Examples</strong></p><p>Get a collection by name:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>db</span><span class=p>.</span><span class=nx>_collection</span><span class=p>(</span><span class=s2>&#34;demo&#34;</span><span class=p>);</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>148</span><span class=p>,</span> <span class=s2>&#34;demo&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nb>document</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)]</span></span></span></code></pre></div></div></div><br><p>Get a collection by identifier:</p><pre tabindex=0><code>arangosh&gt; db._collection(123456);
[ArangoCollection 123456, &#34;demo&#34; (type document, status loaded)]
</code></pre><p>Unknown collection:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>db</span><span class=p>.</span><span class=nx>_collection</span><span class=p>(</span><span class=s2>&#34;unknown&#34;</span><span class=p>);</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kc>null</span></span></span></code></pre></div></div></div><br><h3 id=db_truncatecollection><code>db._truncate(collection)</code> <a href=/3.12/develop/javascript-api/@arangodb/db-object/#db_truncatecollection class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>Truncates a <code>collection</code>, removing all documents but keeping all its
index definitions and other settings.</p><hr><p><code>db._truncate(collection-name)</code></p><p>Truncates a collection named <code>collection-name</code>. No error is thrown if
there is no such collection.</p><hr><p><code>db._truncate(collection-identifier)</code></p><p>Truncates a collection identified by <code>collection-identified</code>. No error is
thrown if there is no such collection.</p><p><strong>Examples</strong></p><p>Truncates a collection:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>coll</span> <span class=o>=</span> <span class=nx>db</span><span class=p>.</span><span class=nx>_collection</span><span class=p>(</span><span class=s2>&#34;example&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>doc</span> <span class=o>=</span> <span class=nx>coll</span><span class=p>.</span><span class=nx>save</span><span class=p>({</span> <span class=s2>&#34;Hello&#34;</span> <span class=o>:</span> <span class=s2>&#34;World&#34;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nx>coll</span><span class=p>.</span><span class=nx>count</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nx>db</span><span class=p>.</span><span class=nx>_truncate</span><span class=p>(</span><span class=nx>coll</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>coll</span><span class=p>.</span><span class=nx>count</span><span class=p>();</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=mi>0</span></span></span></code></pre></div></div></div><br><p>Truncates a collection identified by name:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>coll</span> <span class=o>=</span> <span class=nx>db</span><span class=p>.</span><span class=nx>_collection</span><span class=p>(</span><span class=s2>&#34;example&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>doc</span> <span class=o>=</span> <span class=nx>coll</span><span class=p>.</span><span class=nx>save</span><span class=p>({</span> <span class=s2>&#34;Hello&#34;</span> <span class=o>:</span> <span class=s2>&#34;World&#34;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nx>coll</span><span class=p>.</span><span class=nx>count</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nx>db</span><span class=p>.</span><span class=nx>_truncate</span><span class=p>(</span><span class=s2>&#34;example&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>coll</span><span class=p>.</span><span class=nx>count</span><span class=p>();</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=mi>0</span></span></span></code></pre></div></div></div><br><h3 id=db_dropcollection--options><code>db._drop(collection [, options])</code> <a href=/3.12/develop/javascript-api/@arangodb/db-object/#db_dropcollection--options class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>Drops a <code>collection</code> and all its indexes and data.</p><p><code>db._drop(collection-name)</code></p><p>Drops a collection named <code>collection-name</code> and all its indexes. No error
is thrown if there is no such collection.</p><hr><p><code>db._drop(collection-identifier)</code></p><p>Drops a collection identified by <code>collection-identifier</code> with all its
indexes and data. No error is thrown if there is no such collection.</p><hr><p><code>db._drop(collection-name, options)</code></p><p>In order to drop a system collection, you must specify an <code>options</code> object
with attribute <code>isSystem</code> set to <code>true</code>. Otherwise, it is not possible to
drop system collections.</p><div class="box notices cstyle info"><div class=box-content-container><div class=box-content><i class="fas fa-info-circle"></i><div class=box-text>Collections in a cluster deployment that are prototypes for collections
with <code>distributeShardsLike</code> parameter cannot be dropped.</div></div></div></div><p><strong>Examples</strong></p><p>Drops a collection:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>coll</span> <span class=o>=</span> <span class=nx>db</span><span class=p>.</span><span class=nx>_collection</span><span class=p>(</span><span class=s2>&#34;example&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>db</span><span class=p>.</span><span class=nx>_drop</span><span class=p>(</span><span class=nx>coll</span><span class=p>);</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>Empty</span> <span class=nx>Output</span></span></span></code></pre></div></div></div><br><p>Drops a collection identified by name:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>coll</span> <span class=o>=</span> <span class=nx>db</span><span class=p>.</span><span class=nx>_collection</span><span class=p>(</span><span class=s2>&#34;example&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>db</span><span class=p>.</span><span class=nx>_drop</span><span class=p>(</span><span class=s2>&#34;example&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>coll</span><span class=p>;</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>73458</span><span class=p>,</span> <span class=s2>&#34;example&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nb>document</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>loaded</span><span class=p>)]</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>ArangoCollection</span> <span class=mi>73458</span><span class=p>,</span> <span class=s2>&#34;example&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nb>document</span><span class=p>,</span> <span class=nx>status</span> <span class=nx>deleted</span><span class=p>)]</span></span></span></code></pre></div></div></div><br><p>Drops a system collection</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>coll</span> <span class=o>=</span> <span class=nx>db</span><span class=p>.</span><span class=nx>_example</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>db</span><span class=p>.</span><span class=nx>_drop</span><span class=p>(</span><span class=s2>&#34;_example&#34;</span><span class=p>,</span> <span class=p>{</span> <span class=nx>isSystem</span><span class=o>:</span> <span class=kc>true</span> <span class=p>});</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>Empty</span> <span class=nx>Output</span></span></span></code></pre></div></div></div><br><h2 id=documents>Documents <a href=/3.12/develop/javascript-api/@arangodb/db-object/#documents class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><h3 id=db_existsdocument><code>db._exists(document)</code> <a href=/3.12/develop/javascript-api/@arangodb/db-object/#db_existsdocument class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p><code>db._exists(object)</code></p><p>Checks whether a document exists using an object containing an <code>_id</code> attribute.</p><p>An error is thrown if a <code>_rev</code> attribute is specified but the found document
has a different revision.</p><p>Instead of returning the found document or an error, this method
only returns an object with the attributes <code>_id</code>, <code>_key</code> and <code>_rev</code>, or
<code>false</code> if no document with the given <code>_id</code> or <code>_key</code> exists. It can
thus be used for easy existence checks.</p><p>This method throws an error if used improperly, e.g. if called
with a string that isn&rsquo;t a document identifier, or an object with an invalid or
missing <code>_id</code> attribute.</p><hr><p><code>db._exists(document-identifier)</code></p><p>Checks whether a document exists using a document identifier.</p><h3 id=db_updatedocument-data--options><code>db._update(document, data [, options])</code> <a href=/3.12/develop/javascript-api/@arangodb/db-object/#db_updatedocument-data--options class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p><code>db._update(object, data)</code></p><p>Updates an existing document described by the <code>object</code>, which must
be an object containing the <code>_id</code> attribute. There must be
a document with that <code>_id</code> in the current database. This
document is then patched with the <code>data</code> given as second argument.
Any attribute <code>_id</code>, <code>_key</code> or <code>_rev</code> in <code>data</code> is ignored.</p><p>The method returns a document with the attributes <code>_id</code>, <code>_key</code>, <code>_rev</code>
and <code>_oldRev</code>. The attribute <code>_id</code> contains the document identifier of the
updated document, the attribute <code>_rev</code> contains the document revision of
the updated document, the attribute <code>_oldRev</code> contains the revision of
the old (now updated) document.</p><p>If the object contains a <code>_rev</code> attribute, the method first checks
that the specified revision is the current revision of that document.
If not, there is a conflict, and an error is thrown.</p><hr><p><code>db._update(object, data, options)</code></p><p>Updates an existing document with additional boolean <code>options</code> passed via an object:</p><ul><li><code>waitForSync</code>: One can force
synchronization of the document creation operation to disk even in
case that the <code>waitForSync</code> flag is been disabled for the entire
collection. Thus, the <code>waitForSync</code> option can be used to force
synchronization of just specific operations. To use this, set the
<code>waitForSync</code> parameter to <code>true</code>. If the <code>waitForSync</code> parameter
is not specified or set to <code>false</code>, then the collection&rsquo;s default
<code>waitForSync</code> behavior is applied. The <code>waitForSync</code> parameter
cannot be used to disable synchronization for collections that have
a default <code>waitForSync</code> value of <code>true</code>.</li><li><code>overwrite</code>: If this flag is set to <code>true</code>, a <code>_rev</code> attribute in
the selector is ignored.</li><li><code>returnNew</code>: If this flag is set to <code>true</code>, the complete new document
is returned in the output under the attribute <code>new</code>.</li><li><code>returnOld</code>: If this flag is set to <code>true</code>, the complete previous
revision of the document is returned in the output under the
attribute <code>old</code>.</li><li><code>silent</code>: If this flag is set to <code>true</code>, no output is returned.</li><li><code>keepNull</code>: The optional <code>keepNull</code> parameter can be used to modify
the behavior when handling <code>null</code> values. Normally, <code>null</code> values
are stored in the database. By setting the <code>keepNull</code> parameter to
<code>false</code>, this behavior can be changed so that top-level attributes and
sub-attributes in <code>data</code> with <code>null</code> values are removed from the target
document (but not attributes of objects that are nested inside of arrays).</li><li><code>mergeObjects</code>: Controls whether objects (not arrays) will be
merged if present in both the existing and the patch document. If
set to <code>false</code>, the value in the patch document will overwrite the
existing document&rsquo;s value. If set to <code>true</code>, objects will be merged.
The default is <code>true</code>.</li></ul><hr><p><code>db._update(document-identifier, data)</code></p><p><code>db._update(document-identifier, data, options)</code></p><p>Updates an existing document described by a document identifier, optionally
with additional boolean options (see above).</p><p>No revision check is performed.</p><p><strong>Examples</strong></p><p>Create and update a document:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>a1</span> <span class=o>=</span> <span class=nx>db</span><span class=p>.</span><span class=nx>example</span><span class=p>.</span><span class=nx>insert</span><span class=p>({</span> <span class=nx>a</span> <span class=o>:</span> <span class=mi>1</span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nx>a2</span> <span class=o>=</span> <span class=nx>db</span><span class=p>.</span><span class=nx>_update</span><span class=p>(</span><span class=nx>a1</span><span class=p>,</span> <span class=p>{</span> <span class=nx>b</span> <span class=o>:</span> <span class=mi>2</span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nx>a3</span> <span class=o>=</span> <span class=nx>db</span><span class=p>.</span><span class=nx>_update</span><span class=p>(</span><span class=nx>a1</span><span class=p>,</span> <span class=p>{</span> <span class=nx>c</span> <span class=o>:</span> <span class=mi>3</span> <span class=p>});</span> 
</span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;example/73481&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;73481&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdpQXW---&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;example/73481&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;73481&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdpQXa---&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_oldRev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdpQXW---&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>ArangoError</span> <span class=mi>1200</span><span class=o>:</span> <span class=nx>conflict</span><span class=p>,</span> <span class=nx>_rev</span> <span class=nx>values</span> <span class=k>do</span> <span class=nx>not</span> <span class=nx>match</span><span class=p>]</span></span></span></code></pre></div></div></div><br><p>Ignore a revision mismatch when updating the document:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>a1</span> <span class=o>=</span> <span class=nx>db</span><span class=p>.</span><span class=nx>example</span><span class=p>.</span><span class=nx>insert</span><span class=p>({</span> <span class=nx>a</span> <span class=o>:</span> <span class=mi>1</span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nx>a2</span> <span class=o>=</span> <span class=nx>db</span><span class=p>.</span><span class=nx>_update</span><span class=p>(</span><span class=nx>a1</span><span class=p>,</span> <span class=p>{</span> <span class=nx>b</span> <span class=o>:</span> <span class=mi>2</span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nx>a3</span> <span class=o>=</span> <span class=nx>db</span><span class=p>.</span><span class=nx>_update</span><span class=p>(</span><span class=nx>a1</span><span class=p>,</span> <span class=p>{</span> <span class=nx>c</span> <span class=o>:</span> <span class=mi>3</span> <span class=p>},</span> <span class=p>{</span> <span class=nx>overwrite</span><span class=o>:</span> <span class=kc>true</span> <span class=p>});</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;example/73495&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;73495&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdpQYu---&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;example/73495&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;73495&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdpQYu--_&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_oldRev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdpQYu---&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;example/73495&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;73495&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdpQYu--A&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_oldRev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdpQYu--_&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div></div><br><h3 id=db_replacedocument-data><code>db._replace(document, data)</code> <a href=/3.12/develop/javascript-api/@arangodb/db-object/#db_replacedocument-data class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p><code>db._replace(object, data)</code></p><p>Replaces an existing document described by the <code>object</code>, which must
be an object containing the <code>_id</code> attribute. There must be
a document with that <code>_id</code> in the current database. This
document is then replaced with the <code>data</code> given as second argument.
Any attribute <code>_id</code>, <code>_key</code> or <code>_rev</code> in <code>data</code> is ignored.</p><p>The method returns a document with the attributes <code>_id</code>, <code>_key</code>, <code>_rev</code>
and <code>_oldRev</code>. The attribute <code>_id</code> contains the document identifier of the
updated document, the attribute <code>_rev</code> contains the document revision of
the updated document, the attribute <code>_oldRev</code> contains the revision of
the old (now replaced) document.</p><p>If the object contains a <code>_rev</code> attribute, the method first checks
that the specified revision is the current revision of that document.
If not, there is a conflict, and an error is thrown.</p><hr><p><code>collection.replace(object, data, options)</code></p><p>Replaces an existing document, with additional boolean <code>options</code> passed via an object:</p><ul><li><code>waitForSync</code>: One can force
synchronization of the document creation operation to disk even in
case that the <code>waitForSync</code> flag is been disabled for the entire
collection. Thus, the <code>waitForSync</code> option can be used to force
synchronization of just specific operations. To use this, set the
<code>waitForSync</code> parameter to <code>true</code>. If the <code>waitForSync</code> parameter
is not specified or set to <code>false</code>, then the collection&rsquo;s default
<code>waitForSync</code> behavior is applied. The <code>waitForSync</code> parameter
cannot be used to disable synchronization for collections that have
a default <code>waitForSync</code> value of <code>true</code>.</li><li><code>overwrite</code>: If this flag is set to <code>true</code>, a <code>_rev</code> attribute in
the selector is ignored.</li><li><code>returnNew</code>: If this flag is set to <code>true</code>, the complete new document
is returned in the output under the attribute <code>new</code>.</li><li><code>returnOld</code>: If this flag is set to <code>true</code>, the complete previous
revision of the document is returned in the output under the
attribute <code>old</code>.</li><li><code>silent</code>: If this flag is set to <code>true</code>, no output is returned.</li></ul><hr><p><code>db._replace(document-identifier, data)</code></p><p><code>db._replace(document-identifier, data, options)</code></p><p>Replaces an existing document described by a document identifier, optionally
with boolean options (see above).</p><p>No revision check is performed.</p><p><strong>Examples</strong></p><p>Create and replace a document:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>a1</span> <span class=o>=</span> <span class=nx>db</span><span class=p>.</span><span class=nx>example</span><span class=p>.</span><span class=nx>insert</span><span class=p>({</span> <span class=nx>a</span> <span class=o>:</span> <span class=mi>1</span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nx>a2</span> <span class=o>=</span> <span class=nx>db</span><span class=p>.</span><span class=nx>_replace</span><span class=p>(</span><span class=nx>a1</span><span class=p>,</span> <span class=p>{</span> <span class=nx>a</span> <span class=o>:</span> <span class=mi>2</span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nx>a3</span> <span class=o>=</span> <span class=nx>db</span><span class=p>.</span><span class=nx>_replace</span><span class=p>(</span><span class=nx>a1</span><span class=p>,</span> <span class=p>{</span> <span class=nx>a</span> <span class=o>:</span> <span class=mi>3</span> <span class=p>});</span>  
</span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;example/73508&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;73508&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdpQaG---&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;example/73508&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;73508&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdpQaK---&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_oldRev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdpQaG---&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>ArangoError</span> <span class=mi>1200</span><span class=o>:</span> <span class=nx>conflict</span><span class=p>,</span> <span class=nx>_rev</span> <span class=nx>values</span> <span class=k>do</span> <span class=nx>not</span> <span class=nx>match</span><span class=p>]</span></span></span></code></pre></div></div></div><br><p>Ignore a revision mismatch when replacing the document:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>a1</span> <span class=o>=</span> <span class=nx>db</span><span class=p>.</span><span class=nx>example</span><span class=p>.</span><span class=nx>insert</span><span class=p>({</span> <span class=nx>a</span> <span class=o>:</span> <span class=mi>1</span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nx>a2</span> <span class=o>=</span> <span class=nx>db</span><span class=p>.</span><span class=nx>_replace</span><span class=p>(</span><span class=nx>a1</span><span class=p>,</span> <span class=p>{</span> <span class=nx>a</span> <span class=o>:</span> <span class=mi>2</span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nx>a3</span> <span class=o>=</span> <span class=nx>db</span><span class=p>.</span><span class=nx>_replace</span><span class=p>(</span><span class=nx>a1</span><span class=p>,</span> <span class=p>{</span> <span class=nx>a</span> <span class=o>:</span> <span class=mi>3</span> <span class=p>},</span> <span class=p>{</span> <span class=nx>overwrite</span><span class=o>:</span> <span class=kc>true</span> <span class=p>});</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;example/73522&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;73522&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdpQbe---&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;example/73522&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;73522&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdpQbe--_&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_oldRev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdpQbe---&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;example/73522&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;73522&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdpQbi---&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_oldRev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdpQbe--_&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div></div><br><h3 id=db_removedocument><code>db._remove(document)</code> <a href=/3.12/develop/javascript-api/@arangodb/db-object/#db_removedocument class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p><code>db._remove(object)</code></p><p>Removes a document described by the <code>object</code>, which must be an object
containing the <code>_id</code> attribute. There must be a document with
that <code>_id</code> in the current database. This document is then
removed.</p><p>The method returns a document with the attributes <code>_id</code>, <code>_key</code> and <code>_rev</code>.
The attribute <code>_id</code> contains the document identifier of the
removed document, the attribute <code>_rev</code> contains the document revision of
the removed document.</p><p>If the object contains a <code>_rev</code> attribute, the method first checks
that the specified revision is the current revision of that document.
If not, there is a conflict, and an error is thrown.</p><hr><p><code>db._remove(object, options)</code></p><p>Removes a document, with additional boolean <code>options</code> passed via an object:</p><ul><li><code>waitForSync</code>: One can force
synchronization of the document creation operation to disk even in
case that the <code>waitForSync</code> flag is been disabled for the entire
collection. Thus, the <code>waitForSync</code> option can be used to force
synchronization of just specific operations. To use this, set the
<code>waitForSync</code> parameter to <code>true</code>. If the <code>waitForSync</code> parameter
is not specified or set to <code>false</code>, then the collection&rsquo;s default
<code>waitForSync</code> behavior is applied. The <code>waitForSync</code> parameter
cannot be used to disable synchronization for collections that have
a default <code>waitForSync</code> value of <code>true</code>.</li><li><code>overwrite</code>: If this flag is set to <code>true</code>, a <code>_rev</code> attribute in
the selector is ignored.</li><li><code>returnOld</code>: If this flag is set to <code>true</code>, the complete previous
revision of the document is returned in the output under the
attribute <code>old</code>.</li><li><code>silent</code>: If this flag is set to <code>true</code>, no output is returned.</li></ul><hr><p><code>db._remove(document-identifier)</code></p><p><code>db._remove(document-identifier, options)</code></p><p>Removes an existing document described by a document identifier, optionally
with additional boolean options (see above).</p><p>No revision check is performed.</p><p><strong>Examples</strong></p><p>Remove a document:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>a1</span> <span class=o>=</span> <span class=nx>db</span><span class=p>.</span><span class=nx>example</span><span class=p>.</span><span class=nx>insert</span><span class=p>({</span> <span class=nx>a</span> <span class=o>:</span> <span class=mi>1</span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nx>db</span><span class=p>.</span><span class=nx>_remove</span><span class=p>(</span><span class=nx>a1</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>db</span><span class=p>.</span><span class=nx>_remove</span><span class=p>(</span><span class=nx>a1</span><span class=p>);</span> 
</span></span><span class=line><span class=cl><span class=nx>db</span><span class=p>.</span><span class=nx>_remove</span><span class=p>(</span><span class=nx>a1</span><span class=p>,</span> <span class=p>{</span><span class=nx>overwrite</span><span class=o>:</span> <span class=kc>true</span><span class=p>});</span> 
</span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;example/73535&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;73535&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdpQdO---&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;example/73535&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;73535&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdpQdO---&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>ArangoError</span> <span class=mi>1202</span><span class=o>:</span> <span class=nb>document</span> <span class=nx>not</span> <span class=nx>found</span><span class=p>]</span></span></span></code></pre></div></div></div><br><p>Remove the document in the revision <code>a1</code> with a conflict:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>a1</span> <span class=o>=</span> <span class=nx>db</span><span class=p>.</span><span class=nx>example</span><span class=p>.</span><span class=nx>insert</span><span class=p>({</span> <span class=nx>a</span> <span class=o>:</span> <span class=mi>1</span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nx>a2</span> <span class=o>=</span> <span class=nx>db</span><span class=p>.</span><span class=nx>_replace</span><span class=p>(</span><span class=nx>a1</span><span class=p>,</span> <span class=p>{</span> <span class=nx>a</span> <span class=o>:</span> <span class=mi>2</span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nx>db</span><span class=p>.</span><span class=nx>_remove</span><span class=p>(</span><span class=nx>a1</span><span class=p>);</span> 
</span></span><span class=line><span class=cl><span class=nx>db</span><span class=p>.</span><span class=nx>_remove</span><span class=p>(</span><span class=nx>a1</span><span class=p>,</span> <span class=p>{</span><span class=nx>overwrite</span><span class=o>:</span> <span class=kc>true</span><span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nx>db</span><span class=p>.</span><span class=nx>_document</span><span class=p>(</span><span class=nx>a1</span><span class=p>);</span> 
</span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;example/73549&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;73549&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdpQfS---&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;example/73549&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;73549&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdpQfW---&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_oldRev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdpQfS---&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>ArangoError</span> <span class=mi>1200</span><span class=o>:</span> <span class=nx>conflict</span><span class=p>,</span> <span class=nx>_rev</span> <span class=nx>values</span> <span class=k>do</span> <span class=nx>not</span> <span class=nx>match</span><span class=p>]</span></span></span></code></pre></div></div></div><br><p>Remove a document using a document identifier:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>db</span><span class=p>.</span><span class=nx>example</span><span class=p>.</span><span class=nx>insert</span><span class=p>({</span> <span class=nx>_key</span><span class=o>:</span> <span class=s2>&#34;123456&#34;</span><span class=p>,</span> <span class=nx>a</span><span class=o>:</span> <span class=mi>1</span> <span class=p>}</span> <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>db</span><span class=p>.</span><span class=nx>example</span><span class=p>.</span><span class=nx>remove</span><span class=p>(</span><span class=s2>&#34;example/123456&#34;</span><span class=p>);</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;example/123456&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;123456&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdpQgK---&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_id&#34;</span> <span class=o>:</span> <span class=s2>&#34;example/123456&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_key&#34;</span> <span class=o>:</span> <span class=s2>&#34;123456&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;_rev&#34;</span> <span class=o>:</span> <span class=s2>&#34;_jJdpQgK---&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div></div><br><h2 id=views>Views <a href=/3.12/develop/javascript-api/@arangodb/db-object/#views class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><h3 id=db_createviewname-type--properties><code>db._createView(name, type [, properties])</code> <a href=/3.12/develop/javascript-api/@arangodb/db-object/#db_createviewname-type--properties class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>Creates a new View and returns a <a href=/3.12/develop/javascript-api/@arangodb/view-object/ class=link><em>view</em> object</a>.</p><p><code>name</code> is a string and the name of the View. No View or collection with the
same name may already exist in the current database. For information about the
naming constraints for Views, see <a href=/3.12/concepts/data-structure/views/#view-names class=link>View names</a>.</p><p><code>type</code> must be the string <code>"arangosearch"</code>, as it is currently the only
supported View type.</p><p><code>properties</code> is an optional object containing View configuration specific
to each View-type.</p><ul><li><a href=/3.12/index-and-search/arangosearch/arangosearch-views-reference/#view-definitionmodification class=link><code>arangosearch</code> View definition</a></li><li><a href=/3.12/index-and-search/arangosearch/search-alias-views-reference/#view-definition class=link><code>search-alias</code> View definition</a></li></ul><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>view</span> <span class=o>=</span> <span class=nx>db</span><span class=p>.</span><span class=nx>_createView</span><span class=p>(</span><span class=s2>&#34;example&#34;</span><span class=p>,</span> <span class=s2>&#34;arangosearch&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>view</span><span class=p>.</span><span class=nx>properties</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nx>db</span><span class=p>.</span><span class=nx>_dropView</span><span class=p>(</span><span class=s2>&#34;example&#34;</span><span class=p>)</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;writebufferSizeMax&#34;</span> <span class=o>:</span> <span class=mi>33554432</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;writebufferIdle&#34;</span> <span class=o>:</span> <span class=mi>64</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;storedValues&#34;</span> <span class=o>:</span> <span class=p>[</span> <span class=p>],</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;consolidationPolicy&#34;</span> <span class=o>:</span> <span class=p>{</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;type&#34;</span> <span class=o>:</span> <span class=s2>&#34;tier&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;segmentsBytesFloor&#34;</span> <span class=o>:</span> <span class=mi>2097152</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;segmentsBytesMax&#34;</span> <span class=o>:</span> <span class=mi>5368709120</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;segmentsMax&#34;</span> <span class=o>:</span> <span class=mi>10</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;segmentsMin&#34;</span> <span class=o>:</span> <span class=mi>1</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;minScore&#34;</span> <span class=o>:</span> <span class=mi>0</span> 
</span></span><span class=line><span class=cl>  <span class=p>},</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;writebufferActive&#34;</span> <span class=o>:</span> <span class=mi>0</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;links&#34;</span> <span class=o>:</span> <span class=p>{</span> 
</span></span><span class=line><span class=cl>  <span class=p>},</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;commitIntervalMsec&#34;</span> <span class=o>:</span> <span class=mi>1000</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;consolidationIntervalMsec&#34;</span> <span class=o>:</span> <span class=mi>1000</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;optimizeTopK&#34;</span> <span class=o>:</span> <span class=p>[</span> <span class=p>],</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;cleanupIntervalStep&#34;</span> <span class=o>:</span> <span class=mi>2</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;primarySort&#34;</span> <span class=o>:</span> <span class=p>[</span> <span class=p>],</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;primarySortCompression&#34;</span> <span class=o>:</span> <span class=s2>&#34;lz4&#34;</span> 
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div></div><br><h3 id=db_views><code>db._views()</code> <a href=/3.12/develop/javascript-api/@arangodb/db-object/#db_views class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>Returns all Views of the current database.</p><p>Each element of the returned array is a <a href=/3.12/develop/javascript-api/@arangodb/view-object/ class=link><em>view</em> object</a>.</p><p><strong>Examples</strong></p><p>List all Views:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>db</span><span class=p>.</span><span class=nx>_views</span><span class=p>();</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>[</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nx>ArangoView</span> <span class=mi>164</span><span class=p>,</span> <span class=s2>&#34;demoView&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nx>arangosearch</span><span class=p>)],</span> 
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nx>ArangoView</span> <span class=mi>73575</span><span class=p>,</span> <span class=s2>&#34;exampleView&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nx>arangosearch</span><span class=p>)]</span> 
</span></span><span class=line><span class=cl><span class=p>]</span></span></span></code></pre></div></div></div><br><h3 id=db_viewview><code>db._view(view)</code> <a href=/3.12/develop/javascript-api/@arangodb/db-object/#db_viewview class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p><code>db._view(view-name)</code></p><p>Returns the View with the given name as a <a href=/3.12/develop/javascript-api/@arangodb/view-object/ class=link><em>view</em> object</a>,
or <code>null</code> if no such View exists.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>view</span> <span class=o>=</span> <span class=nx>db</span><span class=p>.</span><span class=nx>_view</span><span class=p>(</span><span class=s2>&#34;example&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=c1>// or, alternatively
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>var</span> <span class=nx>view</span> <span class=o>=</span> <span class=nx>db</span><span class=p>[</span><span class=s2>&#34;example&#34;</span><span class=p>];</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>Empty</span> <span class=nx>Output</span></span></span></code></pre></div></div></div><br><hr><p><code>db._view(view-identifier)</code></p><p>Returns the View with the given identifier as a <a href=/3.12/develop/javascript-api/@arangodb/view-object/ class=link><em>view</em> object</a>,
or <code>null</code> if no such View exists.</p><div class="box notices cstyle warning"><div class=box-content-container><div class=box-content><i class="fas fa-exclamation-triangle"></i><div class=box-text>Accessing Views by identifier is discouraged for end-users.
Access Views using the View name instead.</div></div></div></div><p><strong>Examples</strong></p><p>Get a View by name:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>db</span><span class=p>.</span><span class=nx>_view</span><span class=p>(</span><span class=s2>&#34;demoView&#34;</span><span class=p>);</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>[</span><span class=nx>ArangoView</span> <span class=mi>164</span><span class=p>,</span> <span class=s2>&#34;demoView&#34;</span> <span class=p>(</span><span class=nx>type</span> <span class=nx>arangosearch</span><span class=p>)]</span></span></span></code></pre></div></div></div><br><p>Unknown View:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>db</span><span class=p>.</span><span class=nx>_view</span><span class=p>(</span><span class=s2>&#34;unknown&#34;</span><span class=p>);</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kc>null</span></span></span></code></pre></div></div></div><br><h3 id=db_dropviewview><code>db._dropView(view)</code> <a href=/3.12/develop/javascript-api/@arangodb/db-object/#db_dropviewview class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p><code>db._dropView(name)</code></p><p>Drops a view named <code>name</code> and all its data.</p><p>No error is thrown if there is no such View.</p><hr><p><code>db._dropView(view-identifier)</code></p><p>Drops a View identified by <code>view-identifier</code> with all its data.
No error is thrown if there is no such View.</p><p><strong>Examples</strong></p><p>Drop a view:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>view</span> <span class=o>=</span> <span class=nx>db</span><span class=p>.</span><span class=nx>_createView</span><span class=p>(</span><span class=s2>&#34;exampleView&#34;</span><span class=p>,</span> <span class=s2>&#34;arangosearch&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>db</span><span class=p>.</span><span class=nx>_dropView</span><span class=p>(</span><span class=s2>&#34;exampleView&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>db</span><span class=p>.</span><span class=nx>_view</span><span class=p>(</span><span class=s2>&#34;exampleView&#34;</span><span class=p>);</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kc>null</span></span></span></code></pre></div></div></div><br><h2 id=aql>AQL <a href=/3.12/develop/javascript-api/@arangodb/db-object/#aql class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><h3 id=db_createstatementquerystring><code>db._createStatement(queryString)</code> <a href=/3.12/develop/javascript-api/@arangodb/db-object/#db_createstatementquerystring class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>See <a href=/3.12/aql/how-to-invoke-aql/with-arangosh/#with-db_createstatement-arangostatement class=link><code>db._createStatement()</code></a>.</p><h3 id=db_queryquerystring--bindvars--mainoptions--suboptions><code>db._query(queryString [, bindVars [, mainOptions] [, subOptions]])</code> <a href=/3.12/develop/javascript-api/@arangodb/db-object/#db_queryquerystring--bindvars--mainoptions--suboptions class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>See <a href=/3.12/aql/how-to-invoke-aql/with-arangosh/#with-db_query class=link><code>db._query()</code></a>.</p><h3 id=db_explainquerystring><code>db._explain(queryString)</code> <a href=/3.12/develop/javascript-api/@arangodb/db-object/#db_explainquerystring class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>See <a href=/3.12/aql/execution-and-performance/explaining-queries/ class=link><code>db._explain()</code></a>.</p><h3 id=db_parsequerystring><code>db._parse(queryString)</code> <a href=/3.12/develop/javascript-api/@arangodb/db-object/#db_parsequerystring class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>See <a href=/3.12/aql/how-to-invoke-aql/with-arangosh/#query-validation-with-db_parse class=link><code>db._parse()</code></a>.</p><h3 id=db_profilequeryquerystring--bindvars--options><code>db._profileQuery(queryString [, bindVars [, options])</code> <a href=/3.12/develop/javascript-api/@arangodb/db-object/#db_profilequeryquerystring--bindvars--options class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>See <a href=/3.12/aql/execution-and-performance/query-profiling/ class=link><code>db._profileQuery()</code></a>.</p><h2 id=indexes>Indexes <a href=/3.12/develop/javascript-api/@arangodb/db-object/#indexes class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><h3 id=db_indexindex><code>db._index(index)</code> <a href=/3.12/develop/javascript-api/@arangodb/db-object/#db_indexindex class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>Fetches an index by identifier.</p><p>See <a href=/3.12/index-and-search/indexing/working-with-indexes/#fetching-an-index-by-identifier class=link><code>db._index()</code></a>.</p><h3 id=db_dropindexindex><code>db._dropIndex(index)</code> <a href=/3.12/develop/javascript-api/@arangodb/db-object/#db_dropindexindex class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>Drops an index by identifier.</p><p>See <a href=/3.12/index-and-search/indexing/working-with-indexes/#dropping-an-index-via-a-database-object class=link><code>db._dropIndex()</code></a>.</p><h2 id=transactions>Transactions <a href=/3.12/develop/javascript-api/@arangodb/db-object/#transactions class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><h3 id=db_createtransaction><code>db._createTransaction()</code> <a href=/3.12/develop/javascript-api/@arangodb/db-object/#db_createtransaction class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p class=labels><span class=label>arangosh</span></p><p>Starts a Stream Transaction.</p><p>See <a href=/3.12/develop/transactions/stream-transactions/#create-transaction class=link><code>db._createTransaction()</code></a>.</p><h3 id=db_executetransaction><code>db._executeTransaction()</code> <a href=/3.12/develop/javascript-api/@arangodb/db-object/#db_executetransaction class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>Executes a JavaScript Transaction.</p><p>See <a href=/3.12/develop/transactions/javascript-transactions/#execute-transaction class=link><code>db._executeTransaction()</code></a>.</p><h2 id=global>Global <a href=/3.12/develop/javascript-api/@arangodb/db-object/#global class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><h3 id=db_compactoptions><code>db._compact(options)</code> <a href=/3.12/develop/javascript-api/@arangodb/db-object/#db_compactoptions class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>Compacts the entire data, for all databases.</p><p>This command can be used to reclaim disk space after substantial data deletions
have taken place. It requires superuser access.</p><p>The optional <code>options</code> attribute can be used to get more control over the
compaction. The following attributes can be used in it:</p><ul><li><code>changeLevel</code>: whether or not compacted data should be moved to the minimum
possible level. The default value is <code>false</code>.</li><li><code>compactBottomMostLevel</code>: whether or not to compact the bottommost level of
data. The default value is <code>false</code>.</li></ul><div class="box notices cstyle warning"><div class=box-content-container><div class=box-content><i class="fas fa-exclamation-triangle"></i><div class=box-text>This command can cause a full rewrite of all data in all databases, which may
take very long for large databases. It should thus only be used with care
and only when additional I/O load can be tolerated for a prolonged time.</div></div></div></div><h3 id=db_engine><code>db._engine()</code> <a href=/3.12/develop/javascript-api/@arangodb/db-object/#db_engine class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>Returns the name of the storage engine used by the server (<code>rocksdb</code>), as well
as a list of supported features such as types of indexes.</p><h3 id=db_enginestats><code>db._engineStats()</code> <a href=/3.12/develop/javascript-api/@arangodb/db-object/#db_enginestats class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>Returns statistics related to the storage engine activity, including figures
about data size, cache usage, etc.</p><h3 id=db_version><code>db._version()</code> <a href=/3.12/develop/javascript-api/@arangodb/db-object/#db_version class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>Returns the server version string.</p><p>Note that this is different to the version of the database.</p><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>require</span><span class=p>(</span><span class=s2>&#34;@arangodb&#34;</span><span class=p>).</span><span class=nx>db</span><span class=p>.</span><span class=nx>_version</span><span class=p>();</span></span></span></code></pre></div><div class=expand><a class=expand-label onclick=toggleExpandShortcode(event)>Show output</a><div class=expand-content style=display:none><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=mf>3.12</span><span class=p>.</span><span class=mi>4</span></span></span></code></pre></div></div></div><br><h2 id=license>License <a href=/3.12/develop/javascript-api/@arangodb/db-object/#license class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><h3 id=db_getlicense><code>db._getLicense()</code> <a href=/3.12/develop/javascript-api/@arangodb/db-object/#db_getlicense class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p class=labels><span class=label>arangosh</span></p><p>Returns the current license.</p><p>See <a href=/3.12/operations/administration/license-management/#managing-your-license class=link><code>db._getLicense()</code></a>.</p><h3 id=db_setlicensedata><code>db._setLicense(data)</code> <a href=/3.12/develop/javascript-api/@arangodb/db-object/#db_setlicensedata class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p class=labels><span class=label>arangosh</span></p><p>Sets a license.</p><p>See <a href=/3.12/operations/administration/license-management/#initial-installation class=link><code>db._setLicense(data)</code></a>.</p><nav class=pagination><span class=prev><a class="nav nav-prev link" href=/3.12/develop/javascript-api/@arangodb/><i class="fas fa-chevron-left fa-fw"></i><p>@arangodb</p></a></span><span class=next><a class="nav nav-next link" href=/3.12/develop/javascript-api/@arangodb/collection-object/><p>collection object</p><i class="fas fa-chevron-right fa-fw"></i></a></span></nav></article><div class=toc-container><a class=edit-page aria-label href=https://github.com/arangodb/docs-hugo/edit/main/site/content/3.12/develop/javascript-api/@arangodb/db-object.md target=_blank><i class="fab fa-fw fa-github edit-page-icon"></i></a><div class=toc><div class=toc-content><div class=toc-header><p>On this page</p></div><nav id=TableOfContents><div class=level-2><a href=#property-access>Property access</a></div><div class=level-2><a href=#databases>Databases</a></div><div class=level-3><a href=#db_createdatabasename--options--users><code>db._createDatabase(name [, options [, users]])</code></a></div><div class=level-3><a href=#db_usedatabasename><code>db._useDatabase(name)</code></a></div><div class=level-3><a href=#db_databases><code>db._databases()</code></a></div><div class=level-3><a href=#db_dropdatabasename><code>db._dropDatabase(name)</code></a></div><div class=level-3><a href=#db_name><code>db._name()</code></a></div><div class=level-3><a href=#db_id><code>db._id()</code></a></div><div class=level-3><a href=#db_issystem><code>db._isSystem()</code></a></div><div class=level-3><a href=#db_path><code>db._path()</code></a></div><div class=level-3><a href=#db_properties><code>db._properties()</code></a></div><div class=level-2><a href=#collections>Collections</a></div><div class=level-3><a href=#db_createcollection-name--properties--type--options><code>db._create(collection-name [, properties [, type] [, options]])</code></a></div><div class=level-3><a href=#db_createdocumentcollectioncollection-name--properties><code>db._createDocumentCollection(collection-name [, properties])</code></a></div><div class=level-3><a href=#db_createedgecollectioncollection-name--properties><code>db._createEdgeCollection(collection-name [, properties])</code></a></div><div class=level-3><a href=#db_collections><code>db._collections()</code></a></div><div class=level-3><a href=#db_collectioncollection><code>db._collection(collection)</code></a></div><div class=level-3><a href=#db_truncatecollection><code>db._truncate(collection)</code></a></div><div class=level-3><a href=#db_dropcollection--options><code>db._drop(collection [, options])</code></a></div><div class=level-2><a href=#documents>Documents</a></div><div class=level-3><a href=#db_existsdocument><code>db._exists(document)</code></a></div><div class=level-3><a href=#db_updatedocument-data--options><code>db._update(document, data [, options])</code></a></div><div class=level-3><a href=#db_replacedocument-data><code>db._replace(document, data)</code></a></div><div class=level-3><a href=#db_removedocument><code>db._remove(document)</code></a></div><div class=level-2><a href=#views>Views</a></div><div class=level-3><a href=#db_createviewname-type--properties><code>db._createView(name, type [, properties])</code></a></div><div class=level-3><a href=#db_views><code>db._views()</code></a></div><div class=level-3><a href=#db_viewview><code>db._view(view)</code></a></div><div class=level-3><a href=#db_dropviewview><code>db._dropView(view)</code></a></div><div class=level-2><a href=#aql>AQL</a></div><div class=level-3><a href=#db_createstatementquerystring><code>db._createStatement(queryString)</code></a></div><div class=level-3><a href=#db_queryquerystring--bindvars--mainoptions--suboptions><code>db._query(queryString [, bindVars [, mainOptions] [, subOptions]])</code></a></div><div class=level-3><a href=#db_explainquerystring><code>db._explain(queryString)</code></a></div><div class=level-3><a href=#db_parsequerystring><code>db._parse(queryString)</code></a></div><div class=level-3><a href=#db_profilequeryquerystring--bindvars--options><code>db._profileQuery(queryString [, bindVars [, options])</code></a></div><div class=level-2><a href=#indexes>Indexes</a></div><div class=level-3><a href=#db_indexindex><code>db._index(index)</code></a></div><div class=level-3><a href=#db_dropindexindex><code>db._dropIndex(index)</code></a></div><div class=level-2><a href=#transactions>Transactions</a></div><div class=level-3><a href=#db_createtransaction><code>db._createTransaction()</code></a></div><div class=level-3><a href=#db_executetransaction><code>db._executeTransaction()</code></a></div><div class=level-2><a href=#global>Global</a></div><div class=level-3><a href=#db_compactoptions><code>db._compact(options)</code></a></div><div class=level-3><a href=#db_engine><code>db._engine()</code></a></div><div class=level-3><a href=#db_enginestats><code>db._engineStats()</code></a></div><div class=level-3><a href=#db_version><code>db._version()</code></a></div><div class=level-2><a href=#license>License</a></div><div class=level-3><a href=#db_getlicense><code>db._getLicense()</code></a></div><div class=level-3><a href=#db_setlicensedata><code>db._setLicense(data)</code></a></div></nav></div></div></div></div></div></section></section></div><button class="back-to-top hidden" onclick=goToTop(event) href=#><i class="fa fa-arrow-up"></i></button><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3>
<script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3></script>
<script type=text/javascript>window.setupDocSearch=function(e){if(!window.docsearch)return;docsearch({appId:"OK3ZBQ5982",apiKey:"500c85ccecb335d507fe4449aed12e1d",indexName:"arangodbdocs",insights:!0,container:"#searchbox",debug:!1,maxResultsPerGroup:10,searchParameters:{facetFilters:[`version:${e}`]}})}</script></body></html>