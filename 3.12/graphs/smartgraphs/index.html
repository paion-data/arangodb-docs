<!doctype html><html lang=en><head><link href=//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css rel=stylesheet><link href=//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css rel=stylesheet><link href=/css/fontawesome-all.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fontawesome-all.min.css rel=stylesheet></noscript><link href=/css/featherlight.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/featherlight.min.css rel=stylesheet></noscript><link href=/css/nucleus.css rel=stylesheet><link href=/css/fonts.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fonts.css rel=stylesheet></noscript><link href=/css/theme.css rel=stylesheet><link href=/css/theme-relearn-light.css rel=stylesheet id=variant-style><link href=/css/print.css rel=stylesheet media=print><script src=/js/variant.js?1743775370></script>
<script>var root_url="/",baseUriFull,baseUri=root_url.replace(/\/$/,"");window.T_Copy_to_clipboard="",window.T_Copied_to_clipboard="",window.T_Copy_link_to_clipboard="",window.T_Link_copied_to_clipboard="",baseUriFull="http://localhost/",window.variants&&variants.init(["relearn-light"])</script><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.119.0"><meta itemprop=description property="description" content="SmartGraphs enable you to manage graphs at scale using value-based sharding"><meta property="og:url" content="http://localhost/3.12/graphs/smartgraphs/"><meta property="og:title" content="SmartGraphs"><meta property="og:type" content="website"><meta property="og:description" content="SmartGraphs enable you to manage graphs at scale using value-based sharding"><meta name=docsearch:version content="3.12"><title>SmartGraphs | ArangoDB Documentation</title><link href=/images/favicon.png rel=icon type=image/png><script src=/js/jquery.min.js></script>
<script src=/js/clipboard.min.js?1743775370 defer></script>
<script src=/js/featherlight.min.js?1743775370 defer></script>
<script>var versions=[{alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"},{alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"},{alias:"3.11",deprecated:!1,name:"3.11",version:"3.11.13"},{alias:"3.10",deprecated:!0,name:"3.10",version:"3.10.14"}]</script><script>var develVersion={alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"}</script><script>var stableVersion={alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"}</script><script src=/js/codeblocks.js?1743775370 defer></script>
<script src=/js/theme.js?1743775370 defer></script></head><body><noscript>You need to enable JavaScript to use the ArangoDB documentation.</noscript><div id=page-wrapper class=page_content_splash style=height:auto;opacity:0><section id=page-main><section class=page-container id=page-container><header id=header style="transition:.5s padding ease-out,.15s" class="zn_header_white header-splash-new nav-down header-splash-wrap header1"><div class=header-block-left><div class=mobile-menu-toggle><button id=sidebar-toggle-navigation onclick=showSidebarHandler()><svg width="1.33em" height="1.33em" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button></div><div class=version-logo-container><div class="logo-container hasinfocard_img arangodb-logo-large"><div class=logo><a href=https://www.arangodb.com/><img src=/images/logo_main.png alt=ArangoDB title></a></div></div><div class=arangodb-logo-small><a href=https://arangodb.com/><img alt="ArangoDB Logo" src=/images/ArangoDB_Logo_White_small.png></a></div></div></div><div class=container-right style=display:hidden></div><div class=search-and-version-container><a href=# class="home-link is-current" aria-label="Go to home page" onclick=goToHomepage(event)></a><div id=searchbox></div><script type=text/javascript>const SCRIPT_SRC="https://unpkg.com/@inkeep/widgets-embed@0.2.290/dist/embed.js";function loadAndInitializeInkeep(){if(document.querySelector(`script[src="${SCRIPT_SRC}]"`))return;const e=document.createElement("script");e.type="module",e.src=SCRIPT_SRC,e.onload=initializeInkeep,document.head.appendChild(e)}function initializeInkeep(){const e=Inkeep({integrationId:"clo4lx6jk0000s601cp21x2ok",apiKey:"13b4e56966a76e86c6ff359cd795ee6a0412f751d75d6383",organizationId:"org_HGBkkzGAa4KeGJGh",organizationDisplayName:"ArangoDB",primaryBrandColor:"#80a54d",stringReplacementRules:[{matchingRule:{ruleType:"Substring",string:"Arangograph"},replaceWith:"ArangoGraph"},{matchingRule:{ruleType:"Substring",string:"Aql"},replaceWith:"AQL"},{matchingRule:{ruleType:"Substring",string:"Arangodb"},replaceWith:"ArangoDB"}],customCardSettings:[{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arango.qubitpi.org"}},searchTabLabel:"Official Docs"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"developer.arangodb.com"}},searchTabLabel:"Developer Hub"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arangodb.com"}},searchTabLabel:"Home"}]}),t=e.embed({componentType:"ChatButton",properties:{stylesheetUrls:["/css/fonts.css"],fixedPositionXOffset:"52px",baseSettings:{theme:{primaryColors:{textColorOnPrimary:"white"},tokens:{fonts:{body:"'Inter'",heading:"'Inter'"},zIndex:{overlay:1e4,modal:11e3,popover:12e3,skipLink:13e3,toast:14e3,tooltip:15e3}}}},aiChatSettings:{botAvatarSrcUrl:"/images/ArangoDB_Logo_White_small.png",quickQuestions:["What can you do with AQL that is not feasible with SQL?","How do I search for objects within arrays?","Where can I deploy my ArangoDB instance?"],getHelpCallToActions:[{icon:{builtIn:"FaSlack"},name:"Slack",url:"https://arangodb-community.slack.com/"}]},searchSettings:{tabSettings:{isAllTabEnabled:!1,alwaysDisplayedTabs:["Official Docs","Developer Hub","Home"]}}}})}loadAndInitializeInkeep()</script><div class=version-selector><select id=arangodb-version onchange=changeVersion()><option value=3.13>3.13</option><option value=3.12>3.12</option><option value=3.11>3.11</option><option value=3.10>3.10</option><option value=3.9>3.9</option><option value=3.8>3.8</option></select></div></div></header><iframe src=/nav.html title=description id=menu-iframe class="menu-iframe active" style=opacity:0></iframe><div class=container-main><div class=row-main><nav id=breadcrumbs><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><meta itemprop=itemListOrder content="Descending"><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="3.12"><a itemprop=item class=link href=/3.12/><span itemprop=name class=breadcrumb-entry>3.12.4</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Graphs"><a itemprop=item class=link href=/3.12/graphs/><span itemprop=name class=breadcrumb-entry>Graphs</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="SmartGraphs"><a itemprop=item class=link href=/3.12/graphs/smartgraphs/><span itemprop=name class=breadcrumb-entry>SmartGraphs</span></a></li></ol></nav><article class=default><hgroup><h1>SmartGraphs</h1><p class=lead>SmartGraphs enable you to manage graphs at scale using value-based sharding</p></hgroup><p class=labels><span class=label>ArangoDB Enterprise Edition</span>
<span class=label>ArangoGraph</span></p><p>SmartGraphs are specifically targeted at graphs that need scalability and
high performance. The way SmartGraphs use the ArangoDB cluster sharding makes it
extremely useful for distributing data across multiple servers with minimal
network latency.</p><p>Most graphs have one feature - a value that is stored in every vertex - that
divides the entire graph into several smaller subgraphs. These subgraphs have a
large amount of edges that only connect vertices in the same subgraph and only
have few edges connecting vertices from other subgraphs. If this feature is
known, SmartGraphs can make use if it.</p><p>Examples for such graphs are:</p><ul><li><p><strong>Social Networks</strong><br>Typically the feature here is the region/country users live in. Every user has
more contacts in the same region/country than in other regions/countries.</p></li><li><p><strong>Transport Systems</strong><br>For transport systems, the common feature is the region/country. There are
many local connections, but only a few go across countries.</p></li><li><p><strong>E-Commerce</strong><br>In this case, the category of products is a good feature. Products of the same
category are often bought together.</p></li></ul><p>In terms of querying there is no difference between SmartGraphs and General Graphs.
For graph querying please refer to <a href=/3.12/aql/graphs/ class=link>AQL Graph Operations</a>
and <a href=/3.12/graphs/general-graphs/functions/ class=link>General Graph Functions</a> sections.
The optimizer is clever enough to identify
whether it is a SmartGraph or not.</p><p>Do the hands-on
<a href=https://www.arangodb.com/using-smartgraphs-arangodb/ target=_blank rel="noopener noreferrer" class=link>ArangoDB SmartGraphs Tutorial</a>&nbsp;<i class="fas fa-external-link-alt"></i>
to learn more.</p><h2 id=how-smartgraphs-work>How SmartGraphs work <a href=/3.12/graphs/smartgraphs/#how-smartgraphs-work class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>Typically, when you shard your data with ArangoDB the goal is to have an even
distribution of data across multiple servers. This approach allows you to scale
out your data at a rather high speed in most cases. However, since one of the
best features of ArangoDB is fast graph traversals, this sort of distribution
can start causing problems if your data grows exponentially.</p><p>Instead of traveling across every server before returning data, SmartGraphs use
a clever and optimized way of moving data through the cluster so that you retain
the scalability as well as the performance of graph traversals in ArangoDB.</p><p>The examples below illustrate the difference in how data is sharded in the
cluster for both scenarios. Let&rsquo;s take a closer look at it.</p><h3 id=random-data-distribution>Random data distribution <a href=/3.12/graphs/smartgraphs/#random-data-distribution class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>The natural distribution of data for graphs that handle large datasets involves
a series of highly interconnected nodes with many edges running between them.</p><p><figure class=image-caption><img alt="Random data distribution" src=/images/SmartGraphs_random_distribution.png><figcaption></figcaption></figure></p><p><em>The orange line indicates an example graph traversal. Notice how it touches nodes on every server.</em></p><p>Once you start connecting the nodes to each other, it becomes clear that the
graph traversal might need to travel across every server before returning
results. This sort of distribution results in many network hops between
DB-Servers and Coordinators.</p><h3 id=smart-data-distribution>Smart data distribution <a href=/3.12/graphs/smartgraphs/#smart-data-distribution class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>By optimizing the distribution of data, SmartGraphs reduce the number of network
hops traversals require.</p><p>SmartGraphs come with a concept of a <code>smartGraphAttribute</code> that is used to
inform the database how exactly to shard data. When defining this attribute,
think of it as a value that is stored in every vertex. For instance, in
social network datasets, this attribute can be the ID or the region/country of
the users.</p><p>The graph will than be automatically sharded in such a way that all vertices
with the same value are stored on the same physical machine, all edges
connecting vertices with identical <code>smartGraphAttribute</code> values are stored on
this machine as well. Sharding with this attribute means that the relevant data
is now co-located on servers, whenever possible.</p><p><figure class=image-caption><img alt="SmartGraphs data distribution" src=/images/SmartGraphs_distribution.png><figcaption></figcaption></figure></p><p><em>The outcome of moving the data like this is that you retain the scalability as well as the performance of graph traversals in ArangoDB.</em></p><h2 id=smartgraphs-using-satellitecollections>SmartGraphs using SatelliteCollections <a href=/3.12/graphs/smartgraphs/#smartgraphs-using-satellitecollections class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>These SmartGraphs are capable of using <a href=/3.12/develop/satellitecollections/ class=link>SatelliteCollections</a>
within their graph definition. Therefore, edge definitions defined between
SmartCollections and SatelliteCollections can be created. As SatelliteCollections
(and the edge collections between SmartGraph collections and SatelliteCollections)
are globally replicated to each participating DB-Server, (weighted) graph traversal,
and (k-)shortest path(s) query can partially be executed locally on each DB-Server.
This means a larger part of the query can be executed fully local
whenever data from the SatelliteCollections is required.</p><p><figure class=image-caption><img alt="SmartGraphs with SatelliteCollections" src=/images/SmartGraphs-using-SatelliteCollections.png><figcaption></figcaption></figure></p><h2 id=disjoint-smartgraphs>Disjoint SmartGraphs <a href=/3.12/graphs/smartgraphs/#disjoint-smartgraphs class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>Disjoint SmartGraphs are are useful for use cases which have to deal with a
large forest of graphs, when you have clearly separated subgraphs in your
graph dataset. Disjoint SmartGraphs enable the automatic sharding of these
subgraphs and prohibit edges connecting them.</p><p><figure class=image-caption><img alt="Disjoint SmartGraphs" src=/images/SmartGraphs-Disjoint.png><figcaption></figcaption></figure></p><p><em>This ensures that graph traversals, shortest path, and k-shortest-paths queries
can be executed locally on a DB-Server, achieving improved performance for
these type of queries.</em></p><h2 id=disjoint-smartgraphs-using-satellitecollections>Disjoint SmartGraphs using SatelliteCollections <a href=/3.12/graphs/smartgraphs/#disjoint-smartgraphs-using-satellitecollections class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>Disjoint SmartGraphs using SatelliteCollections prohibit
edges between vertices with different <code>smartGraphAttribute</code> values.
All SmartVertices can be connected to SatelliteVertices.</p><nav class=pagination><span class=prev><a class="nav nav-prev link" href=/3.12/graphs/satellitegraphs/><i class="fas fa-chevron-left fa-fw"></i><p>SatelliteGraphs</p></a></span><span class=next><a class="nav nav-next link" href=/3.12/graphs/smartgraphs/getting-started/><p>Getting Started</p><i class="fas fa-chevron-right fa-fw"></i></a></span></nav></article><div class=toc-container><a class=edit-page aria-label href=https://github.com/arangodb/docs-hugo/edit/main/site/content/3.12/graphs/smartgraphs/_index.md target=_blank><i class="fab fa-fw fa-github edit-page-icon"></i></a><div class=toc><div class=toc-content><div class=toc-header><p>On this page</p></div><nav id=TableOfContents><div class=level-2><a href=#how-smartgraphs-work>How SmartGraphs work</a></div><div class=level-3><a href=#random-data-distribution>Random data distribution</a></div><div class=level-3><a href=#smart-data-distribution>Smart data distribution</a></div><div class=level-2><a href=#smartgraphs-using-satellitecollections>SmartGraphs using SatelliteCollections</a></div><div class=level-2><a href=#disjoint-smartgraphs>Disjoint SmartGraphs</a></div><div class=level-2><a href=#disjoint-smartgraphs-using-satellitecollections>Disjoint SmartGraphs using SatelliteCollections</a></div></nav></div></div></div></div></div></section></section></div><button class="back-to-top hidden" onclick=goToTop(event) href=#><i class="fa fa-arrow-up"></i></button><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3>
<script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3></script>
<script type=text/javascript>window.setupDocSearch=function(e){if(!window.docsearch)return;docsearch({appId:"OK3ZBQ5982",apiKey:"500c85ccecb335d507fe4449aed12e1d",indexName:"arangodbdocs",insights:!0,container:"#searchbox",debug:!1,maxResultsPerGroup:10,searchParameters:{facetFilters:[`version:${e}`]}})}</script></body></html>