<!doctype html><html lang=en><head><link href=//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css rel=stylesheet><link href=//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css rel=stylesheet><link href=/css/fontawesome-all.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fontawesome-all.min.css rel=stylesheet></noscript><link href=/css/featherlight.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/featherlight.min.css rel=stylesheet></noscript><link href=/css/nucleus.css rel=stylesheet><link href=/css/fonts.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fonts.css rel=stylesheet></noscript><link href=/css/theme.css rel=stylesheet><link href=/css/theme-relearn-light.css rel=stylesheet id=variant-style><link href=/css/print.css rel=stylesheet media=print><script src=/js/variant.js?1747031427></script>
<script>var root_url="/",baseUriFull,baseUri=root_url.replace(/\/$/,"");window.T_Copy_to_clipboard="",window.T_Copied_to_clipboard="",window.T_Copy_link_to_clipboard="",window.T_Link_copied_to_clipboard="",baseUriFull="http://localhost/",window.variants&&variants.init(["relearn-light"])</script><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.119.0"><meta itemprop=description property="description" content="Important issues affecting the 3.5.x versions of the ArangoDB suite of products"><meta property="og:url" content="http://localhost/3.13/release-notes/version-3.5/known-issues-in-3-5/"><meta property="og:title" content="Known Issues in ArangoDB 3.5"><meta property="og:type" content="website"><meta property="og:description" content="Important issues affecting the 3.5.x versions of the ArangoDB suite of products"><meta name=docsearch:version content="3.13"><title>Known Issues in ArangoDB 3.5 | ArangoDB Documentation</title><link href=/images/favicon.png rel=icon type=image/png><script src=/js/jquery.min.js></script>
<script src=/js/clipboard.min.js?1747031427 defer></script>
<script src=/js/featherlight.min.js?1747031427 defer></script>
<script>var versions=[{alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"},{alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"},{alias:"3.11",deprecated:!1,name:"3.11",version:"3.11.13"},{alias:"3.10",deprecated:!0,name:"3.10",version:"3.10.14"}]</script><script>var develVersion={alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"}</script><script>var stableVersion={alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"}</script><script src=/js/codeblocks.js?1747031427 defer></script>
<script src=/js/theme.js?1747031427 defer></script></head><body><noscript>You need to enable JavaScript to use the ArangoDB documentation.</noscript><div id=page-wrapper class=page_content_splash style=height:auto;opacity:0><section id=page-main><section class=page-container id=page-container><header id=header style="transition:.5s padding ease-out,.15s" class="zn_header_white header-splash-new nav-down header-splash-wrap header1"><div class=header-block-left><div class=mobile-menu-toggle><button id=sidebar-toggle-navigation onclick=showSidebarHandler()><svg width="1.33em" height="1.33em" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button></div><div class=version-logo-container><div class="logo-container hasinfocard_img arangodb-logo-large"><div class=logo><a href=https://www.arangodb.com/><img src=/images/logo_main.png alt=ArangoDB title></a></div></div><div class=arangodb-logo-small><a href=https://arangodb.com/><img alt="ArangoDB Logo" src=/images/ArangoDB_Logo_White_small.png></a></div></div></div><div class=container-right style=display:hidden></div><div class=search-and-version-container><a href=# class="home-link is-current" aria-label="Go to home page" onclick=goToHomepage(event)></a><div id=searchbox></div><script type=text/javascript>const SCRIPT_SRC="https://unpkg.com/@inkeep/widgets-embed@0.2.290/dist/embed.js";function loadAndInitializeInkeep(){if(document.querySelector(`script[src="${SCRIPT_SRC}]"`))return;const e=document.createElement("script");e.type="module",e.src=SCRIPT_SRC,e.onload=initializeInkeep,document.head.appendChild(e)}function initializeInkeep(){const e=Inkeep({integrationId:"clo4lx6jk0000s601cp21x2ok",apiKey:"13b4e56966a76e86c6ff359cd795ee6a0412f751d75d6383",organizationId:"org_HGBkkzGAa4KeGJGh",organizationDisplayName:"ArangoDB",primaryBrandColor:"#80a54d",stringReplacementRules:[{matchingRule:{ruleType:"Substring",string:"Arangograph"},replaceWith:"ArangoGraph"},{matchingRule:{ruleType:"Substring",string:"Aql"},replaceWith:"AQL"},{matchingRule:{ruleType:"Substring",string:"Arangodb"},replaceWith:"ArangoDB"}],customCardSettings:[{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arango.qubitpi.org"}},searchTabLabel:"Official Docs"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"developer.arangodb.com"}},searchTabLabel:"Developer Hub"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arangodb.com"}},searchTabLabel:"Home"}]}),t=e.embed({componentType:"ChatButton",properties:{stylesheetUrls:["/css/fonts.css"],fixedPositionXOffset:"52px",baseSettings:{theme:{primaryColors:{textColorOnPrimary:"white"},tokens:{fonts:{body:"'Inter'",heading:"'Inter'"},zIndex:{overlay:1e4,modal:11e3,popover:12e3,skipLink:13e3,toast:14e3,tooltip:15e3}}}},aiChatSettings:{botAvatarSrcUrl:"/images/ArangoDB_Logo_White_small.png",quickQuestions:["What can you do with AQL that is not feasible with SQL?","How do I search for objects within arrays?","Where can I deploy my ArangoDB instance?"],getHelpCallToActions:[{icon:{builtIn:"FaSlack"},name:"Slack",url:"https://arangodb-community.slack.com/"}]},searchSettings:{tabSettings:{isAllTabEnabled:!1,alwaysDisplayedTabs:["Official Docs","Developer Hub","Home"]}}}})}loadAndInitializeInkeep()</script><div class=version-selector><select id=arangodb-version onchange=changeVersion()><option value=3.13>3.13</option><option value=3.12>3.12</option><option value=3.11>3.11</option><option value=3.10>3.10</option><option value=3.9>3.9</option><option value=3.8>3.8</option></select></div></div></header><iframe src=/nav.html title=description id=menu-iframe class="menu-iframe active" style=opacity:0></iframe><div class=container-main><div class=row-main><nav id=breadcrumbs><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><meta itemprop=itemListOrder content="Descending"><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="3.13"><a itemprop=item class=link href=/3.13/><span itemprop=name class=breadcrumb-entry>3.13.0</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Release Notes"><a itemprop=item class=link href=/3.13/release-notes/><span itemprop=name class=breadcrumb-entry>Release Notes</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Version 3.5"><a itemprop=item class=link href=/3.13/release-notes/version-3.5/><span itemprop=name class=breadcrumb-entry>Version 3.5</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Known Issues in 3.5"><a itemprop=item class=link href=/3.13/release-notes/version-3.5/known-issues-in-3-5/><span itemprop=name class=breadcrumb-entry>Known Issues in 3.5</span></a></li></ol></nav><article class=default><div class="box notices cstyle warning"><div class=box-content-container><div class=box-content><i class="fas fa-exclamation-triangle"></i><div class=box-text><p>ArangoDB v3.13 is under development and not released yet.
This documentation is not final and potentially incomplete.</p></div></div></div></div><hgroup><h1>Known Issues in ArangoDB 3.5</h1><p class=lead>Important issues affecting the 3.5.x versions of the ArangoDB suite of products</p></hgroup><p>Note that this page does not list all open issues.</p><h2 id=arangosearch>ArangoSearch <a href=/3.13/release-notes/version-3.5/known-issues-in-3-5/#arangosearch class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><table><thead><tr><th>Issue</th></tr></thead><tbody><tr><td><strong>Date Added:</strong> 2018-12-19<br><strong>Component:</strong> ArangoSearch<br><strong>Deployment Mode:</strong> Single-server<br><strong>Description:</strong> Value of <code>_id</code> attribute indexed by ArangoSearch view may become inconsistent after renaming a collection<br><strong>Affected Versions:</strong> 3.5.x<br><strong>Fixed in Versions:</strong> -<br><strong>Reference:</strong> <a href=https://github.com/arangodb/backlog/issues/514 target=_blank rel="noopener noreferrer" class=link>arangodb/backlog#514</a>&nbsp;<i class="fas fa-external-link-alt"></i> (internal)</td></tr><tr><td><strong>Date Added:</strong> 2018-12-03<br><strong>Component:</strong> ArangoSearch<br><strong>Deployment Mode:</strong> Cluster<br><strong>Description:</strong> Score values evaluated by corresponding score functions (BM25/TFIDF) may differ in single-server and cluster with a collection having more than 1 shard<br><strong>Affected Versions:</strong> 3.4.x, 3.5.x<br><strong>Fixed in Versions:</strong> -<br><strong>Reference:</strong> <a href=https://github.com/arangodb/backlog/issues/508 target=_blank rel="noopener noreferrer" class=link>arangodb/backlog#508</a>&nbsp;<i class="fas fa-external-link-alt"></i> (internal)</td></tr><tr><td><strong>Date Added:</strong> 2018-12-03<br><strong>Component:</strong> ArangoSearch<br><strong>Deployment Mode:</strong> Cluster<br><strong>Description:</strong> ArangoSearch index consolidation does not work during creation of a link on existing collection which may lead to massive file descriptors consumption<br><strong>Affected Versions:</strong> 3.4.x, 3.5.x<br><strong>Fixed in Versions:</strong> 3.6.0<br><strong>Reference:</strong> <a href=https://github.com/arangodb/backlog/issues/509 target=_blank rel="noopener noreferrer" class=link>arangodb/backlog#509</a>&nbsp;<i class="fas fa-external-link-alt"></i> (internal)</td></tr><tr><td><strong>Date Added:</strong> 2018-12-03<br><strong>Component:</strong> ArangoSearch<br><strong>Deployment Mode:</strong> All<br><strong>Description:</strong> Using a loop variable in expressions within a corresponding SEARCH condition is not supported<br><strong>Affected Versions:</strong> 3.4.x, 3.5.x<br><strong>Fixed in Versions:</strong> -<br><strong>Reference:</strong> <a href=https://github.com/arangodb/backlog/issues/318 target=_blank rel="noopener noreferrer" class=link>arangodb/backlog#318</a>&nbsp;<i class="fas fa-external-link-alt"></i> (internal)</td></tr><tr><td><strong>Date Added:</strong> 2019-06-25<br><strong>Component:</strong> ArangoSearch<br><strong>Deployment Mode:</strong> All<br><strong>Description:</strong> The <code>primarySort</code> attribute in ArangoSearch View definitions cannot be set via the web interface. The option is immutable, but the web interface does not allow to set any View properties upfront (it creates a View with default parameters before the user has a chance to configure it).<br><strong>Affected Versions:</strong> 3.5.x<br><strong>Fixed in Versions:</strong> -<br><strong>Reference:</strong> N/A</td></tr><tr><td><strong>Date Added:</strong> 2019-11-06<br><strong>Component:</strong> ArangoSearch<br><strong>Deployment Mode:</strong> Cluster<br><strong>Description:</strong> There is a possibility to get into deadlocks during Coordinator execution if a custom Analyzer was created (and is present in the <code>_analyzers</code> system collection). It is recommended not to use custom Analyzers in production environments in affected versions.<br><strong>Affected Versions:</strong> 3.5.x<br><strong>Fixed in Versions:</strong> 3.5.3<br><strong>Reference:</strong> <a href=https://github.com/arangodb/backlog/issues/651 target=_blank rel="noopener noreferrer" class=link>arangodb/backlog#651</a>&nbsp;<i class="fas fa-external-link-alt"></i> (internal)</td></tr><tr><td><strong>Date Added:</strong> 2020-03-19<br><strong>Component:</strong> ArangoSearch<br><strong>Deployment Mode:</strong> All<br><strong>Description:</strong> Operators and functions in <code>SEARCH</code> clauses of AQL queries which compare values such as <code>></code>, <code>>=</code>, <code>&lt;</code>, <code>&lt;=</code>, <code>IN_RANGE()</code> and <code>STARTS_WITH()</code> neither take the server language (<code>--default-language</code>) nor the Analyzer locale into account. The alphabetical order of characters as defined by a language is thus not honored and can lead to unexpected results in range queries.<br><strong>Affected Versions:</strong> 3.5.x<br><strong>Fixed in Versions:</strong> -<br><strong>Reference:</strong> <a href=https://github.com/arangodb/backlog/issues/679 target=_blank rel="noopener noreferrer" class=link>arangodb/backlog#679</a>&nbsp;<i class="fas fa-external-link-alt"></i> (internal)</td></tr><tr><td><strong>Date Added:</strong> 2020-05-22<br><strong>Component:</strong> ArangoSearch<br><strong>Deployment Mode:</strong> Cluster<br><strong>Description:</strong> The immediate recreation of ArangoSearch Analyzers in cluster deployments (deleting and shortly after creating one with the same name but different properties) causes errors in queries which involve such recreated Analyzers. For a workaround see <a href=#purge-analyzer-cache class=link>Purge Analyzer cache</a> below.<br><strong>Affected Versions:</strong> 3.5.x<br><strong>Fixed in Versions:</strong> -<br><strong>Reference:</strong> <a href=https://github.com/arangodb/backlog/issues/669 target=_blank rel="noopener noreferrer" class=link>arangodb/backlog#669</a>&nbsp;<i class="fas fa-external-link-alt"></i> (internal), <a href=https://github.com/arangodb/backlog/issues/695 target=_blank rel="noopener noreferrer" class=link>arangodb/backlog#695</a>&nbsp;<i class="fas fa-external-link-alt"></i> (internal)</td></tr><tr><td><strong>Date Added:</strong> 2020-07-31<br><strong>Component:</strong> ArangoSearch<br><strong>Deployment Mode:</strong> All<br><strong>Description:</strong> AQL queries with subqueries or joins in SEARCH expressions may return incorrect results. As a workaround, you can disable the optimizer rule which causes the problem with the following query options: <code>{ optimizer: { rules: [ "-inline-subqueries" ] } }</code><br><strong>Affected Versions:</strong> 3.5.x, 3.6.x, 3.7.x<br><strong>Fixed in Versions:</strong> -<br><strong>Reference:</strong> <a href=https://github.com/arangodb/arangodb/issues/12247 target=_blank rel="noopener noreferrer" class=link>arangodb/arangodb#12247</a>&nbsp;<i class="fas fa-external-link-alt"></i></td></tr></tbody></table><h3 id=purge-analyzer-cache>Purge Analyzer cache <a href=/3.13/release-notes/version-3.5/known-issues-in-3-5/#purge-analyzer-cache class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>To fix query errors caused by an immediately re-created Analyzer, the
DB-Servers need to be forced to clear their Analyzer caches. This can be
achieved by using below code in <em>arangosh</em>:</p><ol><li><p>Connect to a Coordinator with <code>arangosh</code></p></li><li><p><code>var analyzers = require("@arangodb/analyzers");</code></p></li><li><p><code>analyzers.remove("&lt;PROBLEMATIC ANALYZER>");</code></p></li><li><p><code>var dummy = "dummy_analyzer_" + Date.now();</code></p></li><li><p><code>analyzers.save(dummy, "identity", {});</code></p></li><li><p><code>db._query("FOR d IN &lt;ANY EXISTING VIEW> SEARCH ANALYZER(STARTS_WITH(d.test, 'something'), @a) RETURN d", {a: dummy});</code></p><p>This query with a new Analyzer will force cache purging. If this query
reports an error about a missing Analyzer, then wait for a minute and
retry until it succeeds.</p></li><li><p>Re-create your Analyzer (<code>&lt;PROBLEMATIC ANALYZER></code>) with the new,
correct properties.</p></li><li><p><code>analyzers.remove(dummy);</code></p></li><li><p>Check if the original query still fails. It is possible that it reports a
missing Analyzer, but the problem should go away in a minute and the query
execute normally.</p></li></ol><h2 id=aql>AQL <a href=/3.13/release-notes/version-3.5/known-issues-in-3-5/#aql class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><table><thead><tr><th>Issue</th></tr></thead><tbody><tr><td><strong>Date Added:</strong> 2018-09-05<br><strong>Component:</strong> AQL<br><strong>Deployment Mode:</strong> Cluster<br><strong>Description:</strong> In a very uncommon edge case there is an issue with an optimization rule in the cluster. If you are running a cluster and use a custom shard key on a collection (default is <code>_key</code>) <strong>and</strong> you provide a wrong shard key in a modifying query (<code>UPDATE</code>, <code>REPLACE</code>, <code>DELETE</code>) <strong>and</strong> the wrong shard key is on a different shard than the correct one, a <code>DOCUMENT NOT FOUND</code> error is returned instead of a modification (example query: <code>UPDATE { _key: "123", shardKey: "wrongKey"} WITH { foo: "bar" } IN mycollection</code>). Note that the modification always happens if the rule is switched off, so the suggested workaround is to <a href=/3.13/aql/execution-and-performance/query-optimization/#turning-specific-optimizer-rules-off class=link>deactivate the optimizing rule</a> <code>restrict-to-single-shard</code>.<br><strong>Affected Versions:</strong> 3.4.x, 3.5.x<br><strong>Fixed in Versions:</strong> -<br><strong>Reference:</strong> <a href=https://github.com/arangodb/arangodb/issues/6399 target=_blank rel="noopener noreferrer" class=link>arangodb/arangodb#6399</a>&nbsp;<i class="fas fa-external-link-alt"></i></td></tr></tbody></table><h2 id=upgrading>Upgrading <a href=/3.13/release-notes/version-3.5/known-issues-in-3-5/#upgrading class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><table><thead><tr><th>Issue</th></tr></thead><tbody><tr><td><strong>Date Added:</strong> 2019-05-16<br><strong>Component:</strong> arangod<br><strong>Deployment Mode:</strong> All<br><strong>Description:</strong> Bugfix release upgrades such as 3.4.4 to 3.4.5 may not create a backup of the database directory even if they should. Please create a copy manually before upgrading.<br><strong>Affected Versions:</strong> 3.4.x, 3.5.x (Windows and Linux)<br><strong>Fixed in Versions:</strong> -<br><strong>Reference:</strong> <a href=https://github.com/arangodb/planning/issues/3745 target=_blank rel="noopener noreferrer" class=link>arangodb/planning#3745</a>&nbsp;<i class="fas fa-external-link-alt"></i> (internal)</td></tr><tr><td><strong>Date Added:</strong> 2019-11-06<br><strong>Component:</strong> arangod<br><strong>Deployment Mode:</strong> All<br><strong>Description:</strong> Upgrades from ArangoDB version 3.4.x to 3.5.0 or 3.5.1 don&rsquo;t create the <code>_analyzers</code> system collection, preventing creation and use of custom Analyzers.<br>Suggested workaround: Create the missing collection manually in each database of an ArangoDB deployment after upgrade (arangosh example: <code>db._create("_analyzers", {isSystem: true})</code>)<br><strong>Affected Versions:</strong> 3.5.0, 3.5.1<br><strong>Fixed in Versions:</strong> 3.5.2<br><strong>Reference:</strong> <a href=https://github.com/arangodb/backlog/issues/652 target=_blank rel="noopener noreferrer" class=link>arangodb/backlog#652</a>&nbsp;<i class="fas fa-external-link-alt"></i> (internal)</td></tr><tr><td><strong>Date Added:</strong> 2019-11-06<br><strong>Component:</strong> arangod<br><strong>Deployment Mode:</strong> Cluster<br><strong>Description:</strong> Rolling cluster upgrades from ArangoDB version 3.5.0 to 3.5.1 are not possible due to errors at DB-Server nodes. A fix is contained from version 3.5.2 on, and rolling upgrades to this version are possible.<br><strong>Affected Versions:</strong> 3.5.0, 3.5.1<br><strong>Fixed in Versions:</strong> 3.5.2<br><strong>Reference:</strong> <a href=https://github.com/arangodb/backlog/issues/652 target=_blank rel="noopener noreferrer" class=link>arangodb/backlog#652</a>&nbsp;<i class="fas fa-external-link-alt"></i> (internal)</td></tr><tr><td><strong>Date Added:</strong> 2019-12-10<br><strong>Component:</strong> Installer<br><strong>Deployment Mode:</strong> All<br><strong>Description:</strong> The NSIS installer for Windows may fail to upgrade an existing installation, e.g. from 3.4.a to 3.4.b (patch release), with the error message: &ldquo;failed to detect whether we need to Upgrade&rdquo;<br><strong>Affected Versions:</strong> 3.4.x, 3.5.x<br><strong>Fixed in Versions:</strong> -<br><strong>Reference:</strong> <a href=https://github.com/arangodb/release-qa/issues/183 target=_blank rel="noopener noreferrer" class=link>arangodb/release-qa#183</a>&nbsp;<i class="fas fa-external-link-alt"></i> (internal)</td></tr><tr><td><strong>Date Added:</strong> 2020-01-07<br><strong>Component:</strong> Installer<br><strong>Deployment Mode:</strong> All<br><strong>Description:</strong> The NSIS installer for Windows can fail to add the path to the ArangoDB binaries to the <code>PATH</code> environment variable, silently or with an error.<br><strong>Affected Versions:</strong> 3.4.x, 3.5.x<br><strong>Fixed in Versions:</strong> -<br><strong>Reference:</strong> <a href=https://github.com/arangodb/release-qa/issues/183 target=_blank rel="noopener noreferrer" class=link>arangodb/release-qa#183</a>&nbsp;<i class="fas fa-external-link-alt"></i> (internal)</td></tr><tr><td><strong>Date Added:</strong> 2020-12-18<br><strong>Component:</strong> Agency<br><strong>Deployment Mode:</strong> Cluster<br><strong>Description:</strong> When upgrading a cluster from 3.5.x to 3.6.10, the upgrade can get stuck. Please update to 3.5.7 first before you upgrade to 3.6.10. If you are already in this situation, then you need to kill the stuck Agent. In a Kubernetes environment, use <code>kubectl</code> to get a list of all ArangoDB pods. You should see that one of the Agent pods has not yet restarted. Check the log file for a line like <code>control-c received</code> near the end, followed by no or only a few more log lines. Kill this pod with <code>kubectl</code>.<br><strong>Affected Versions:</strong> 3.5.x, 3.6.10<br><strong>Fixed in Versions:</strong> 3.5.7<br><strong>Reference:</strong> N/A</td></tr></tbody></table><h2 id=stream-transactions>Stream Transactions <a href=/3.13/release-notes/version-3.5/known-issues-in-3-5/#stream-transactions class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><table><thead><tr><th>Issue</th></tr></thead><tbody><tr><td><strong>Date Added:</strong> 2019-08-19<br><strong>Component:</strong> Transactions<br><strong>Deployment Mode:</strong> All<br><strong>Description:</strong> Stream Transactions do not honor the limits described in the documentation. Currently the idle timeout of 10 seconds will not be enforced, neither will the maximum size of transaction be enforced.<br><strong>Affected Versions:</strong> 3.5.0<br><strong>Fixed in Versions:</strong> 3.5.1<br><strong>Reference:</strong> <a href=https://github.com/arangodb/arangodb/pull/9775 target=_blank rel="noopener noreferrer" class=link>arangodb/arangodb#9775</a>&nbsp;<i class="fas fa-external-link-alt"></i></td></tr><tr><td><strong>Date Added:</strong> 2019-08-19<br><strong>Component:</strong> Transactions<br><strong>Deployment Mode:</strong> All<br><strong>Description:</strong> Stream Transactions do not support the graph operations that are initiated via the <code>general-graph</code> / <code>smart-graph</code> JavaScript module or via the REST API at <code>/_api/gharial</code>. These operations will act as if no stream transaction is present.<br><strong>Affected Versions:</strong> 3.5.0<br><strong>Fixed in Versions:</strong> 3.5.1<br><strong>Reference:</strong> <a href=https://github.com/arangodb/arangodb/pull/9855 target=_blank rel="noopener noreferrer" class=link>arangodb/arangodb#9855</a>&nbsp;<i class="fas fa-external-link-alt"></i> / <a href=https://github.com/arangodb/arangodb/pull/9911 target=_blank rel="noopener noreferrer" class=link>arangodb/arangodb#9911</a>&nbsp;<i class="fas fa-external-link-alt"></i></td></tr><tr><td><strong>Date Added:</strong> 2019-08-19<br><strong>Component:</strong> Transactions<br><strong>Deployment Mode:</strong> All<br><strong>Description:</strong> Stream Transactions do not support user restrictions. Any authenticated user may access any ongoing transaction so long as they have access to the database in question.<br><strong>Affected Versions:</strong> 3.5.0<br><strong>Fixed in Versions:</strong> 3.5.1<br><strong>Reference:</strong> <a href=https://github.com/arangodb/arangodb/pull/9796 target=_blank rel="noopener noreferrer" class=link>arangodb/arangodb#9796</a>&nbsp;<i class="fas fa-external-link-alt"></i></td></tr></tbody></table><h2 id=hot-backup>Hot Backup <a href=/3.13/release-notes/version-3.5/known-issues-in-3-5/#hot-backup class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><table><thead><tr><th>Issue</th></tr></thead><tbody><tr><td><strong>Date Added:</strong> 2019-10-09<br><strong>Component:</strong> Hot Backup API / arangobackup<br><strong>Deployment Mode:</strong> All<br><strong>Description:</strong> ArangoSearch Views are not backed up and thus not restored yet. Therefore, Views have to be dropped and recreated after a restore. This happens automatically in the background, but in particular in the presence of large amounts of data, the recreation of the ArangoSearch indexes can take some time after the restore. It is planned to rectify this limitation in one of the next releases.<br>Note furthermore that a running query with views can prevent a restore operation from happening whilst the query is running.<br><strong>Affected Versions:</strong> 3.5.x<br><strong>Fixed in Versions:</strong> 3.6.0<br><strong>Reference:</strong> N/A</td></tr><tr><td><strong>Date Added:</strong> 2019-10-09<br><strong>Component:</strong> Hot Backup API / arangobackup<br><strong>Deployment Mode:</strong> All<br><strong>Description:</strong> The Hot Backup feature is not supported in the Windows version of ArangoDB at this point in time.<br><strong>Affected Versions:</strong> 3.5.x<br><strong>Fixed in Versions:</strong> -<br><strong>Reference:</strong> N/A</td></tr><tr><td><strong>Date Added:</strong> 2019-10-09<br><strong>Component:</strong> arangobackup<br><strong>Deployment Mode:</strong> All<br><strong>Description:</strong> The startup option <code>--operation</code> works as positional argument only, e.g. <code>arangobackup list</code>. The alternative syntax <code>arangobackup --operation list</code> is not accepted.<br><strong>Affected Versions:</strong> 3.5.x<br><strong>Fixed in Versions:</strong> -<br><strong>Reference:</strong> N/A</td></tr></tbody></table><h2 id=other>Other <a href=/3.13/release-notes/version-3.5/known-issues-in-3-5/#other class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><table><thead><tr><th>Issue</th></tr></thead><tbody><tr><td><strong>Date Added:</strong> 2019-05-16<br><strong>Component:</strong> Starter<br><strong>Deployment Mode:</strong> All<br><strong>Description:</strong> The ArangoDB Starter falls back to the IP <code>[::1]</code> under macOS. If there is no entry <code>::1 localhost</code> in the <code>/etc/hosts</code> file or the option <code>--starter.disable-ipv6</code> is passed to the starter to use IPv4, then it will hang during startup.<br><strong>Affected Versions:</strong> 0.14.3 (macOS only)<br><strong>Fixed in Versions:</strong> -<br><strong>Reference:</strong> N/A</td></tr><tr><td><strong>Date Added:</strong> 2019-05-16<br><strong>Component:</strong> arangod<br><strong>Deployment Mode:</strong> All<br><strong>Description:</strong> Calling a shutdown endpoint may not result in a proper shutdown while the node/server is still under load. The server processes must be ended manually.<br>In v3.5.1 and later, two different issues are fixed: libgcc/libmusl wrongly detecting multi-threadedness in statically linked executables and a read/write lock race condition.<br><strong>Affected Versions:</strong> 3.5.0<br><strong>Fixed in Versions:</strong> 3.5.1<br><strong>Reference:</strong> <a href=https://github.com/arangodb/arangodb/blob/v3.5.1/CHANGELOG target=_blank rel="noopener noreferrer" class=link>v3.5.1 CHANGELOG</a>&nbsp;<i class="fas fa-external-link-alt"></i> / <a href=https://www.arangodb.com/2019/09/when-exceptions-collide/ target=_blank rel="noopener noreferrer" class=link>Blog Post &ldquo;When Exceptions Collide&rdquo;</a>&nbsp;<i class="fas fa-external-link-alt"></i></td></tr><tr><td><strong>Date Added:</strong> 2019-05-24<br><strong>Component:</strong> Web UI<br><strong>Deployment Mode:</strong> Active Failover<br><strong>Description:</strong> The web interface shows a wrong replication mode in the replication tab in Active Failover deployments sometimes. It may display Master/Slave mode (the default value) because of timeouts if <code>/_api/cluster/endpoints</code> is requested too frequently.<br><strong>Affected Versions:</strong> 3.5.x<br><strong>Fixed in Versions:</strong> -<br><strong>Reference:</strong> N/A</td></tr><tr><td><strong>Date Added:</strong> 2019-09-11<br><strong>Component:</strong> Indexing<br><strong>Deployment Mode:</strong> All<br><strong>Description:</strong> A time to live (TTL) index does not remove documents from a collection if the path points to a nested attribute. Only top-level attributes work.<br><strong>Affected Versions:</strong> 3.5.x<br><strong>Fixed in Versions:</strong> -<br><strong>Reference:</strong> N/A</td></tr><tr><td><strong>Date Added:</strong> 2019-12-10<br><strong>Component:</strong> Installer<br><strong>Deployment Mode:</strong> All<br><strong>Description:</strong> The DMG package for macOS is not notarized, which prevents the execution of <em>ArangoDB3-CLI.app</em> under macOS 10.15 (Catalina) with error message: &ldquo;<em>ArangoDB3-CLI</em> can&rsquo;t be opened because Apple cannot check it for malicious software&rdquo;<br><strong>Affected Versions:</strong> 3.3.x, 3.4.x, 3.5.x<br><strong>Fixed in Versions:</strong> 3.4.10, 3.5.5, 3.6.1<br><strong>Reference:</strong> <a href=https://github.com/arangodb/arangodb/issues/10561 target=_blank rel="noopener noreferrer" class=link>arangodb/arangodb#10561</a>&nbsp;<i class="fas fa-external-link-alt"></i></td></tr><tr><td><strong>Date Added:</strong> 2020-01-07<br><strong>Component:</strong> Installer<br><strong>Deployment Mode:</strong> All<br><strong>Description:</strong> V8-based binaries of the client packages (arangosh, arangoinspect, foxx-manager) have an incorrect default value for <code>javascript.startup-directory</code> and will thus not find the required JavaScript folder unless specified by the user.<br><strong>Affected Versions:</strong> 3.4.x, 3.5.x, 3.6.0<br><strong>Fixed in Versions:</strong> 3.4.9, 3.5.4, 3.6.1<br><strong>Reference:</strong> <a href=https://github.com/arangodb/release-qa/issues/183 target=_blank rel="noopener noreferrer" class=link>arangodb/release-qa#183</a>&nbsp;<i class="fas fa-external-link-alt"></i> (internal)</td></tr><tr><td><strong>Date Added:</strong> 2020-01-07<br><strong>Component:</strong> Installer<br><strong>Deployment Mode:</strong> All<br><strong>Description:</strong> The client packages for Windows miss the arangoinspect binary. As a workaround, you can run arangosh with the following options:<br><code>arangosh --server.authentication false --server.ask-jwt-secret --javascript.client-module inspector.js …</code><br><strong>Affected Versions:</strong> 3.3.x, 3.4.x, 3.5.x, 3.6.0<br><strong>Fixed in Versions:</strong> 3.3.25, 3.4.10, 3.5.5, 3.6.1<br><strong>Reference:</strong> <a href=https://github.com/arangodb/arangodb/pull/10835 target=_blank rel="noopener noreferrer" class=link>arangodb/arangodb#10835</a>&nbsp;<i class="fas fa-external-link-alt"></i></td></tr><tr><td><strong>Date Added:</strong> 2020-01-07<br><strong>Component:</strong> Foxx<br><strong>Deployment Mode:</strong> Cluster<br><strong>Description:</strong> In case of a Foxxmaster failover, jobs in state <code>'progress'</code> are not reset to <code>'pending'</code> to restart execution.<br><strong>Affected Versions:</strong> 3.4.x, 3.5.x<br><strong>Fixed in Versions:</strong> 3.4.10, 3.5.5, 3.6.1<br><strong>Reference:</strong> <a href=https://github.com/arangodb/arangodb/pull/10800 target=_blank rel="noopener noreferrer" class=link>arangodb/arangodb#10800</a>&nbsp;<i class="fas fa-external-link-alt"></i></td></tr><tr><td><strong>Date Added:</strong> 2020-05-18<br><strong>Component:</strong> all arangod / arangosh based programs & tools<br><strong>Deployment Mode:</strong> All<br><strong>Description:</strong> When using the <code>--config</code> option to set the configuration file location the ArangoDB C++ binaries check for <code>&lt;filename>.local</code> among other paths. If this path happens to be a directory then the expected configuration cannot be read, resulting in an early exit.<br><strong>Affected Versions:</strong> 3.4.x, 3.5.x<br><strong>Fixed in Versions:</strong> 3.4.11, 3.5.6<br><strong>Reference:</strong> <a href=https://github.com/arangodb/arangodb/pull/11632 target=_blank rel="noopener noreferrer" class=link>arangodb/arangodb#11632</a>&nbsp;<i class="fas fa-external-link-alt"></i></td></tr><tr><td><strong>Date Added:</strong> 2020-06-19<br><strong>Component:</strong> SmartGraphs<br><strong>Deployment Mode:</strong> Cluster<br><strong>Description:</strong> When inserting edges into an edge collection of a SmartGraph, the auto-generated <code>_rev</code> values for the ingoing and outgoing part of the edge may differ. This can be confusing when querying the <code>_rev</code> values of the edges later.<br><strong>Affected Versions:</strong> 3.4.x, 3.5.x, 3.6.x, 3.7.x<br><strong>Fixed in Versions:</strong> 3.6.5, 3.7.1<br><strong>Reference:</strong> N/A</td></tr><tr><td><strong>Date Added:</strong> 2020-06-30<br><strong>Component:</strong> SmartGraphs<br><strong>Deployment Mode:</strong> Cluster<br><strong>Description:</strong> Changing the collection properties of a smart edge collection did not propagate the changes to child collections for the <code>waitForSync</code>, <code>cacheEnabled</code> and <code>schema</code> attributes. This has been fixed in 3.7.1 for new smart edge collections, created with 3.7.1 or later.<br><strong>Affected Versions:</strong> 3.4.x, 3.5.x, 3.6.x, 3.7.x<br><strong>Fixed in Versions:</strong> 3.7.1<br><strong>Reference:</strong> <a href=https://github.com/arangodb/arangodb/pull/12065 target=_blank rel="noopener noreferrer" class=link>arangodb/arangodb#12065</a>&nbsp;<i class="fas fa-external-link-alt"></i></td></tr><tr><td><strong>Date Added:</strong> 2020-07-31<br><strong>Component:</strong> Web UI<br><strong>Deployment Mode:</strong> All<br><strong>Description:</strong> The API tab of Foxx services does not render the Swagger UI interface.<br><strong>Affected Versions:</strong> 3.5.x, 3.6.x, 3.7.x<br><strong>Fixed in Versions:</strong> 3.5.6, 3.6.6, 3.7.1<br><strong>Reference:</strong> <a href=https://github.com/arangodb/arangodb/issues/12297 target=_blank rel="noopener noreferrer" class=link>arangodb/arangodb#12297</a>&nbsp;<i class="fas fa-external-link-alt"></i></td></tr><tr><td><strong>Date Added:</strong> 2020-11-20<br><strong>Component:</strong> arangod<br><strong>Deployment Mode:</strong> All<br><strong>Description:</strong> The <code>Www-Authenticate</code> header is not set for HTTP 401 responses as required by the HTTP specification, despite the documentation claiming this behavior.<br><strong>Affected Versions:</strong> 3.5.x, 3.6.x, 3.7.x<br><strong>Fixed in Versions:</strong> 3.8.0<br><strong>Reference:</strong> <a href=https://github.com/arangodb/arangodb/issues/13001 target=_blank rel="noopener noreferrer" class=link>arangodb/arangodb#13001</a>&nbsp;<i class="fas fa-external-link-alt"></i></td></tr><tr><td><strong>Date Added:</strong> 2021-04-07<br><strong>Component:</strong> arangod<br><strong>Deployment Mode:</strong> All<br><strong>Description:</strong> The Batch API (HTTP endpoint <code>/_api/batch</code>) cannot be used in combination with Stream transactions to submit batched requests, because the required header <code>x-arango-trx-id</code> is not forwarded. It only processes <code>Content-Type</code> and <code>Content-Id</code>.<br><strong>Affected Versions:</strong> 3.5.x, 3.6.x, 3.7.x, 3.8.x<br><strong>Fixed in Versions:</strong> -<br><strong>Reference:</strong> <a href=https://github.com/arangodb/arangodb/issues/13552 target=_blank rel="noopener noreferrer" class=link>arangodb/arangodb#13552</a>&nbsp;<i class="fas fa-external-link-alt"></i></td></tr></tbody></table><nav class=pagination><span class=prev><a class="nav nav-prev link" href=/3.13/release-notes/version-3.5/whats-new-in-3-5/><i class="fas fa-chevron-left fa-fw"></i><p>What&rsquo;s New in 3.5</p></a></span><span class=next><a class="nav nav-next link" href=/3.13/release-notes/version-3.5/incompatible-changes-in-3-5/><p>Incompatible changes in 3.5</p><i class="fas fa-chevron-right fa-fw"></i></a></span></nav></article><div class=toc-container><a class=edit-page aria-label href=https://github.com/arangodb/docs-hugo/edit/main/site/content/3.13/release-notes/version-3.5/known-issues-in-3-5.md target=_blank><i class="fab fa-fw fa-github edit-page-icon"></i></a><div class=toc><div class=toc-content><div class=toc-header><p>On this page</p></div><nav id=TableOfContents><div class=level-2><a href=#arangosearch>ArangoSearch</a></div><div class=level-3><a href=#purge-analyzer-cache>Purge Analyzer cache</a></div><div class=level-2><a href=#aql>AQL</a></div><div class=level-2><a href=#upgrading>Upgrading</a></div><div class=level-2><a href=#stream-transactions>Stream Transactions</a></div><div class=level-2><a href=#hot-backup>Hot Backup</a></div><div class=level-2><a href=#other>Other</a></div></nav></div></div></div></div></div></section></section></div><button class="back-to-top hidden" onclick=goToTop(event) href=#><i class="fa fa-arrow-up"></i></button><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3>
<script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3></script>
<script type=text/javascript>window.setupDocSearch=function(e){if(!window.docsearch)return;docsearch({appId:"OK3ZBQ5982",apiKey:"500c85ccecb335d507fe4449aed12e1d",indexName:"arangodbdocs",insights:!0,container:"#searchbox",debug:!1,maxResultsPerGroup:10,searchParameters:{facetFilters:[`version:${e}`]}})}</script></body></html>