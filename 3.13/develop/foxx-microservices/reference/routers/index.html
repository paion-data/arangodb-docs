<!doctype html><html lang=en><head><link href=//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css rel=stylesheet><link href=//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css rel=stylesheet><link href=/css/fontawesome-all.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fontawesome-all.min.css rel=stylesheet></noscript><link href=/css/featherlight.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/featherlight.min.css rel=stylesheet></noscript><link href=/css/nucleus.css rel=stylesheet><link href=/css/fonts.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fonts.css rel=stylesheet></noscript><link href=/css/theme.css rel=stylesheet><link href=/css/theme-relearn-light.css rel=stylesheet id=variant-style><link href=/css/print.css rel=stylesheet media=print><script src=/js/variant.js?1743775370></script>
<script>var root_url="/",baseUriFull,baseUri=root_url.replace(/\/$/,"");window.T_Copy_to_clipboard="",window.T_Copied_to_clipboard="",window.T_Copy_link_to_clipboard="",window.T_Link_copied_to_clipboard="",baseUriFull="http://localhost/",window.variants&&variants.init(["relearn-light"])</script><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.119.0"><meta itemprop=description property="description" content="ArangoDB is a scalable graph database system with native support for other data models and a built-in search engine, for the cloud and on-premises"><meta property="og:url" content="http://localhost/3.13/develop/foxx-microservices/reference/routers/"><meta property="og:title" content="Foxx Routers"><meta property="og:type" content="website"><meta property="og:description" content="ArangoDB is a scalable graph database system with native support for other data models and a built-in search engine, for the cloud and on-premises"><meta name=docsearch:version content="3.13"><title>Foxx Routers | ArangoDB Documentation</title><link href=/images/favicon.png rel=icon type=image/png><script src=/js/jquery.min.js></script>
<script src=/js/clipboard.min.js?1743775370 defer></script>
<script src=/js/featherlight.min.js?1743775370 defer></script>
<script>var versions=[{alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"},{alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"},{alias:"3.11",deprecated:!1,name:"3.11",version:"3.11.13"},{alias:"3.10",deprecated:!0,name:"3.10",version:"3.10.14"}]</script><script>var develVersion={alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"}</script><script>var stableVersion={alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"}</script><script src=/js/codeblocks.js?1743775370 defer></script>
<script src=/js/theme.js?1743775370 defer></script></head><body><noscript>You need to enable JavaScript to use the ArangoDB documentation.</noscript><div id=page-wrapper class=page_content_splash style=height:auto;opacity:0><section id=page-main><section class=page-container id=page-container><header id=header style="transition:.5s padding ease-out,.15s" class="zn_header_white header-splash-new nav-down header-splash-wrap header1"><div class=header-block-left><div class=mobile-menu-toggle><button id=sidebar-toggle-navigation onclick=showSidebarHandler()><svg width="1.33em" height="1.33em" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button></div><div class=version-logo-container><div class="logo-container hasinfocard_img arangodb-logo-large"><div class=logo><a href=https://www.arangodb.com/><img src=/images/logo_main.png alt=ArangoDB title></a></div></div><div class=arangodb-logo-small><a href=https://arangodb.com/><img alt="ArangoDB Logo" src=/images/ArangoDB_Logo_White_small.png></a></div></div></div><div class=container-right style=display:hidden></div><div class=search-and-version-container><a href=# class="home-link is-current" aria-label="Go to home page" onclick=goToHomepage(event)></a><div id=searchbox></div><script type=text/javascript>const SCRIPT_SRC="https://unpkg.com/@inkeep/widgets-embed@0.2.290/dist/embed.js";function loadAndInitializeInkeep(){if(document.querySelector(`script[src="${SCRIPT_SRC}]"`))return;const e=document.createElement("script");e.type="module",e.src=SCRIPT_SRC,e.onload=initializeInkeep,document.head.appendChild(e)}function initializeInkeep(){const e=Inkeep({integrationId:"clo4lx6jk0000s601cp21x2ok",apiKey:"13b4e56966a76e86c6ff359cd795ee6a0412f751d75d6383",organizationId:"org_HGBkkzGAa4KeGJGh",organizationDisplayName:"ArangoDB",primaryBrandColor:"#80a54d",stringReplacementRules:[{matchingRule:{ruleType:"Substring",string:"Arangograph"},replaceWith:"ArangoGraph"},{matchingRule:{ruleType:"Substring",string:"Aql"},replaceWith:"AQL"},{matchingRule:{ruleType:"Substring",string:"Arangodb"},replaceWith:"ArangoDB"}],customCardSettings:[{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arango.qubitpi.org"}},searchTabLabel:"Official Docs"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"developer.arangodb.com"}},searchTabLabel:"Developer Hub"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arangodb.com"}},searchTabLabel:"Home"}]}),t=e.embed({componentType:"ChatButton",properties:{stylesheetUrls:["/css/fonts.css"],fixedPositionXOffset:"52px",baseSettings:{theme:{primaryColors:{textColorOnPrimary:"white"},tokens:{fonts:{body:"'Inter'",heading:"'Inter'"},zIndex:{overlay:1e4,modal:11e3,popover:12e3,skipLink:13e3,toast:14e3,tooltip:15e3}}}},aiChatSettings:{botAvatarSrcUrl:"/images/ArangoDB_Logo_White_small.png",quickQuestions:["What can you do with AQL that is not feasible with SQL?","How do I search for objects within arrays?","Where can I deploy my ArangoDB instance?"],getHelpCallToActions:[{icon:{builtIn:"FaSlack"},name:"Slack",url:"https://arangodb-community.slack.com/"}]},searchSettings:{tabSettings:{isAllTabEnabled:!1,alwaysDisplayedTabs:["Official Docs","Developer Hub","Home"]}}}})}loadAndInitializeInkeep()</script><div class=version-selector><select id=arangodb-version onchange=changeVersion()><option value=3.13>3.13</option><option value=3.12>3.12</option><option value=3.11>3.11</option><option value=3.10>3.10</option><option value=3.9>3.9</option><option value=3.8>3.8</option></select></div></div></header><iframe src=/nav.html title=description id=menu-iframe class="menu-iframe active" style=opacity:0></iframe><div class=container-main><div class=row-main><nav id=breadcrumbs><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><meta itemprop=itemListOrder content="Descending"><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="3.13"><a itemprop=item class=link href=/3.13/><span itemprop=name class=breadcrumb-entry>3.13.0</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Develop"><a itemprop=item class=link href=/3.13/develop/><span itemprop=name class=breadcrumb-entry>Develop</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Foxx Microservices"><a itemprop=item class=link href=/3.13/develop/foxx-microservices/><span itemprop=name class=breadcrumb-entry>Foxx Microservices</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Reference"><a itemprop=item class=link href=/3.13/develop/foxx-microservices/reference/><span itemprop=name class=breadcrumb-entry>Reference</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Routers"><a itemprop=item class=link href=/3.13/develop/foxx-microservices/reference/routers/><span itemprop=name class=breadcrumb-entry>Routers</span></a></li></ol></nav><article class=default><div class="box notices cstyle warning"><div class=box-content-container><div class=box-content><i class="fas fa-exclamation-triangle"></i><div class=box-text><p>ArangoDB v3.13 is under development and not released yet.
This documentation is not final and potentially incomplete.</p></div></div></div></div><hgroup><h1>Foxx Routers</h1></hgroup><p><code>const createRouter = require('@arangodb/foxx/router');</code></p><p>Routers let you define routes that extend ArangoDB&rsquo;s HTTP API with custom endpoints.</p><p>Routers need to be mounted using the <code>use</code> method of a
<a href=/3.13/develop/foxx-microservices/reference/service-context/ class=link>service context</a> to expose their HTTP routes at a service&rsquo;s mount path.</p><p>You can pass routers between services mounted in the same database
<a href=/3.13/develop/foxx-microservices/guides/linking-services-together/ class=link>as dependencies</a>. You can even nest routers
within each other.</p><h2 id=creating-a-router>Creating a router <a href=/3.13/develop/foxx-microservices/reference/routers/#creating-a-router class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>createRouter(): Router</code></p><p>This returns a new, clean router object that has not yet been mounted in the
service and can be exported like any other object.</p><h2 id=request-handlers>Request handlers <a href=/3.13/develop/foxx-microservices/reference/routers/#request-handlers class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>router.get([path], [...middleware], handler, [name]): Endpoint</code></p><p><code>router.post([path], [...middleware], handler, [name]): Endpoint</code></p><p><code>router.put([path], [...middleware], handler, [name]): Endpoint</code></p><p><code>router.patch([path], [...middleware], handler, [name]): Endpoint</code></p><p><code>router.delete([path], [...middleware], handler, [name]): Endpoint</code></p><p><code>router.all([path], [...middleware], handler, [name]): Endpoint</code></p><p>These methods let you specify routes on the router.
The <code>all</code> method defines a route that matches any supported HTTP verb. The
other methods define routes that only match the HTTP verb with the same name.</p><p><strong>Arguments</strong></p><ul><li><p><strong>path</strong>: <code>string</code> (Default: <code>"/"</code>)</p><p>The path of the request handler relative to the base path the Router is mounted at.
If omitted, the request handler handles requests to the base path of the Router.
For information on defining dynamic routes see the section on
<a href=/3.13/develop/foxx-microservices/reference/routers/endpoints/#pathparam class=link>path parameters in the chapter on router endpoints</a>.</p></li><li><p><strong>middleware</strong>: <code>Function</code> (optional)</p><p>Zero or more middleware functions that take the following arguments:</p><ul><li><p><strong>req</strong>: <code>Request</code></p><p>An incoming server request object.</p></li><li><p><strong>res</strong>: <code>Response</code></p><p>An outgoing server response object.</p></li><li><p><strong>next</strong>: <code>Function</code></p><p>A callback that passes control over to the next middleware function
and returns when that function has completed.</p><p>If a truthy argument is passed, that argument is thrown as an error.</p><p>If there is no next middleware function, the <code>handler</code> is
invoked instead (see below).</p></li></ul></li><li><p><strong>handler</strong>: <code>Function</code></p><p>A function that takes the following arguments:</p><ul><li><p><strong>req</strong>: <code>Request</code></p><p>An incoming server request object.</p></li><li><p><strong>res</strong>: <code>Response</code></p><p>An outgoing server response.</p></li></ul></li><li><p><strong>name</strong>: <code>string</code> (optional)</p><p>A name that can be used to generate URLs for the endpoint.
For more information see the <code>reverse</code> method of the <a href=/3.13/develop/foxx-microservices/reference/routers/request/ class=link>request object</a>.</p></li></ul><p>Returns an <a href=/3.13/develop/foxx-microservices/reference/routers/endpoints/ class=link>Endpoint</a> for the route.</p><p><strong>Examples</strong></p><p>Simple index route:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>router</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>res</span><span class=p>.</span><span class=nx>set</span><span class=p>(</span><span class=s1>&#39;content-type&#39;</span><span class=p>,</span> <span class=s1>&#39;text/plain&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>res</span><span class=p>.</span><span class=nx>write</span><span class=p>(</span><span class=s1>&#39;Hello World!&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span></span></span></code></pre></div><p>Restricting access to authenticated ArangoDB users:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>router</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/secrets&#39;</span><span class=p>,</span> <span class=kd>function</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>,</span> <span class=nx>next</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=nx>req</span><span class=p>.</span><span class=nx>arangoUser</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>next</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>res</span><span class=p>.</span><span class=k>throw</span><span class=p>(</span><span class=mi>404</span><span class=p>,</span> <span class=s1>&#39;Secrets? What secrets?&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>},</span> <span class=kd>function</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>res</span><span class=p>.</span><span class=nx>download</span><span class=p>(</span><span class=s1>&#39;allOurSecrets.zip&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span></span></span></code></pre></div><p>Multiple middleware functions:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>function</span> <span class=nx>counting</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>,</span> <span class=nx>next</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>req</span><span class=p>.</span><span class=nx>counter</span><span class=p>)</span> <span class=nx>req</span><span class=p>.</span><span class=nx>counter</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nx>req</span><span class=p>.</span><span class=nx>counter</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nx>next</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=nx>req</span><span class=p>.</span><span class=nx>counter</span><span class=o>--</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>router</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=nx>counting</span><span class=p>,</span> <span class=nx>counting</span><span class=p>,</span> <span class=nx>counting</span><span class=p>,</span> <span class=kd>function</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>res</span><span class=p>.</span><span class=nx>json</span><span class=p>({</span><span class=nx>counter</span><span class=o>:</span> <span class=nx>req</span><span class=p>.</span><span class=nx>counter</span><span class=p>});</span> <span class=c1>// {&#34;counter&#34;: 3}
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>});</span></span></span></code></pre></div><h2 id=mounting-child-routers-and-middleware>Mounting child routers and middleware <a href=/3.13/develop/foxx-microservices/reference/routers/#mounting-child-routers-and-middleware class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p><code>router.use([path], middleware, [name]): Endpoint</code></p><p>The <code>use</code> method lets you mount a child router or middleware at a given path.</p><p><strong>Arguments</strong></p><ul><li><p><strong>path</strong>: <code>string</code> (optional)</p><p>The path of the middleware relative to the base path the Router is mounted at.
If omitted, the middleware handles requests to the base path of the Router.
For information on defining dynamic routes see the section on
<a href=/3.13/develop/foxx-microservices/reference/routers/endpoints/#pathparam class=link>path parameters in the chapter on router endpoints</a>.</p></li><li><p><strong>middleware</strong>: <code>Router | Middleware</code></p><p>An unmounted router object or a <a href=/3.13/develop/foxx-microservices/reference/routers/middleware/ class=link>middleware</a>.</p></li><li><p><strong>name</strong>: <code>string</code> (optional)</p><p>A name that can be used to generate URLs for endpoints of this router.
For more information see the <code>reverse</code> method of the <a href=/3.13/develop/foxx-microservices/reference/routers/request/ class=link>request object</a>.
Has no effect if <code>handler</code> is a Middleware.</p></li></ul><p>Returns an <a href=/3.13/develop/foxx-microservices/reference/routers/endpoints/ class=link>Endpoint</a> for the middleware or child router.</p><div class="box notices cstyle warning"><div class=box-content-container><div class=box-content><i class="fas fa-exclamation-triangle"></i><div class=box-text>When mounting child routers at multiple paths, effects of methods
invoked on each endpoint only affect routes of that endpoint.</div></div></div></div><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>child</span> <span class=o>=</span> <span class=nx>createRouter</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>router</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=s2>&#34;/a&#34;</span><span class=p>,</span> <span class=nx>child</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>router</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=s2>&#34;/b&#34;</span><span class=p>,</span> <span class=nx>child</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nx>queryParam</span><span class=p>(</span><span class=s2>&#34;number&#34;</span><span class=p>,</span> <span class=nx>joi</span><span class=p>.</span><span class=nx>number</span><span class=p>().</span><span class=nx>required</span><span class=p>(),</span> <span class=s2>&#34;Required number parameter.&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>child</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// The query parameter &#34;number&#34; is required if the request was made via &#34;/b&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// but optional if the request was made via &#34;/a&#34;, we can&#39;t rely on it.
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>res</span><span class=p>.</span><span class=nx>json</span><span class=p>({</span><span class=nx>number</span><span class=o>:</span> <span class=nx>req</span><span class=p>.</span><span class=nx>queryParams</span><span class=p>.</span><span class=nx>number</span><span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>});</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>child</span> <span class=o>=</span> <span class=nx>createRouter</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nx>queryParam</span><span class=p>(</span><span class=s2>&#34;number&#34;</span><span class=p>,</span> <span class=nx>joi</span><span class=p>.</span><span class=nx>number</span><span class=p>().</span><span class=nx>required</span><span class=p>(),</span> <span class=s2>&#34;Required number parameter.&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>router</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=s2>&#34;/a&#34;</span><span class=p>,</span> <span class=nx>child</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>router</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=s2>&#34;/b&#34;</span><span class=p>,</span> <span class=nx>child</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>child</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// The query parameter &#34;number&#34; is always required, regardless if the
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// request was made via &#34;/a&#34; or &#34;/b&#34;.
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>res</span><span class=p>.</span><span class=nx>json</span><span class=p>({</span><span class=nx>number</span><span class=o>:</span> <span class=nx>req</span><span class=p>.</span><span class=nx>queryParams</span><span class=p>.</span><span class=nx>number</span><span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>});</span></span></span></code></pre></div><h2 id=additional-metadata>Additional metadata <a href=/3.13/develop/foxx-microservices/reference/routers/#additional-metadata class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>In addition to the router-specific methods, all methods available on
<a href=/3.13/develop/foxx-microservices/reference/routers/endpoints/ class=link>endpoints</a> are also available on
router objects and can be used to define shared defaults.</p><p><strong>Examples</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>router</span><span class=p>.</span><span class=nx>header</span><span class=p>(</span>
</span></span><span class=line><span class=cl>  <span class=s1>&#39;x-common-header&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>joi</span><span class=p>.</span><span class=nx>string</span><span class=p>().</span><span class=nx>required</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>  <span class=s1>&#39;Common header shared by all routes on this router.&#39;</span>
</span></span><span class=line><span class=cl><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>router</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/&#39;</span><span class=p>,</span> <span class=kd>function</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// This route requires the header to be set but we don&#39;t need to explicitly
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// specify that.
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>const</span> <span class=nx>value</span> <span class=o>=</span> <span class=nx>req</span><span class=p>.</span><span class=nx>header</span><span class=p>(</span><span class=s1>&#39;x-common-header&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>});</span></span></span></code></pre></div><nav class=pagination><span class=prev><a class="nav nav-prev link" href=/3.13/develop/foxx-microservices/reference/configuration/><i class="fas fa-chevron-left fa-fw"></i><p>Configuration</p></a></span><span class=next><a class="nav nav-next link" href=/3.13/develop/foxx-microservices/reference/routers/endpoints/><p>Endpoints</p><i class="fas fa-chevron-right fa-fw"></i></a></span></nav></article><div class=toc-container><a class=edit-page aria-label href=https://github.com/arangodb/docs-hugo/edit/main/site/content/3.13/develop/foxx-microservices/reference/routers/_index.md target=_blank><i class="fab fa-fw fa-github edit-page-icon"></i></a><div class=toc><div class=toc-content><div class=toc-header><p>On this page</p></div><nav id=TableOfContents><div class=level-2><a href=#creating-a-router>Creating a router</a></div><div class=level-2><a href=#request-handlers>Request handlers</a></div><div class=level-2><a href=#mounting-child-routers-and-middleware>Mounting child routers and middleware</a></div><div class=level-2><a href=#additional-metadata>Additional metadata</a></div></nav></div></div></div></div></div></section></section></div><button class="back-to-top hidden" onclick=goToTop(event) href=#><i class="fa fa-arrow-up"></i></button><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3>
<script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3></script>
<script type=text/javascript>window.setupDocSearch=function(e){if(!window.docsearch)return;docsearch({appId:"OK3ZBQ5982",apiKey:"500c85ccecb335d507fe4449aed12e1d",indexName:"arangodbdocs",insights:!0,container:"#searchbox",debug:!1,maxResultsPerGroup:10,searchParameters:{facetFilters:[`version:${e}`]}})}</script></body></html>