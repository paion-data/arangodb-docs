<!doctype html><html lang=en><head><link href=//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css rel=stylesheet><link href=//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css rel=stylesheet><link href=/css/fontawesome-all.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fontawesome-all.min.css rel=stylesheet></noscript><link href=/css/featherlight.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/featherlight.min.css rel=stylesheet></noscript><link href=/css/nucleus.css rel=stylesheet><link href=/css/fonts.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fonts.css rel=stylesheet></noscript><link href=/css/theme.css rel=stylesheet><link href=/css/theme-relearn-light.css rel=stylesheet id=variant-style><link href=/css/print.css rel=stylesheet media=print><script src=/js/variant.js?1743775370></script>
<script>var root_url="/",baseUriFull,baseUri=root_url.replace(/\/$/,"");window.T_Copy_to_clipboard="",window.T_Copied_to_clipboard="",window.T_Copy_link_to_clipboard="",window.T_Link_copied_to_clipboard="",baseUriFull="http://localhost/",window.variants&&variants.init(["relearn-light"])</script><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.119.0"><meta itemprop=description property="description" content="You can gain access to a protected ArangoDB server via HTTP authentication using a username and password, or a JSON Web Tokens (JWT) generated from the user credentials or the JWT secret of the deployment"><meta property="og:url" content="http://localhost/3.13/develop/http-api/authentication/"><meta property="og:title" content="HTTP interface for authentication"><meta property="og:type" content="website"><meta property="og:description" content="You can gain access to a protected ArangoDB server via HTTP authentication using a username and password, or a JSON Web Tokens (JWT) generated from the user credentials or the JWT secret of the deployment"><meta name=docsearch:version content="3.13"><title>HTTP interface for authentication | ArangoDB Documentation</title><link href=/images/favicon.png rel=icon type=image/png><script src=/js/jquery.min.js></script>
<script src=/js/clipboard.min.js?1743775370 defer></script>
<script src=/js/featherlight.min.js?1743775370 defer></script>
<script>var versions=[{alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"},{alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"},{alias:"3.11",deprecated:!1,name:"3.11",version:"3.11.13"},{alias:"3.10",deprecated:!0,name:"3.10",version:"3.10.14"}]</script><script>var develVersion={alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"}</script><script>var stableVersion={alias:"stable",deprecated:!1,name:"3.12",version:"3.12.4"}</script><script src=/js/codeblocks.js?1743775370 defer></script>
<script src=/js/theme.js?1743775370 defer></script></head><body><noscript>You need to enable JavaScript to use the ArangoDB documentation.</noscript><div id=page-wrapper class=page_content_splash style=height:auto;opacity:0><section id=page-main><section class=page-container id=page-container><header id=header style="transition:.5s padding ease-out,.15s" class="zn_header_white header-splash-new nav-down header-splash-wrap header1"><div class=header-block-left><div class=mobile-menu-toggle><button id=sidebar-toggle-navigation onclick=showSidebarHandler()><svg width="1.33em" height="1.33em" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button></div><div class=version-logo-container><div class="logo-container hasinfocard_img arangodb-logo-large"><div class=logo><a href=https://www.arangodb.com/><img src=/images/logo_main.png alt=ArangoDB title></a></div></div><div class=arangodb-logo-small><a href=https://arangodb.com/><img alt="ArangoDB Logo" src=/images/ArangoDB_Logo_White_small.png></a></div></div></div><div class=container-right style=display:hidden></div><div class=search-and-version-container><a href=# class="home-link is-current" aria-label="Go to home page" onclick=goToHomepage(event)></a><div id=searchbox></div><script type=text/javascript>const SCRIPT_SRC="https://unpkg.com/@inkeep/widgets-embed@0.2.290/dist/embed.js";function loadAndInitializeInkeep(){if(document.querySelector(`script[src="${SCRIPT_SRC}]"`))return;const e=document.createElement("script");e.type="module",e.src=SCRIPT_SRC,e.onload=initializeInkeep,document.head.appendChild(e)}function initializeInkeep(){const e=Inkeep({integrationId:"clo4lx6jk0000s601cp21x2ok",apiKey:"13b4e56966a76e86c6ff359cd795ee6a0412f751d75d6383",organizationId:"org_HGBkkzGAa4KeGJGh",organizationDisplayName:"ArangoDB",primaryBrandColor:"#80a54d",stringReplacementRules:[{matchingRule:{ruleType:"Substring",string:"Arangograph"},replaceWith:"ArangoGraph"},{matchingRule:{ruleType:"Substring",string:"Aql"},replaceWith:"AQL"},{matchingRule:{ruleType:"Substring",string:"Arangodb"},replaceWith:"ArangoDB"}],customCardSettings:[{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arango.qubitpi.org"}},searchTabLabel:"Official Docs"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"developer.arangodb.com"}},searchTabLabel:"Developer Hub"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arangodb.com"}},searchTabLabel:"Home"}]}),t=e.embed({componentType:"ChatButton",properties:{stylesheetUrls:["/css/fonts.css"],fixedPositionXOffset:"52px",baseSettings:{theme:{primaryColors:{textColorOnPrimary:"white"},tokens:{fonts:{body:"'Inter'",heading:"'Inter'"},zIndex:{overlay:1e4,modal:11e3,popover:12e3,skipLink:13e3,toast:14e3,tooltip:15e3}}}},aiChatSettings:{botAvatarSrcUrl:"/images/ArangoDB_Logo_White_small.png",quickQuestions:["What can you do with AQL that is not feasible with SQL?","How do I search for objects within arrays?","Where can I deploy my ArangoDB instance?"],getHelpCallToActions:[{icon:{builtIn:"FaSlack"},name:"Slack",url:"https://arangodb-community.slack.com/"}]},searchSettings:{tabSettings:{isAllTabEnabled:!1,alwaysDisplayedTabs:["Official Docs","Developer Hub","Home"]}}}})}loadAndInitializeInkeep()</script><div class=version-selector><select id=arangodb-version onchange=changeVersion()><option value=3.13>3.13</option><option value=3.12>3.12</option><option value=3.11>3.11</option><option value=3.10>3.10</option><option value=3.9>3.9</option><option value=3.8>3.8</option></select></div></div></header><iframe src=/nav.html title=description id=menu-iframe class="menu-iframe active" style=opacity:0></iframe><div class=container-main><div class=row-main><nav id=breadcrumbs><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><meta itemprop=itemListOrder content="Descending"><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="3.13"><a itemprop=item class=link href=/3.13/><span itemprop=name class=breadcrumb-entry>3.13.0</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Develop"><a itemprop=item class=link href=/3.13/develop/><span itemprop=name class=breadcrumb-entry>Develop</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="HTTP API"><a itemprop=item class=link href=/3.13/develop/http-api/><span itemprop=name class=breadcrumb-entry>HTTP API</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Authentication"><a itemprop=item class=link href=/3.13/develop/http-api/authentication/><span itemprop=name class=breadcrumb-entry>Authentication</span></a></li></ol></nav><article class=default><div class="box notices cstyle warning"><div class=box-content-container><div class=box-content><i class="fas fa-exclamation-triangle"></i><div class=box-text><p>ArangoDB v3.13 is under development and not released yet.
This documentation is not final and potentially incomplete.</p></div></div></div></div><hgroup><h1>HTTP interface for authentication</h1><p class=lead>You can gain access to a protected ArangoDB server via HTTP authentication using a username and password, or a JSON Web Tokens (JWT) generated from the user credentials or the JWT secret of the deployment</p></hgroup><p>Client authentication can be achieved by using the <code>Authorization</code> HTTP header
in client requests. ArangoDB supports authentication via HTTP Basic or JWT.</p><p>Authentication is turned on by default for all internal database APIs but
turned off for custom Foxx apps. To toggle authentication for incoming
requests to the internal database APIs, use the
<a href=/3.13/components/arangodb-server/options/#--serverauthentication class=link><code>--server.authentication</code></a>
startup option. This option is turned on by default so authentication is
required for the database APIs.</p><div class="box notices cstyle security"><div class=box-content-container><div class=box-content><i class="fas fa-shield-alt"></i><div class=box-text>Requests using the HTTP <code>OPTIONS</code> method are answered by
ArangoDB in any case, even if no authentication data is sent by the client or if
the authentication data is wrong. This is required for handling CORS preflight
requests (see <a href=/3.13/develop/http-api/general-request-handling/#cross-origin-resource-sharing-cors-requests class=link>Cross Origin Resource Sharing requests</a>).
The response to an HTTP <code>OPTIONS</code> request is generic and doesn&rsquo;t expose any
private data.</div></div></div></div><p>There is an additional option to control authentication for custom Foxx apps. The
<a href=/3.13/components/arangodb-server/options/#--serverauthentication-system-only class=link><code>--server.authentication-system-only</code></a>
startup option controls whether authentication is required only for requests to
the internal database APIs and the admin interface. It is turned on by default,
meaning that other APIs (this includes custom Foxx apps) do not require
authentication.</p><p>The default values allow exposing a public custom Foxx API built with ArangoDB
to the outside world without the need for HTTP authentication, but still
protecting the usage of the internal database APIs (i.e. <code>/_api/</code>, <code>/_admin/</code>)
with HTTP authentication.</p><p>If the server is started with the <code>--server.authentication-system-only</code>
option set to <code>false</code>, all incoming requests need HTTP authentication
if the server is configured to require HTTP authentication
(i.e. <code>--server.authentication true</code>). Setting the option to <code>true</code>
makes the server require authentication only for requests to the internal
database APIs and allows unauthenticated requests to all other URLs.</p><p>Here is a short summary:</p><ul><li><code>--server.authentication true --server.authentication-system-only true</code>:
This requires authentication for all requests to the internal database
APIs but not custom Foxx apps. This is the default setting.</li><li><code>--server.authentication true --server.authentication-system-only false</code>:
This requires authentication for all requests (including custom Foxx apps).</li><li><code>--server.authentication false</code>: Authentication is disabled for all requests.</li></ul><p>Whenever authentication is required and the client has not yet authenticated,
ArangoDB returns <strong>HTTP 401</strong> (Unauthorized). It also sends the
<code>Www-Authenticate</code> response header, indicating that the client should prompt
the user for username and password if supported. If the client is a browser,
then sending back this header normally triggers the display of the
browser-side HTTP authentication dialog. As showing the browser HTTP
authentication dialog is undesired in AJAX requests, ArangoDB can be told to
not send the <code>Www-Authenticate</code> header back to the client. Whenever a client
sends the <code>X-Omit-Www-Authenticate</code> HTTP header (with an arbitrary value) to
the server, ArangoDB only sends status code 401, but no <code>Www-Authenticate</code>
header. This allows clients to implement credentials handling and bypassing
the browser&rsquo;s built-in dialog.</p><h2 id=http-basic-authentication>HTTP Basic Authentication <a href=/3.13/develop/http-api/authentication/#http-basic-authentication class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>ArangoDB supports basic authentication with a user name and password. The name
and the password of an ArangoDB user account need to be separated by a colon and
the entire string needs to be Base64-encoded. The resulting value can be used
in the <code>Authorization</code> header of an HTTP request, indicating that the
authorization scheme is <code>Basic</code>.</p><p>For example, if the name is <code>user</code> and the password <code>pass</code>, the temporary string
that needs to be encoded is <code>user:pass</code>. The Base64-encoded value is
<code>dXNlcjpwYXNz</code> (e.g. using the <code>btoa()</code> JavaScript function in a browser).
The HTTP request header to authenticate is a follows:</p><pre tabindex=0><code>Authorization: Basic dXNlcjpwYXNz
</code></pre><p>If you use a tool like cURL, you can manually specify this header as follows:</p><pre tabindex=0><code>curl -H &#39;Authorization: Basic dXNlcjpwYXNz&#39; ...
</code></pre><p>However, cURL can also take care of the authentication for you:</p><pre tabindex=0><code>curl -u user:pass ...
</code></pre><div class="box notices cstyle security"><div class=box-content-container><div class=box-content><i class="fas fa-shield-alt"></i><div class=box-text>Encoding credentials using the Base64 scheme does not encrypt them.
Base64-encoded strings can easily be decoded. Be careful not to expose the
encoded credentials by accident. It is recommended to secure connections with
ArangoDB servers using TLS for encryption in transit.</div></div></div></div><h2 id=bearer-token-authentication>Bearer Token Authentication <a href=/3.13/develop/http-api/authentication/#bearer-token-authentication class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>ArangoDB uses a standard JWT-based authentication method.
To authenticate via JWT, you must first obtain a JWT token with a signature
generated via HMAC with SHA-256. The secret may either be set using
<code>--server.jwt-secret</code> or it is randomly generated on server startup.</p><p>For more information on JWT please consult RFC7519 and <a href=https://jwt.io target=_blank rel="noopener noreferrer" class=link>jwt.io</a>&nbsp;<i class="fas fa-external-link-alt"></i>.</p><h3 id=jwt-user-tokens>JWT user tokens <a href=/3.13/develop/http-api/authentication/#jwt-user-tokens class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>To authenticate with a specific user you need to supply a JWT token containing
the <code>preferred_username</code> field with the username.
You can either let ArangoDB generate this token for you via an API call
or you can generate it yourself (only if you know the JWT secret).</p><p>ArangoDB offers a RESTful API to generate user tokens for you if you know the
username and password. To do so send a POST request to:</p><pre tabindex=0><code>/_open/auth
</code></pre><p>… containing <code>username</code> and <code>password</code> JSON-encoded like so:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;username&#34;</span><span class=p>:</span> <span class=s2>&#34;root&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;password&#34;</span><span class=p>:</span> <span class=s2>&#34;rootPassword&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>On success, the endpoint returns a <strong>200 OK</strong> and an answer containing
the JWT in a JSON-encoded object like so:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span> <span class=nt>&#34;jwt&#34;</span><span class=p>:</span> <span class=s2>&#34;eyJhbGciOiJIUzI1NiI..x6EfI&#34;</span> <span class=p>}</span>
</span></span></code></pre></div><p>This JWT should then be used within the Authorization HTTP header in subsequent
requests:</p><pre tabindex=0><code>Authorization: Bearer eyJhbGciOiJIUzI1NiI..x6EfI
</code></pre><div class="box notices cstyle security"><div class=box-content-container><div class=box-content><i class="fas fa-shield-alt"></i><div class=box-text>The JWT token expires after <strong>one hour</strong> by default and needs to be updated.
You can configure the token lifetime via the <code>--server.session-timeout</code>
startup option.</div></div></div></div><p>You can find the expiration date of the JWT token in the <code>exp</code> field, encoded as
Unix timestamp in seconds.
Please note that all JWT tokens must contain the <code>iss</code> field with string value
<code>arangodb</code>. As an example the decoded JWT body would look like this:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;exp&#34;</span><span class=p>:</span> <span class=mi>1540381557</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;iat&#34;</span><span class=p>:</span> <span class=mf>1537789.55727901</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;iss&#34;</span><span class=p>:</span> <span class=s2>&#34;arangodb&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;preferred_username&#34;</span><span class=p>:</span> <span class=s2>&#34;root&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h4 id=create-a-jwt-session-token>Create a JWT session token <a href=/3.13/develop/http-api/authentication/#create-a-jwt-session-token class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h4><div class=openapi><div class=endpoint><span class="endpoint-method regular-font bold-text method-post">POST</span>
<span class=endpoint-path>/_open/auth</span></div><div class="openapi-description regular-font"><p>Obtain a JSON Web Token (JWT) from the credentials of an ArangoDB user account.
You can use the JWT in the <code>Authorization</code> HTTP header as a <code>Bearer</code> token to
authenticate requests.</p><p>The lifetime for the token is controlled by the <code>--server.session-timeout</code>
startup option.</p></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Request Body <span class=openapi-content-type>application/json</span> <span class=openapi-property-type>object</span></div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=create-a-jwt-session-token_body_password><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">password*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#create-a-jwt-session-token_body_password><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The password of the ArangoDB user.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-jwt-session-token_body_username><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">username*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#create-a-jwt-session-token_body_username><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The name of an ArangoDB user.</p></div></details></li></ul></div></div><div class="responses regular-font"><div class=openapi-table-title>Responses</div><div class=openapi-responses><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=create-a-jwt-session-token_res_200><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">200</span>
<span class="openapi-property-type bold-text">OK</span>
<a href=#create-a-jwt-session-token_res_200><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font></p><ul class=openapi-table><div class=openapi-table-title>Response Body <span class=openapi-content-type>application/json</span> <span class=openapi-property-type>object</span></div><li class="openapi-table-row regular-font"><details id=create-a-jwt-session-token_res_200_jwt><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">jwt*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#create-a-jwt-session-token_res_200_jwt><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The encoded JWT session token.</p></div></details></li></ul></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-jwt-session-token_res_400><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">400</span>
<span class="openapi-property-type bold-text">Bad Request</span>
<a href=#create-a-jwt-session-token_res_400><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>An HTTP <code>400 Bad Request</code> status code is returned if the request misses required
attributes or if it is otherwise malformed.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-jwt-session-token_res_401><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">401</span>
<span class="openapi-property-type bold-text">Unauthorized</span>
<a href=#create-a-jwt-session-token_res_401><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>An HTTP <code>401 Unauthorized</code> status code is returned if the user credentials are
incorrect.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-jwt-session-token_res_404><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">404</span>
<span class="openapi-property-type bold-text">Not Found</span>
<a href=#create-a-jwt-session-token_res_404><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>An HTTP <code>404 Not Found</code> status code is returned if the server has authentication
disabled and the endpoint is thus not available.</p></div></details></li></ul></div></div></div><h3 id=jwt-superuser-tokens>JWT superuser tokens <a href=/3.13/develop/http-api/authentication/#jwt-superuser-tokens class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>To access specific internal APIs as well as Agency and DB-Server instances a
token generated via <code>POST /_open/auth</code> is not good enough. For these special
APIs, you need to generate a special JWT token which grants superuser
access. Note that using superuser access for normal database operations is
<strong>not advised</strong>.</p><div class="box notices cstyle security"><div class=box-content-container><div class=box-content><i class="fas fa-shield-alt"></i><div class=box-text>It is only possible to generate this JWT token with the knowledge of the
JWT secret.</div></div></div></div><p>For your convenience it is possible to generate this token via the
<a href=/3.13/components/tools/arangodb-starter/security/#using-authentication-tokens class=link>ArangoDB starter CLI</a>.</p><p>Should you wish to generate the JWT token yourself with a tool of your choice,
you need to include the correct body. The body must contain the <code>iss</code> field
with string value <code>arangodb</code> and the <code>server_id</code> field with an arbitrary string
identifier:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;exp&#34;</span><span class=p>:</span> <span class=mi>1537900279</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;iat&#34;</span><span class=p>:</span> <span class=mi>1537800279</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;iss&#34;</span><span class=p>:</span> <span class=s2>&#34;arangodb&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;server_id&#34;</span><span class=p>:</span> <span class=s2>&#34;myclient&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>For example to generate a token via the
<a href=https://www.npmjs.com/package/jwtgen target=_blank rel="noopener noreferrer" class=link>jwtgen tool</a>&nbsp;<i class="fas fa-external-link-alt"></i>
(note the lifetime of one hour):</p><pre tabindex=0><code>jwtgen -s &lt;my-secret&gt; -e 3600 -v -a &#34;HS256&#34; -c &#39;iss=arangodb&#39; -c &#39;server_id=myclient&#39;
curl -v -H &#34;Authorization: bearer $(jwtgen -s &lt;my-secret&gt; -e 3600 -a &#34;HS256&#34; -c &#39;iss=arangodb&#39; -c &#39;server_id=myclient&#39;)&#34; http://&lt;database-ip&gt;:8529/_api/version
</code></pre><h2 id=hot-reload-jwt-secrets>Hot-reload JWT secrets <a href=/3.13/develop/http-api/authentication/#hot-reload-jwt-secrets class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p class=labels><span class=label>ArangoDB Enterprise Edition</span></p><p>To reload the JWT secrets of a local arangod process without a restart, you
may use the following RESTful API. A <code>POST</code> request reloads the secret, a
<code>GET</code> request may be used to load information about the currently used secrets.</p><h3 id=get-information-about-the-loaded-jwt-secrets>Get information about the loaded JWT secrets <a href=/3.13/develop/http-api/authentication/#get-information-about-the-loaded-jwt-secrets class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><div class=openapi><div class=endpoint><span class="endpoint-method regular-font bold-text method-get">GET</span>
<span class=endpoint-path>/_db/{database-name}/_admin/server/jwt</span></div><div class="openapi-description regular-font"><p>Get information about the currently loaded secrets.</p><p>To utilize the API a superuser JWT token is necessary, otherwise the response
will be <em>HTTP 403 Forbidden</em>.</p></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Path Parameters</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=get-information-about-the-loaded-jwt-secrets_path_database-name><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">database-name*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#get-information-about-the-loaded-jwt-secrets_path_database-name><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The name of a database. Which database you use doesn&rsquo;t matter as long
as the user account you authenticate with has at least read access
to this database. If the <code>--server.harden</code> startup option is enabled,
administrate access to the <code>_system</code> database is required.</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Query Parameters</div><div><ul class=openapi-table></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>HTTP Headers</div><div><ul class=openapi-table></ul></div></div><div class="responses regular-font"><div class=openapi-table-title>Responses</div><div class=openapi-responses><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=get-information-about-the-loaded-jwt-secrets_res_200><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">200</span>
<span class="openapi-property-type bold-text">OK</span>
<a href=#get-information-about-the-loaded-jwt-secrets_res_200><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font></p><ul class=openapi-table><div class=openapi-table-title>Response Body <span class=openapi-content-type>application/json</span> <span class=openapi-property-type>object</span></div>The reply with the JWT secrets information.<li class="openapi-table-row regular-font"><details id=get-information-about-the-loaded-jwt-secrets_res_200_code><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">code*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#get-information-about-the-loaded-jwt-secrets_res_200_code><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>the HTTP status code - 200 in this case</p></div></details></li><li class="openapi-table-row regular-font"><details id=get-information-about-the-loaded-jwt-secrets_res_200_error><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">error*</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#get-information-about-the-loaded-jwt-secrets_res_200_error><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>boolean flag to indicate whether an error occurred (<code>false</code> in this case)</p></div></details></li><li class="openapi-table-row regular-font"><details id=get-information-about-the-loaded-jwt-secrets_res_200_result><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">result*</span>
<span class=openapi-property-type><span class=bold-text>object</span></span>
<a href=#get-information-about-the-loaded-jwt-secrets_res_200_result><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The result object.</p><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=get-information-about-the-loaded-jwt-secrets_res_200_result_active><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">active*</span>
<span class=openapi-property-type><span class=bold-text>object</span></span>
<a href=#get-information-about-the-loaded-jwt-secrets_res_200_result_active><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>An object with the SHA-256 hash of the active secret.</p></div></details></li><li class="openapi-table-row regular-font"><details id=get-information-about-the-loaded-jwt-secrets_res_200_result_passive><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">passive*</span>
<span class=openapi-property-type><span class=bold-text>array of objects</span></span>
<a href=#get-information-about-the-loaded-jwt-secrets_res_200_result_passive><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>An array of objects with the SHA-256 hashes of the passive secrets.</p><p>Can be empty.</p></p></div></details></li></ul></div></details></li></ul></div></details></li><li class="openapi-table-row regular-font"><details id=get-information-about-the-loaded-jwt-secrets_res_403><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">403</span>
<span class="openapi-property-type bold-text">Forbidden</span>
<a href=#get-information-about-the-loaded-jwt-secrets_res_403><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>if the request was not authenticated as a user with sufficient rights</p></div></details></li></ul></div></div></div><h3 id=hot-reload-the-jwt-secrets-from-disk>Hot-reload the JWT secret(s) from disk <a href=/3.13/develop/http-api/authentication/#hot-reload-the-jwt-secrets-from-disk class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><div class=openapi><div class=endpoint><span class="endpoint-method regular-font bold-text method-post">POST</span>
<span class=endpoint-path>/_admin/server/jwt</span></div><div class="openapi-description regular-font"><p>Sending a request without payload to this endpoint reloads the JWT secret(s)
from disk. Only the files specified via the arangod startup option
<code>--server.jwt-secret-keyfile</code> or <code>--server.jwt-secret-folder</code> are used.
It is not possible to change the locations where files are loaded from
without restarting the process.</p><p>To utilize the API a superuser JWT token is necessary, otherwise the response
will be <em>HTTP 403 Forbidden</em>.</p></div><div class="responses regular-font"><div class=openapi-table-title>Responses</div><div class=openapi-responses><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=hot-reload-the-jwt-secrets-from-disk_res_200><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">200</span>
<span class="openapi-property-type bold-text">OK</span>
<a href=#hot-reload-the-jwt-secrets-from-disk_res_200><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font></p><ul class=openapi-table><div class=openapi-table-title>Response Body <span class=openapi-content-type>application/json</span> <span class=openapi-property-type>object</span></div>The reply with the JWT secrets information.<li class="openapi-table-row regular-font"><details id=hot-reload-the-jwt-secrets-from-disk_res_200_code><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">code*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#hot-reload-the-jwt-secrets-from-disk_res_200_code><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>the HTTP status code - 200 in this case</p></div></details></li><li class="openapi-table-row regular-font"><details id=hot-reload-the-jwt-secrets-from-disk_res_200_error><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">error*</span>
<span class=openapi-property-type><span class=bold-text>boolean</span></span>
<a href=#hot-reload-the-jwt-secrets-from-disk_res_200_error><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>boolean flag to indicate whether an error occurred (<code>false</code> in this case)</p></div></details></li><li class="openapi-table-row regular-font"><details id=hot-reload-the-jwt-secrets-from-disk_res_200_result><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">result*</span>
<span class=openapi-property-type><span class=bold-text>object</span></span>
<a href=#hot-reload-the-jwt-secrets-from-disk_res_200_result><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The result object.</p><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=hot-reload-the-jwt-secrets-from-disk_res_200_result_active><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">active*</span>
<span class=openapi-property-type><span class=bold-text>object</span></span>
<a href=#hot-reload-the-jwt-secrets-from-disk_res_200_result_active><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>An object with the SHA-256 hash of the active secret.</p></div></details></li><li class="openapi-table-row regular-font"><details id=hot-reload-the-jwt-secrets-from-disk_res_200_result_passive><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">passive*</span>
<span class=openapi-property-type><span class=bold-text>array of objects</span></span>
<a href=#hot-reload-the-jwt-secrets-from-disk_res_200_result_passive><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>An array of objects with the SHA-256 hashes of the passive secrets.</p><p>Can be empty.</p></p></div></details></li></ul></div></details></li></ul></div></details></li><li class="openapi-table-row regular-font"><details id=hot-reload-the-jwt-secrets-from-disk_res_403><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">403</span>
<span class="openapi-property-type bold-text">Forbidden</span>
<a href=#hot-reload-the-jwt-secrets-from-disk_res_403><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>if the request was not authenticated as a user with sufficient rights</p></div></details></li></ul></div></div></div><p>Example result:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;error&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;code&#34;</span><span class=p>:</span> <span class=mi>200</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;result&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;active&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;sha256&#34;</span><span class=p>:</span> <span class=s2>&#34;c6c1021286dfe870b7050f9e704df93c7f1de3c89dbdadc3fb30394bebd81e97&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;passive&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>      <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;sha256&#34;</span><span class=p>:</span> <span class=s2>&#34;6d2fe32dc4249ef7e7359c6d874fffbbf335e832e49a2681236e1b686af78794&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;sha256&#34;</span><span class=p>:</span> <span class=s2>&#34;448a28491967ea4f7599f454af261a685153c27a7d5748456022565947820fb9&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;sha256&#34;</span><span class=p>:</span> <span class=s2>&#34;6745d49264bdfc2e89d4333fe88f0fce94615fdbdb8990e95b5fda0583336da8&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><nav class=pagination><span class=prev><a class="nav nav-prev link" href=/3.13/develop/http-api/general-request-handling/><i class="fas fa-chevron-left fa-fw"></i><p>General request handling</p></a></span><span class=next><a class="nav nav-next link" href=/3.13/develop/http-api/users/><p>Users</p><i class="fas fa-chevron-right fa-fw"></i></a></span></nav></article><div class=toc-container><a class=edit-page aria-label href=https://github.com/arangodb/docs-hugo/edit/main/site/content/3.13/develop/http-api/authentication.md target=_blank><i class="fab fa-fw fa-github edit-page-icon"></i></a><div class=toc><div class=toc-content><div class=toc-header><p>On this page</p></div><nav id=TableOfContents><div class=level-2><a href=#http-basic-authentication>HTTP Basic Authentication</a></div><div class=level-2><a href=#bearer-token-authentication>Bearer Token Authentication</a></div><div class=level-3><a href=#jwt-user-tokens>JWT user tokens</a></div><div class=level-4><a href=#create-a-jwt-session-token>Create a JWT session token</a></div><div class=level-3><a href=#jwt-superuser-tokens>JWT superuser tokens</a></div><div class=level-2><a href=#hot-reload-jwt-secrets>Hot-reload JWT secrets</a></div><div class=level-3><a href=#get-information-about-the-loaded-jwt-secrets>Get information about the loaded JWT secrets</a></div><div class=level-3><a href=#hot-reload-the-jwt-secrets-from-disk>Hot-reload the JWT secret(s) from disk</a></div></nav></div></div></div></div></div></section></section></div><button class="back-to-top hidden" onclick=goToTop(event) href=#><i class="fa fa-arrow-up"></i></button><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3>
<script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3></script>
<script type=text/javascript>window.setupDocSearch=function(e){if(!window.docsearch)return;docsearch({appId:"OK3ZBQ5982",apiKey:"500c85ccecb335d507fe4449aed12e1d",indexName:"arangodbdocs",insights:!0,container:"#searchbox",debug:!1,maxResultsPerGroup:10,searchParameters:{facetFilters:[`version:${e}`]}})}</script></body></html>